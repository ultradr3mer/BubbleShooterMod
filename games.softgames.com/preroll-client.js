! function() {
    "use strict";

    function e(e) {
        if (!e || !window) return;
        const t = document.createElement("style");
        return t.setAttribute("type", "text/css"), t.innerHTML = e, document.head.appendChild(t), e
    }

    function t(e, t, n, r, i, a, o) {
        try {
            var s = e[a](o),
                u = s.value
        } catch (e) {
            return void n(e)
        }
        s.done ? t(u) : Promise.resolve(u).then(r, i)
    }

    function n(e) {
        return function() {
            var n = this,
                r = arguments;
            return new Promise((function(i, a) {
                var o = e.apply(n, r);

                function s(e) {
                    t(o, i, a, s, u, "next", e)
                }

                function u(e) {
                    t(o, i, a, s, u, "throw", e)
                }
                s(void 0)
            }))
        }
    }
    var r = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

    function i(e) {
        if (e.__esModule) return e;
        var t = Object.defineProperty({}, "__esModule", {
            value: !0
        });
        return Object.keys(e).forEach((function(n) {
            var r = Object.getOwnPropertyDescriptor(e, n);
            Object.defineProperty(t, n, r.get ? r : {
                enumerable: !0,
                get: function() {
                    return e[n]
                }
            })
        })), t
    }
    var a = {
        exports: {}
    };
    ! function(e) {
        var t = function(e) {
            var t, n = Object.prototype,
                r = n.hasOwnProperty,
                i = "function" == typeof Symbol ? Symbol : {},
                a = i.iterator || "@@iterator",
                o = i.asyncIterator || "@@asyncIterator",
                s = i.toStringTag || "@@toStringTag";

            function u(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t]
            }
            try {
                u({}, "")
            } catch (e) {
                u = function(e, t, n) {
                    return e[t] = n
                }
            }

            function l(e, t, n, r) {
                var i = t && t.prototype instanceof g ? t : g,
                    a = Object.create(i.prototype),
                    o = new k(r || []);
                return a._invoke = function(e, t, n) {
                    var r = d;
                    return function(i, a) {
                        if (r === p) throw new Error("Generator is already running");
                        if (r === f) {
                            if ("throw" === i) throw a;
                            return I()
                        }
                        for (n.method = i, n.arg = a;;) {
                            var o = n.delegate;
                            if (o) {
                                var s = E(o, n);
                                if (s) {
                                    if (s === m) continue;
                                    return s
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg;
                            else if ("throw" === n.method) {
                                if (r === d) throw r = f, n.arg;
                                n.dispatchException(n.arg)
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = p;
                            var u = c(e, t, n);
                            if ("normal" === u.type) {
                                if (r = n.done ? f : h, u.arg === m) continue;
                                return {
                                    value: u.arg,
                                    done: n.done
                                }
                            }
                            "throw" === u.type && (r = f, n.method = "throw", n.arg = u.arg)
                        }
                    }
                }(e, n, o), a
            }

            function c(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    }
                } catch (e) {
                    return {
                        type: "throw",
                        arg: e
                    }
                }
            }
            e.wrap = l;
            var d = "suspendedStart",
                h = "suspendedYield",
                p = "executing",
                f = "completed",
                m = {};

            function g() {}

            function y() {}

            function v() {}
            var b = {};
            u(b, a, (function() {
                return this
            }));
            var T = Object.getPrototypeOf,
                _ = T && T(T(x([])));
            _ && _ !== n && r.call(_, a) && (b = _);
            var S = v.prototype = g.prototype = Object.create(b);

            function w(e) {
                ["next", "throw", "return"].forEach((function(t) {
                    u(e, t, (function(e) {
                        return this._invoke(t, e)
                    }))
                }))
            }

            function A(e, t) {
                function n(i, a, o, s) {
                    var u = c(e[i], e, a);
                    if ("throw" !== u.type) {
                        var l = u.arg,
                            d = l.value;
                        return d && "object" == typeof d && r.call(d, "__await") ? t.resolve(d.__await).then((function(e) {
                            n("next", e, o, s)
                        }), (function(e) {
                            n("throw", e, o, s)
                        })) : t.resolve(d).then((function(e) {
                            l.value = e, o(l)
                        }), (function(e) {
                            return n("throw", e, o, s)
                        }))
                    }
                    s(u.arg)
                }
                var i;
                this._invoke = function(e, r) {
                    function a() {
                        return new t((function(t, i) {
                            n(e, r, t, i)
                        }))
                    }
                    return i = i ? i.then(a, a) : a()
                }
            }

            function E(e, n) {
                var r = e.iterator[n.method];
                if (r === t) {
                    if (n.delegate = null, "throw" === n.method) {
                        if (e.iterator.return && (n.method = "return", n.arg = t, E(e, n), "throw" === n.method)) return m;
                        n.method = "throw", n.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return m
                }
                var i = c(r, e.iterator, n.arg);
                if ("throw" === i.type) return n.method = "throw", n.arg = i.arg, n.delegate = null, m;
                var a = i.arg;
                return a ? a.done ? (n[e.resultName] = a.value, n.next = e.nextLoc, "return" !== n.method && (n.method = "next", n.arg = t), n.delegate = null, m) : a : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, m)
            }

            function C(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
            }

            function P(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t
            }

            function k(e) {
                this.tryEntries = [{
                    tryLoc: "root"
                }], e.forEach(C, this), this.reset(!0)
            }

            function x(e) {
                if (e) {
                    var n = e[a];
                    if (n) return n.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var i = -1,
                            o = function n() {
                                for (; ++i < e.length;)
                                    if (r.call(e, i)) return n.value = e[i], n.done = !1, n;
                                return n.value = t, n.done = !0, n
                            };
                        return o.next = o
                    }
                }
                return {
                    next: I
                }
            }

            function I() {
                return {
                    value: t,
                    done: !0
                }
            }
            return y.prototype = v, u(S, "constructor", v), u(v, "constructor", y), y.displayName = u(v, s, "GeneratorFunction"), e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === y || "GeneratorFunction" === (t.displayName || t.name))
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, v) : (e.__proto__ = v, u(e, s, "GeneratorFunction")), e.prototype = Object.create(S), e
            }, e.awrap = function(e) {
                return {
                    __await: e
                }
            }, w(A.prototype), u(A.prototype, o, (function() {
                return this
            })), e.AsyncIterator = A, e.async = function(t, n, r, i, a) {
                void 0 === a && (a = Promise);
                var o = new A(l(t, n, r, i), a);
                return e.isGeneratorFunction(n) ? o : o.next().then((function(e) {
                    return e.done ? e.value : o.next()
                }))
            }, w(S), u(S, s, "Generator"), u(S, a, (function() {
                return this
            })), u(S, "toString", (function() {
                return "[object Generator]"
            })), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(),
                    function n() {
                        for (; t.length;) {
                            var r = t.pop();
                            if (r in e) return n.value = r, n.done = !1, n
                        }
                        return n.done = !0, n
                    }
            }, e.values = x, k.prototype = {
                constructor: k,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(P), !e)
                        for (var n in this) "t" === n.charAt(0) && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t)
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var n = this;

                    function i(r, i) {
                        return s.type = "throw", s.arg = e, n.next = r, i && (n.method = "next", n.arg = t), !!i
                    }
                    for (var a = this.tryEntries.length - 1; a >= 0; --a) {
                        var o = this.tryEntries[a],
                            s = o.completion;
                        if ("root" === o.tryLoc) return i("end");
                        if (o.tryLoc <= this.prev) {
                            var u = r.call(o, "catchLoc"),
                                l = r.call(o, "finallyLoc");
                            if (u && l) {
                                if (this.prev < o.catchLoc) return i(o.catchLoc, !0);
                                if (this.prev < o.finallyLoc) return i(o.finallyLoc)
                            } else if (u) {
                                if (this.prev < o.catchLoc) return i(o.catchLoc, !0)
                            } else {
                                if (!l) throw new Error("try statement without catch or finally");
                                if (this.prev < o.finallyLoc) return i(o.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                        var i = this.tryEntries[n];
                        if (i.tryLoc <= this.prev && r.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                            var a = i;
                            break
                        }
                    }
                    a && ("break" === e || "continue" === e) && a.tryLoc <= t && t <= a.finallyLoc && (a = null);
                    var o = a ? a.completion : {};
                    return o.type = e, o.arg = t, a ? (this.method = "next", this.next = a.finallyLoc, m) : this.complete(o)
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), m
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), P(n), m
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var i = r.arg;
                                P(n)
                            }
                            return i
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(e, n, r) {
                    return this.delegate = {
                        iterator: x(e),
                        resultName: n,
                        nextLoc: r
                    }, "next" === this.method && (this.arg = t), m
                }
            }, e
        }(e.exports);
        try {
            regeneratorRuntime = t
        } catch (e) {
            "object" == typeof globalThis ? globalThis.regeneratorRuntime = t : Function("r", "regeneratorRuntime = r")(t)
        }
    }(a);
    var o = a.exports;
    var s = function(e, t, n) {
            let r, i = null;
            n && (i = n), "undefined" == typeof window || i || (i = window);
            let a = {
                log() {},
                error() {}
            };
            i && i.console ? a = i.console : "undefined" != typeof console && (a = console), e = e || "anonymous";
            let o = function(e, t, n, r) {
                return [`%c [${e}] %c [${t.name}] %c [${n}] `, "color: #666", `font-weight:bold; color: ${t.color}`, "font-weight:bold; color: #940060"].concat(l(r))
            };
            i || (o = function(e, t, n, r) {
                return [e, t.name, n].concat(l(r))
            });
            const s = {
                "-1": {
                    name: "DEBUG",
                    color: "#0000FF",
                    chalkColor: "blue"
                },
                0: {
                    name: "INFO",
                    color: "#008000",
                    chalkColor: "green"
                },
                1: {
                    name: "NOTICE",
                    color: "#2AA5A5",
                    chalkColor: "cyan"
                },
                2: {
                    name: "WARN",
                    color: "#FFA500",
                    chalkColor: "yellow"
                },
                3: {
                    name: "ERROR",
                    color: "#800080",
                    chalkColor: "magenta"
                },
                4: {
                    name: "FATAL",
                    color: "#FF0000",
                    chalkColor: "red"
                }
            };

            function u(e, t, n) {
                if (e < r) return;
                const i = s[String(e)] || {
                    name: "UNKNOWN",
                    color: "bgCyan"
                };
                a.log(...o((new Date).toISOString(), i, t, n))
            }

            function l(e) {
                return Array.prototype.slice.call(e)
            }
            r = Number(t), (Number.isNaN(r) || r < -1 || r > 10) && (r = Number(function(e) {
                if (void 0 === i || !i) return null;
                if (void 0 === i.location) return null;
                e = e.replace(/[[]/, "\\[").replace(/[\]]/, "\\]");
                const t = new RegExp(`[?&]${e}=([^&#]*)`).exec(i.location.search || "");
                return null !== t && decodeURIComponent(t[1].replace(/\+/g, " "))
            }("logLevel"))), (Number.isNaN(r) || r < -1 || r > 10) && (r = 5), this.debug = function(...t) {
                u(-1, e, t)
            }, this.info = function(...t) {
                u(0, e, t)
            }, this.notice = function(...t) {
                u(1, e, t)
            }, this.warn = function(...t) {
                u(2, e, t)
            }, this.error = function(...t) {
                u(3, e, t)
            }, this.fatal = function(...t) {
                u(4, e, t)
            }, this.getLogLevel = function() {
                return r
            }
        },
        u = "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {};
    u.setTimeout, u.clearTimeout;
    var l = u.performance || {};
    l.now || l.mozNow || l.msNow || l.oNow || l.webkitNow;
    var c = {
            staging: {
                sgCookiePopup: "https://staging-platform-modules.sgweb.softgames.de/cookie-popup/sg-cookie-popup.js",
                EXTERNAL_ADS_MODULE: "https://staging-platform-modules.sgweb.softgames.de/external-ads/p2-external-ads-client.js",
                logLevel: -1
            },
            dev: {
                sgCookiePopup: "http://localhost:9041/sg-cookie-popup.js",
                EXTERNAL_ADS_MODULE: "http://localhost:9062/modules/p2-external-ads-client.js",
                logLevel: -1
            },
            live: {
                sgCookiePopup: "https://platform-modules.sgweb.softgames.de/cookie-popup/sg-cookie-popup.js",
                EXTERNAL_ADS_MODULE: "https://platform-modules.sgweb.softgames.de/external-ads/p2-external-ads-client.js"
            }
        }.live,
        d = Object.assign({}, {
            moduleName: "preroll-client",
            IMA_src: "https://imasdk.googleapis.com/js/sdkloader/ima3.js",
            GPT_src: "https://securepubads.g.doubleclick.net/tag/js/gpt.js",
            HB_SCRIPT_URL: "https://prebid.openx.net/ox/cdn/softgames/prebid.softgames.js",
            VIDEOJS_CSS_URL: "https://googleads.github.io/videojs-ima/node_modules/video.js/dist/video-js.min.css",
            VIDEOJS_IMA_CSS_URL: "https://googleads.github.io/videojs-ima/dist/videojs.ima.css",
            IMA_MAX_WIDTH: 999999999,
            IMA_MAX_HEIGHT: 999999999,
            vastBaseUrl: "//pubads.g.doubleclick.net/gampad/ads",
            vastUrlQuery: {
                ad_type: "video_text_image",
                ciu_szs: "",
                client: "ca-games-pub-3245421709461335",
                env: "vp",
                gdfp_req: 1,
                max_ad_duration: 1e6,
                min_ad_duration: 0,
                output: "xml_vast2",
                sz: "640x480",
                unviewed_position_start: 1
            },
            countryAPI: "//ip-api.com/json",
            okDeScriptSrc: "https://s.apxtarget.com/a47ds4453yj7quzkwlo7o",
            adNetworkId: "418149392",
            prerollAdUnit: "S_PREROLL_V",
            sgCookiePopup: "https://embedder-container.sgweb.softgames.de/SG+Cookie+Popup/sg-cookie-popup.js",
            logLevel: 1,
            jQuery: "https://embedder-container.sgweb.softgames.de/jquery/3.1.0/jquery-3.1.0.min.js",
            sgTrackConfig: {
                client: "preroll-client",
                types: {}
            },
            APIs: {
                sgTrack: {
                    url: "https://t.sgc.io",
                    endpoints: {
                        track: "/api/v1/tracking"
                    }
                }
            }
        }, c);

    function h(e) {
        return new s("".concat(d.moduleName, "-").concat(e))
    }
    var p = {
            YAHOO: "yahoo"
        },
        f = {
            P2_CONSENT_COOKIE_NAME: "oil_data",
            DEFAULT_SCRIPT_LOAD_TIMEOUT: 1e4,
            ADVERTISEMENT_JS_URL: "//games.softgames.com/assets/advertisement.js",
            SHOW_ADS_JS_URL: "//games.softgames.com/assets/showads.js",
            DEFAULT_OVERLAY_INTERVAL: 3e3,
            DISABLE_AD_FOR_PARTNERS: [8784, 8953, 1882, 9278, 5219, 7459, 6024, 9379, 52, 6844, 7034, 7528, 8434, 4387, 1588, 60, 9959, 10563],
            DISABLE_AD_FOR_WLP_PARTNER: [10094],
            COOKIE_PRO_PUBLISHERS: [8226],
            SPLASH_SCREEN_TYPES: p,
            SPLASH_SCREEN_PARTNERS: {
                9820: p.YAHOO
            },
            YAHOO_YTM_PARTNERS: [9820],
            DISABLED_COOKIE_POPUP_COUNTRIES: ["JP", "US", "VI", "IN", "BR", "TH"],
            DISABLED_COOKIE_POPUP_PARTNERS: [8784, 7363, 7099, 7095, 7094, 7092, 7091, 7090, 6433, 6006, 6005, 6004, 6003, 5369, 5145, 6787, 6776, 6775, 6543, 9959, 9820, 9787],
            CONSENT_FLOW_PUBLISHERS: [5994, 2636, 382, 2025, 6972],
            PER_PUBLISHER_AD_UNITS: {
                2025: {
                    MOBILE: "t-online.de_embed_video_preroll_mweb_640x480_1",
                    DESKTOP: "t-online.de_embed_video_preroll_web_640x480_1"
                },
                6972: {
                    MOBILE: "rtlspiele.de_embed_video_preroll_mweb_640x480_1",
                    DESKTOP: "rtlspiele.de_embed_video_preroll_web_640x480_1"
                }
            },
            HB_INSTREAM_PUBLISHER_GAMES: {
                10410: ["ALL", "bubble-shooter-world-cup"]
            },
            HB_AD_SIZES: [
                [400, 300],
                [640, 360],
                [640, 480]
            ]
        },
        m = "undefined" != typeof window ? window : void 0 !== r ? r : "undefined" != typeof self ? self : {};

    function g(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
        return r
    }

    function y(e, t) {
        return function(e) {
            if (Array.isArray(e)) return e
        }(e) || function(e, t) {
            var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (null != n) {
                var r, i, a = [],
                    o = !0,
                    s = !1;
                try {
                    for (n = n.call(e); !(o = (r = n.next()).done) && (a.push(r.value), !t || a.length !== t); o = !0);
                } catch (e) {
                    s = !0, i = e
                } finally {
                    try {
                        o || null == n.return || n.return()
                    } finally {
                        if (s) throw i
                    }
                }
                return a
            }
        }(e, t) || function(e, t) {
            if (e) {
                if ("string" == typeof e) return g(e, t);
                var n = Object.prototype.toString.call(e).slice(8, -1);
                return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? g(e, t) : void 0
            }
        }(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }
    e('#pr-backdrop-container {\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  background: white;\n  z-index: 1999999975;\n  top: 0;\n  left: 0;\n}\n#pr-backdrop-container #pr-teaser-container {\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  filter: blur(25px);\n  -webkit-filter: blur(25px);\n  background-position: center;\n  opacity: 0.7;\n}\n#pr-backdrop-container #pr-center-teaser-container {\n  position: fixed;\n  width: 100%;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n}\n#pr-backdrop-container #pr-background-darkener {\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  background-color: black;\n  opacity: 0.1;\n}\n#pr-backdrop-container #pr-content-container {\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n#pr-backdrop-container #pr-content-container #pr-spinner {\n  width: 100px;\n  height: 100px;\n  margin: auto;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n}\n#pr-backdrop-container #pr-content-container #pr-cookie-info-container {\n  position: fixed;\n  bottom: 0;\n  color: white;\n  padding: 20px;\n  font-family: sans-serif;\n  font-size: 1rem;\n}\n#pr-backdrop-container #pr-content-container #pr-cookie-info-container #pr-cookie-info {\n  margin: 20px;\n}\n#pr-backdrop-container #pr-content-container #pr-cookie-info-container #pr-cookie-button {\n  background-color: #306afd;\n  margin: 20px;\n  height: 39px;\n  border-radius: 20px;\n  text-align: center;\n  line-height: 39px;\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n#pr-backdrop-container #pr-content-container #pr-cookie-info-container #pr-cookie-button:hover {\n  background-color: #2959fd;\n}\n#pr-backdrop-container .sg-ad-container,\n#pr-backdrop-container #pr-ad-container {\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  background-color: black;\n}\n#pr-backdrop-container .sg-ad-container #pr-ad-container-video-node,\n#pr-backdrop-container #pr-ad-container #pr-ad-container-video-node {\n  opacity: 1 !important;\n}\n#pr-backdrop-container .sg-ad-container .sg-ima-mute-button,\n#pr-backdrop-container #pr-ad-container .sg-ima-mute-button {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  display: block;\n  color: white;\n  /*border-radius: 50%;*/\n  cursor: pointer;\n  /*background: white;*/\n}\n#pr-backdrop-container #pr-blocked-container {\n  position: fixed;\n  width: 350px;\n  text-align: center;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n  font-family: sans-serif;\n  background: rgba(255, 255, 255, 0.85);\n  color: red;\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  border-radius: 10px;\n  padding: 20px;\n}\n#pr-backdrop-container #pr-blocked-container #pr-blocked-title {\n  font-size: 1.7rem;\n  padding-bottom: 20px;\n}\n#pr-backdrop-container #pr-blocked-container #pr-blocked-text {\n  font-size: 1.3rem;\n}\n#pr-backdrop-container #pr-ad-play-button-container {\n  cursor: pointer;\n  width: 126px;\n  height: 88px;\n  position: fixed;\n  top: calc(50% - 44px);\n  left: calc(50% - 63px);\n}\n#pr-backdrop-container #pr-ad-play-button-container #pr-ad-play-button {\n  -webkit-border-radius: 20px;\n  -moz-border-radius: 20px;\n  border-radius: 20px;\n  width: 100%;\n  height: 100%;\n}\n#pr-backdrop-container #pr-ad-play-button-container #pr-ad-play-button-triangle {\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 25px 0 25px 43.3px;\n  border-color: transparent transparent transparent white;\n  position: absolute;\n  top: 20px;\n  left: 51px;\n}\n#pr-backdrop-container #pr-ad-play-button-container #pr-ad-play-button-background {\n  position: absolute;\n  width: 125px;\n  height: 88px;\n  color: white;\n  background-color: #64D032;\n  -webkit-border-radius: 20px;\n  -moz-border-radius: 20px;\n  border-radius: 20px;\n  border: 4px solid #42BA1D;\n  top: 0;\n  left: 0;\n  z-index: -2;\n}\n#pr-backdrop-container #pr-ad-play-button-container #pr-ad-play-button-overlay {\n  position: absolute;\n  width: 125px;\n  height: 88px;\n  background: -moz-linear-gradient(top, rgba(30, 240, 17, 0.25) 0%, rgba(0, 0, 0, 0.25) 100%);\n  /* FF3.6-15 */\n  background: -webkit-linear-gradient(top, rgba(30, 240, 17, 0.25) 0%, rgba(0, 0, 0, 0.25) 100%);\n  /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to bottom, rgba(30, 240, 17, 0.25) 0%, rgba(0, 0, 0, 0.25) 100%);\n  /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#401ef011", endColorstr="#40000000", GradientType=0);\n  /* IE6-9 */\n  -webkit-border-radius: 20px;\n  -moz-border-radius: 20px;\n  border-radius: 20px;\n  border: 4px solid #42BA1D;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n\n#branding-link {\n  z-index: 2147483648;\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  width: 22vw;\n}\n#branding-link img {\n  width: 100%;\n}\n\n#pr-fs-clickable-area {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 2147483649;\n}\n\n#sg-game-icon {\n  position: fixed;\n  width: 33vh;\n  height: 33vh;\n  top: calc(50% - 16.5vh);\n  left: calc(50% - 16.5vh);\n  z-index: 2147483648;\n}\n#sg-game-icon.already-consented {\n  display: block;\n}\n\n#sg-play-button-container {\n  width: 44vh;\n  height: 11vh;\n  position: fixed;\n  display: block;\n  max-width: 100% !important;\n  z-index: 2147483648;\n  top: calc(50% + 27.5vh);\n  left: calc(50% - 22vh);\n  box-shadow: 0px 5px 0px rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 0 5px 0px rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 0px 5px 0px rgba(0, 0, 0, 0.2);\n  -moz-border-radius: 8px;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  margin: 0;\n  min-width: 44vh;\n  min-height: 11vh;\n}\n#sg-play-button-container #sg-play-button-mid-container {\n  height: 100%;\n  min-width: 1px;\n  min-height: 1px;\n  margin-left: 0;\n  float: none;\n  clear: both;\n  text-align: right;\n  -moz-box-shadow: inset 0px -3px 3px 2px #6190f1;\n  -webkit-box-shadow: inset 0px -3px 3px 2px #6190f1;\n  box-shadow: inset 0px -3px 3px 2px #6190f1;\n  border-bottom: 2px solid #407ffe;\n  background-color: #407ffe;\n  -moz-border-radius: 8px;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n}\n#sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n  display: inline-block;\n  cursor: pointer;\n  color: #ffffff;\n  font-family: Arial;\n  text-decoration: none;\n  font-size: 46px;\n  text-align: left;\n  line-height: 9vh;\n  font-weight: 700;\n  padding: 1vh 0vh 1vh 19vh;\n  float: left;\n}\n#sg-play-button-container #sg-play-button-mid-container #sg-play-button #sg-button-controller {\n  position: absolute;\n  left: 3vh;\n  top: 2vh;\n  height: 6.5vh;\n}\n\n.hidden-el {\n  display: none !important;\n}\n\n@-webkit-keyframes pulsate {\n  0% {\n    -webkit-transform: scale(1, 1);\n  }\n  50% {\n    -webkit-transform: scale(1.1, 1.1);\n  }\n  100% {\n    -webkit-transform: scale(1, 1);\n  }\n}\n@-moz-keyframes pulsate {\n  0% {\n    transform: scale(1, 1);\n  }\n  50% {\n    transform: scale(1.1, 1.1);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n}\n@-o-keyframes pulsate {\n  0% {\n    -webkit-transform: scale(1, 1);\n  }\n  50% {\n    -webkit-transform: scale(1.1, 1.1);\n  }\n  100% {\n    -webkit-transform: scale(1, 1);\n  }\n}\n@keyframes pulsate {\n  0% {\n    transform: scale(1, 1);\n  }\n  50% {\n    transform: scale(1.1, 1.1);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n}\n.pulsating {\n  -moz-animation: pulsate 1500ms infinite;\n  -webkit-animation: pulsate 1500ms infinite;\n  -o-animation: pulsate 1500ms infinite;\n  animation: pulsate 1500ms infinite;\n}\n\n@media only screen and (max-height: 1068px) {\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 37px;\n  }\n}\n@media only screen and (max-height: 904px) {\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 32px;\n  }\n}\n@media only screen and (max-height: 766px) {\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 26px;\n  }\n}\n@media only screen and (max-height: 644px) {\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 21px;\n  }\n}\n@media only screen and (max-height: 518px) {\n  #sg-play-button-container {\n    -moz-border-radius: 6px;\n    -webkit-border-radius: 6px;\n    border-radius: 6px;\n  }\n\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 16px;\n    -moz-border-radius: 6px;\n    -webkit-border-radius: 6px;\n    border-radius: 6px;\n  }\n}\n@media only screen and (max-height: 380px) {\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 12px;\n  }\n}\n@media only screen and (max-height: 297px) {\n  #sg-play-button-container {\n    -moz-border-radius: 5px;\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n  }\n\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 9px;\n    -moz-border-radius: 5px;\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n  }\n}\n@media only screen and (max-height: 218px) {\n  #sg-play-button-container {\n    -moz-border-radius: 4px;\n    -webkit-border-radius: 4px;\n    border-radius: 4px;\n  }\n\n  #sg-play-button-container #sg-play-button-mid-container #sg-play-button {\n    font-size: 7px;\n    -moz-border-radius: 4px;\n    -webkit-border-radius: 4px;\n    border-radius: 4px;\n  }\n}');
    var v = h("script-loader");

    function b(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2e3,
            n = arguments.length > 2 ? arguments[2] : void 0;
        return new Promise((function(r, i) {
            if (v.info("Start loading JS file", e), "string" == typeof e) {
                if (T(e)) return v.notice("JS file already exists", e), void r();
                var a = !1,
                    o = function(t) {
                        if (!a) {
                            if (a = !0, t) return v.info("Failed loading JS file", e), void i(t);
                            v.info("Finished loading JS file", e), r()
                        }
                    };
                try {
                    var s = document.createElement("script");
                    s.async = !0, s.type = "text/javascript", s.onload = function() {
                        o()
                    }, s.onerror = function() {
                        o(new Error("assets loading failed: " + e))
                    }, s.src = e, document.head.appendChild(s), n && o(), setTimeout((function() {
                        o(new Error("File loading timed out after " + t + " ms"))
                    }), t)
                } catch (t) {
                    i(new Error("assets loading failed: " + e))
                }
            } else i(new Error("source provided is not a string"))
        }))
    }

    function T(e) {
        for (var t = document.getElementsByTagName("script"), n = 0; n < t.length; n++)
            if (t[n].src === e) return !0;
        return !1
    }
    var _, S = {
        exports: {}
    };
    /*!
     * JavaScript Cookie v2.2.1
     * https://github.com/js-cookie/js-cookie
     *
     * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
     * Released under the MIT license
     */
    _ = S,
        function(e) {
            _.exports = e()
        }((function() {
            function e() {
                for (var e = 0, t = {}; e < arguments.length; e++) {
                    var n = arguments[e];
                    for (var r in n) t[r] = n[r]
                }
                return t
            }

            function t(e) {
                return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent)
            }
            return function n(r) {
                function i() {}

                function a(t, n, a) {
                    if ("undefined" != typeof document) {
                        "number" == typeof(a = e({
                            path: "/"
                        }, i.defaults, a)).expires && (a.expires = new Date(1 * new Date + 864e5 * a.expires)), a.expires = a.expires ? a.expires.toUTCString() : "";
                        try {
                            var o = JSON.stringify(n);
                            /^[\{\[]/.test(o) && (n = o)
                        } catch (e) {}
                        n = r.write ? r.write(n, t) : encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
                        var s = "";
                        for (var u in a) a[u] && (s += "; " + u, !0 !== a[u] && (s += "=" + a[u].split(";")[0]));
                        return document.cookie = t + "=" + n + s
                    }
                }

                function o(e, n) {
                    if ("undefined" != typeof document) {
                        for (var i = {}, a = document.cookie ? document.cookie.split("; ") : [], o = 0; o < a.length; o++) {
                            var s = a[o].split("="),
                                u = s.slice(1).join("=");
                            n || '"' !== u.charAt(0) || (u = u.slice(1, -1));
                            try {
                                var l = t(s[0]);
                                if (u = (r.read || r)(u, l) || t(u), n) try {
                                    u = JSON.parse(u)
                                } catch (e) {}
                                if (i[l] = u, e === l) break
                            } catch (e) {}
                        }
                        return e ? i[e] : i
                    }
                }
                return i.set = a, i.get = function(e) {
                    return o(e, !1)
                }, i.getJSON = function(e) {
                    return o(e, !0)
                }, i.remove = function(t, n) {
                    a(t, "", e(n, {
                        expires: -1
                    }))
                }, i.defaults = {}, i.withConverter = n, i
            }((function() {}))
        }));
    var w = S.exports;

    function A() {
        var e = document.getElementsByTagName("meta")["game-slug"],
            t = document.getElementsByTagName("meta")["publisher-name"],
            n = document.getElementsByTagName("meta")["game-id"],
            r = document.getElementsByTagName("meta").locale,
            i = document.getElementsByTagName("meta")["country-code"],
            a = document.getElementsByTagName("meta").prerollDesktopUnits,
            o = document.getElementsByTagName("meta").prerollMobileUnits,
            s = {};
        return e && (s.gameSlug = e.getAttribute("content")), t && (s.publisherName = t.getAttribute("content")), n && (s.gameId = n.getAttribute("content")), r && (s.locale = r.getAttribute("content")), i && (s.countryCode = i.getAttribute("content")), a && (s.prerollDesktopUnits = a.getAttribute("content").split(",")), o && (s.prerollMobileUnits = o.getAttribute("content").split(",")), s
    }
    var E = h("tools"),
        C = m.document,
        P = /iP(hone|od|ad)/,
        k = /OS (\d+)_(\d+)_?(\d+)?/;

    function x() {
        var e = m.navigator || {};
        if (E.info("Testing navigator: ", e), P.test(e.platform)) {
            var t = (e.appVersion || "").match(k);
            return t ? {
                major: parseInt(t[1], 10),
                minor: parseInt(t[2], 10),
                patch: parseInt(t[3] || 0, 10)
            } : null
        }
        return null
    }

    function I(e) {
        if (!e) return e;
        var t = e.indexOf("?");
        return -1 === t ? e : (E.info("Returning url without query!"), e.substring(0, t))
    }

    function M() {
        try {
            var e = (t = "oil_data", w.get(t));
            return e && "string" == typeof e && JSON.parse(e).consentString || ""
        } catch (e) {
            return E.error("Error getting consent string: ", e.message), ""
        }
        var t
    }

    function L(e) {
        return new Promise((function(t) {
            setTimeout(t, e)
        }))
    }

    function D(e, t) {
        var n = C.createElement("div");
        for (n.innerHTML = t; n.children.length > 0;) e.appendChild(n.children[0])
    }
    var O = h("module-manager-handler"),
        R = !1;

    function N() {
        if (R) O.info("module manager already started");
        else {
            R = !0;
            var e = setTimeout((function() {
                    throw new Error("Module manager can't be started! timeout reached!")
                }), 1e4),
                t = setInterval((function() {
                    "function" == typeof m.initModuleManager ? (clearTimeout(e), clearInterval(t), m.initModuleManager()) : O.warn("No init function for module manager on window, trying again in 100ms")
                }), 100)
        }
    }
    var B = h("font-awesome");
    var U = {
        exports: {}
    };
    ! function(e) {
        /*!mobile-detect v1.4.5 2021-03-13*/
        /*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
        ! function(e, t) {
            e((function() {
                var e, n = {
                        mobileDetectRules: {
                            phones: {
                                iPhone: "\\biPhone\\b|\\biPod\\b",
                                BlackBerry: "BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",
                                Pixel: "; \\bPixel\\b",
                                HTC: "HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",
                                Nexus: "Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",
                                Dell: "Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",
                                Motorola: "Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",
                                Samsung: "\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",
                                LG: "\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",
                                Sony: "SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",
                                Asus: "Asus.*Galaxy|PadFone.*Mobile",
                                Xiaomi: "^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",
                                NokiaLumia: "Lumia [0-9]{3,4}",
                                Micromax: "Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",
                                Palm: "PalmSource|Palm",
                                Vertu: "Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",
                                Pantech: "PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",
                                Fly: "IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",
                                Wiko: "KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",
                                iMobile: "i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",
                                SimValley: "\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",
                                Wolfgang: "AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",
                                Alcatel: "Alcatel",
                                Nintendo: "Nintendo (3DS|Switch)",
                                Amoi: "Amoi",
                                INQ: "INQ",
                                OnePlus: "ONEPLUS",
                                GenericPhone: "Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"
                            },
                            tablets: {
                                iPad: "iPad|iPad.*Mobile",
                                NexusTablet: "Android.*Nexus[\\s]+(7|9|10)",
                                GoogleTablet: "Android.*Pixel C",
                                SamsungTablet: "SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",
                                Kindle: "Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",
                                SurfaceTablet: "Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",
                                HPTablet: "HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",
                                AsusTablet: "^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",
                                BlackBerryTablet: "PlayBook|RIM Tablet",
                                HTCtablet: "HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",
                                MotorolaTablet: "xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",
                                NookTablet: "Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",
                                AcerTablet: "Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",
                                ToshibaTablet: "Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",
                                LGTablet: "\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",
                                FujitsuTablet: "Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",
                                PrestigioTablet: "PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",
                                LenovoTablet: "Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",
                                DellTablet: "Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",
                                YarvikTablet: "Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",
                                MedionTablet: "Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",
                                ArnovaTablet: "97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",
                                IntensoTablet: "INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",
                                IRUTablet: "M702pro",
                                MegafonTablet: "MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",
                                EbodaTablet: "E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",
                                AllViewTablet: "Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",
                                ArchosTablet: "\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",
                                AinolTablet: "NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",
                                NokiaLumiaTablet: "Lumia 2520",
                                SonyTablet: "Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",
                                PhilipsTablet: "\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",
                                CubeTablet: "Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",
                                CobyTablet: "MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",
                                MIDTablet: "M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",
                                MSITablet: "MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",
                                SMiTTablet: "Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",
                                RockChipTablet: "Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",
                                FlyTablet: "IQ310|Fly Vision",
                                bqTablet: "Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",
                                HuaweiTablet: "MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",
                                NecTablet: "\\bN-06D|\\bN-08D",
                                PantechTablet: "Pantech.*P4100",
                                BronchoTablet: "Broncho.*(N701|N708|N802|a710)",
                                VersusTablet: "TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",
                                ZyncTablet: "z1000|Z99 2G|z930|z990|z909|Z919|z900",
                                PositivoTablet: "TB07STA|TB10STA|TB07FTA|TB10FTA",
                                NabiTablet: "Android.*\\bNabi",
                                KoboTablet: "Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",
                                DanewTablet: "DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",
                                TexetTablet: "NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",
                                PlaystationTablet: "Playstation.*(Portable|Vita)",
                                TrekstorTablet: "ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",
                                PyleAudioTablet: "\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",
                                AdvanTablet: "Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",
                                DanyTechTablet: "Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",
                                GalapadTablet: "Android [0-9.]+; [a-z-]+; \\bG1\\b",
                                MicromaxTablet: "Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",
                                KarbonnTablet: "Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",
                                AllFineTablet: "Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",
                                PROSCANTablet: "\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",
                                YONESTablet: "BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",
                                ChangJiaTablet: "TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",
                                GUTablet: "TX-A1301|TX-M9002|Q702|kf026",
                                PointOfViewTablet: "TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",
                                OvermaxTablet: "OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",
                                HCLTablet: "HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",
                                DPSTablet: "DPS Dream 9|DPS Dual 7",
                                VistureTablet: "V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",
                                CrestaTablet: "CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",
                                MediatekTablet: "\\bMT8125|MT8389|MT8135|MT8377\\b",
                                ConcordeTablet: "Concorde([ ]+)?Tab|ConCorde ReadMan",
                                GoCleverTablet: "GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",
                                ModecomTablet: "FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",
                                VoninoTablet: "\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",
                                ECSTablet: "V07OT2|TM105A|S10OT1|TR10CS1",
                                StorexTablet: "eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",
                                VodafoneTablet: "SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",
                                EssentielBTablet: "Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",
                                RossMoorTablet: "RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",
                                iMobileTablet: "i-mobile i-note",
                                TolinoTablet: "tolino tab [0-9.]+|tolino shine",
                                AudioSonicTablet: "\\bC-22Q|T7-QC|T-17B|T-17P\\b",
                                AMPETablet: "Android.* A78 ",
                                SkkTablet: "Android.* (SKYPAD|PHOENIX|CYCLOPS)",
                                TecnoTablet: "TECNO P9|TECNO DP8D",
                                JXDTablet: "Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",
                                iJoyTablet: "Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",
                                FX2Tablet: "FX2 PAD7|FX2 PAD10",
                                XoroTablet: "KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",
                                ViewsonicTablet: "ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",
                                VerizonTablet: "QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",
                                OdysTablet: "LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",
                                CaptivaTablet: "CAPTIVA PAD",
                                IconbitTablet: "NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",
                                TeclastTablet: "T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",
                                OndaTablet: "\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",
                                JaytechTablet: "TPC-PA762",
                                BlaupunktTablet: "Endeavour 800NG|Endeavour 1010",
                                DigmaTablet: "\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",
                                EvolioTablet: "ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",
                                LavaTablet: "QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",
                                AocTablet: "MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",
                                MpmanTablet: "MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",
                                CelkonTablet: "CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",
                                WolderTablet: "miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",
                                MediacomTablet: "M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",
                                MiTablet: "\\bMI PAD\\b|\\bHM NOTE 1W\\b",
                                NibiruTablet: "Nibiru M1|Nibiru Jupiter One",
                                NexoTablet: "NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",
                                LeaderTablet: "TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",
                                UbislateTablet: "UbiSlate[\\s]?7C",
                                PocketBookTablet: "Pocketbook",
                                KocasoTablet: "\\b(TB-1207)\\b",
                                HisenseTablet: "\\b(F5281|E2371)\\b",
                                Hudl: "Hudl HT7S3|Hudl 2",
                                TelstraTablet: "T-Hub2",
                                GenericTablet: "Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"
                            },
                            oss: {
                                AndroidOS: "Android",
                                BlackBerryOS: "blackberry|\\bBB10\\b|rim tablet os",
                                PalmOS: "PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",
                                SymbianOS: "Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",
                                WindowsMobileOS: "Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",
                                WindowsPhoneOS: "Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",
                                iOS: "\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",
                                iPadOS: "CPU OS 13",
                                SailfishOS: "Sailfish",
                                MeeGoOS: "MeeGo",
                                MaemoOS: "Maemo",
                                JavaOS: "J2ME/|\\bMIDP\\b|\\bCLDC\\b",
                                webOS: "webOS|hpwOS",
                                badaOS: "\\bBada\\b",
                                BREWOS: "BREW"
                            },
                            uas: {
                                Chrome: "\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",
                                Dolfin: "\\bDolfin\\b",
                                Opera: "Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",
                                Skyfire: "Skyfire",
                                Edge: "\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",
                                IE: "IEMobile|MSIEMobile",
                                Firefox: "fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",
                                Bolt: "bolt",
                                TeaShark: "teashark",
                                Blazer: "Blazer",
                                Safari: "Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",
                                WeChat: "\\bMicroMessenger\\b",
                                UCBrowser: "UC.*Browser|UCWEB",
                                baiduboxapp: "baiduboxapp",
                                baidubrowser: "baidubrowser",
                                DiigoBrowser: "DiigoBrowser",
                                Mercury: "\\bMercury\\b",
                                ObigoBrowser: "Obigo",
                                NetFront: "NF-Browser",
                                GenericBrowser: "NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",
                                PaleMoon: "Android.*PaleMoon|Mobile.*PaleMoon"
                            },
                            props: {
                                Mobile: "Mobile/[VER]",
                                Build: "Build/[VER]",
                                Version: "Version/[VER]",
                                VendorID: "VendorID/[VER]",
                                iPad: "iPad.*CPU[a-z ]+[VER]",
                                iPhone: "iPhone.*CPU[a-z ]+[VER]",
                                iPod: "iPod.*CPU[a-z ]+[VER]",
                                Kindle: "Kindle/[VER]",
                                Chrome: ["Chrome/[VER]", "CriOS/[VER]", "CrMo/[VER]"],
                                Coast: ["Coast/[VER]"],
                                Dolfin: "Dolfin/[VER]",
                                Firefox: ["Firefox/[VER]", "FxiOS/[VER]"],
                                Fennec: "Fennec/[VER]",
                                Edge: "Edge/[VER]",
                                IE: ["IEMobile/[VER];", "IEMobile [VER]", "MSIE [VER];", "Trident/[0-9.]+;.*rv:[VER]"],
                                NetFront: "NetFront/[VER]",
                                NokiaBrowser: "NokiaBrowser/[VER]",
                                Opera: [" OPR/[VER]", "Opera Mini/[VER]", "Version/[VER]"],
                                "Opera Mini": "Opera Mini/[VER]",
                                "Opera Mobi": "Version/[VER]",
                                UCBrowser: ["UCWEB[VER]", "UC.*Browser/[VER]"],
                                MQQBrowser: "MQQBrowser/[VER]",
                                MicroMessenger: "MicroMessenger/[VER]",
                                baiduboxapp: "baiduboxapp/[VER]",
                                baidubrowser: "baidubrowser/[VER]",
                                SamsungBrowser: "SamsungBrowser/[VER]",
                                Iron: "Iron/[VER]",
                                Safari: ["Version/[VER]", "Safari/[VER]"],
                                Skyfire: "Skyfire/[VER]",
                                Tizen: "Tizen/[VER]",
                                Webkit: "webkit[ /][VER]",
                                PaleMoon: "PaleMoon/[VER]",
                                SailfishBrowser: "SailfishBrowser/[VER]",
                                Gecko: "Gecko/[VER]",
                                Trident: "Trident/[VER]",
                                Presto: "Presto/[VER]",
                                Goanna: "Goanna/[VER]",
                                iOS: " \\bi?OS\\b [VER][ ;]{1}",
                                Android: "Android [VER]",
                                Sailfish: "Sailfish [VER]",
                                BlackBerry: ["BlackBerry[\\w]+/[VER]", "BlackBerry.*Version/[VER]", "Version/[VER]"],
                                BREW: "BREW [VER]",
                                Java: "Java/[VER]",
                                "Windows Phone OS": ["Windows Phone OS [VER]", "Windows Phone [VER]"],
                                "Windows Phone": "Windows Phone [VER]",
                                "Windows CE": "Windows CE/[VER]",
                                "Windows NT": "Windows NT [VER]",
                                Symbian: ["SymbianOS/[VER]", "Symbian/[VER]"],
                                webOS: ["webOS/[VER]", "hpwOS/[VER];"]
                            },
                            utils: {
                                Bot: "Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",
                                MobileBot: "Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",
                                DesktopMode: "WPDesktop",
                                TV: "SonyDTV|HbbTV",
                                WebKit: "(webkit)[ /]([\\w.]+)",
                                Console: "\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",
                                Watch: "SM-V700"
                            }
                        },
                        detectMobileBrowsers: {
                            fullPattern: /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
                            shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
                            tabletPattern: /android|ipad|playbook|silk/i
                        }
                    },
                    r = Object.prototype.hasOwnProperty;

                function i(e, t) {
                    return null != e && null != t && e.toLowerCase() === t.toLowerCase()
                }

                function a(e, t) {
                    var n, r, i = e.length;
                    if (!i || !t) return !1;
                    for (n = t.toLowerCase(), r = 0; r < i; ++r)
                        if (n === e[r].toLowerCase()) return !0;
                    return !1
                }

                function o(e) {
                    for (var t in e) r.call(e, t) && (e[t] = new RegExp(e[t], "i"))
                }

                function s(e, t) {
                    this.ua = function(e) {
                        return (e || "").substr(0, 500)
                    }(e), this._cache = {}, this.maxPhoneWidth = t || 600
                }
                return n.FALLBACK_PHONE = "UnknownPhone", n.FALLBACK_TABLET = "UnknownTablet", n.FALLBACK_MOBILE = "UnknownMobile", e = "isArray" in Array ? Array.isArray : function(e) {
                        return "[object Array]" === Object.prototype.toString.call(e)
                    },
                    function() {
                        var t, i, a, s, u, l, c = n.mobileDetectRules;
                        for (t in c.props)
                            if (r.call(c.props, t)) {
                                for (i = c.props[t], e(i) || (i = [i]), u = i.length, s = 0; s < u; ++s)(l = (a = i[s]).indexOf("[VER]")) >= 0 && (a = a.substring(0, l) + "([\\w._\\+]+)" + a.substring(l + 5)), i[s] = new RegExp(a, "i");
                                c.props[t] = i
                            } o(c.oss), o(c.phones), o(c.tablets), o(c.uas), o(c.utils), c.oss0 = {
                            WindowsPhoneOS: c.oss.WindowsPhoneOS,
                            WindowsMobileOS: c.oss.WindowsMobileOS
                        }
                    }(), n.findMatch = function(e, t) {
                        for (var n in e)
                            if (r.call(e, n) && e[n].test(t)) return n;
                        return null
                    }, n.findMatches = function(e, t) {
                        var n = [];
                        for (var i in e) r.call(e, i) && e[i].test(t) && n.push(i);
                        return n
                    }, n.getVersionStr = function(e, t) {
                        var i, a, o, s, u = n.mobileDetectRules.props;
                        if (r.call(u, e))
                            for (o = (i = u[e]).length, a = 0; a < o; ++a)
                                if (null !== (s = i[a].exec(t))) return s[1];
                        return null
                    }, n.getVersion = function(e, t) {
                        var r = n.getVersionStr(e, t);
                        return r ? n.prepareVersionNo(r) : NaN
                    }, n.prepareVersionNo = function(e) {
                        var t;
                        return 1 === (t = e.split(/[a-z._ \/\-]/i)).length && (e = t[0]), t.length > 1 && (e = t[0] + ".", t.shift(), e += t.join("")), Number(e)
                    }, n.isMobileFallback = function(e) {
                        return n.detectMobileBrowsers.fullPattern.test(e) || n.detectMobileBrowsers.shortPattern.test(e.substr(0, 4))
                    }, n.isTabletFallback = function(e) {
                        return n.detectMobileBrowsers.tabletPattern.test(e)
                    }, n.prepareDetectionCache = function(e, r, i) {
                        if (e.mobile === t) {
                            var a, o, u;
                            if (o = n.findMatch(n.mobileDetectRules.tablets, r)) return e.mobile = e.tablet = o, void(e.phone = null);
                            if (a = n.findMatch(n.mobileDetectRules.phones, r)) return e.mobile = e.phone = a, void(e.tablet = null);
                            n.isMobileFallback(r) ? (u = s.isPhoneSized(i)) === t ? (e.mobile = n.FALLBACK_MOBILE, e.tablet = e.phone = null) : u ? (e.mobile = e.phone = n.FALLBACK_PHONE, e.tablet = null) : (e.mobile = e.tablet = n.FALLBACK_TABLET, e.phone = null) : n.isTabletFallback(r) ? (e.mobile = e.tablet = n.FALLBACK_TABLET, e.phone = null) : e.mobile = e.tablet = e.phone = null
                        }
                    }, n.mobileGrade = function(e) {
                        var t = null !== e.mobile();
                        return e.os("iOS") && e.version("iPad") >= 4.3 || e.os("iOS") && e.version("iPhone") >= 3.1 || e.os("iOS") && e.version("iPod") >= 3.1 || e.version("Android") > 2.1 && e.is("Webkit") || e.version("Windows Phone OS") >= 7 || e.is("BlackBerry") && e.version("BlackBerry") >= 6 || e.match("Playbook.*Tablet") || e.version("webOS") >= 1.4 && e.match("Palm|Pre|Pixi") || e.match("hp.*TouchPad") || e.is("Firefox") && e.version("Firefox") >= 12 || e.is("Chrome") && e.is("AndroidOS") && e.version("Android") >= 4 || e.is("Skyfire") && e.version("Skyfire") >= 4.1 && e.is("AndroidOS") && e.version("Android") >= 2.3 || e.is("Opera") && e.version("Opera Mobi") > 11 && e.is("AndroidOS") || e.is("MeeGoOS") || e.is("Tizen") || e.is("Dolfin") && e.version("Bada") >= 2 || (e.is("UC Browser") || e.is("Dolfin")) && e.version("Android") >= 2.3 || e.match("Kindle Fire") || e.is("Kindle") && e.version("Kindle") >= 3 || e.is("AndroidOS") && e.is("NookTablet") || e.version("Chrome") >= 11 && !t || e.version("Safari") >= 5 && !t || e.version("Firefox") >= 4 && !t || e.version("MSIE") >= 7 && !t || e.version("Opera") >= 10 && !t ? "A" : e.os("iOS") && e.version("iPad") < 4.3 || e.os("iOS") && e.version("iPhone") < 3.1 || e.os("iOS") && e.version("iPod") < 3.1 || e.is("Blackberry") && e.version("BlackBerry") >= 5 && e.version("BlackBerry") < 6 || e.version("Opera Mini") >= 5 && e.version("Opera Mini") <= 6.5 && (e.version("Android") >= 2.3 || e.is("iOS")) || e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3") || e.version("Opera Mobi") >= 11 && e.is("SymbianOS") ? "B" : (e.version("BlackBerry") < 5 || e.match("MSIEMobile|Windows CE.*Mobile") || e.version("Windows Mobile"), "C")
                    }, n.detectOS = function(e) {
                        return n.findMatch(n.mobileDetectRules.oss0, e) || n.findMatch(n.mobileDetectRules.oss, e)
                    }, n.getDeviceSmallerSide = function() {
                        return window.screen.width < window.screen.height ? window.screen.width : window.screen.height
                    }, s.prototype = {
                        constructor: s,
                        mobile: function() {
                            return n.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.mobile
                        },
                        phone: function() {
                            return n.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.phone
                        },
                        tablet: function() {
                            return n.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.tablet
                        },
                        userAgent: function() {
                            return this._cache.userAgent === t && (this._cache.userAgent = n.findMatch(n.mobileDetectRules.uas, this.ua)), this._cache.userAgent
                        },
                        userAgents: function() {
                            return this._cache.userAgents === t && (this._cache.userAgents = n.findMatches(n.mobileDetectRules.uas, this.ua)), this._cache.userAgents
                        },
                        os: function() {
                            return this._cache.os === t && (this._cache.os = n.detectOS(this.ua)), this._cache.os
                        },
                        version: function(e) {
                            return n.getVersion(e, this.ua)
                        },
                        versionStr: function(e) {
                            return n.getVersionStr(e, this.ua)
                        },
                        is: function(e) {
                            return a(this.userAgents(), e) || i(e, this.os()) || i(e, this.phone()) || i(e, this.tablet()) || a(n.findMatches(n.mobileDetectRules.utils, this.ua), e)
                        },
                        match: function(e) {
                            return e instanceof RegExp || (e = new RegExp(e, "i")), e.test(this.ua)
                        },
                        isPhoneSized: function(e) {
                            return s.isPhoneSized(e || this.maxPhoneWidth)
                        },
                        mobileGrade: function() {
                            return this._cache.grade === t && (this._cache.grade = n.mobileGrade(this)), this._cache.grade
                        }
                    }, "undefined" != typeof window && window.screen ? s.isPhoneSized = function(e) {
                        return e < 0 ? t : n.getDeviceSmallerSide() <= e
                    } : s.isPhoneSized = function() {}, s._impl = n, s.version = "1.4.5 2021-03-13", s
            }))
        }(function(t) {
            if (e.exports) return function(t) {
                e.exports = t()
            };
            if ("undefined" != typeof window) return function(e) {
                window.MobileDetect = e()
            };
            throw new Error("unknown environment")
        }())
    }(U);
    var F = U.exports,
        j = function() {
            return !!new F(m.navigator.userAgent).mobile()
        };

    function H() {
        var e = window.location.pathname.split("/");
        if ("games" !== e[1]) throw new Error("Url is not in correct format to get needed properties from it!");
        return {
            gameSlug: e[2],
            publisherId: parseInt(e[4]),
            locale: e[6]
        }
    }
    h("path-parser");
    var G = f.PER_PUBLISHER_AD_UNITS,
        V = h("vast-url-creator");

    function W(e) {
        var t = e.headerBidding,
            n = H();
        V.info("path specific properties: ", n);
        var r = d.vastBaseUrl,
            i = d.vastUrlQuery,
            a = I(K());
        V.debug("Got description url ", a), V.debug("Creating vast query...");
        var o = function(e) {
            var t = e.baseQuery,
                n = e.adUnitId,
                r = e.targeting,
                i = e.descriptionUrl,
                a = e.headerBidding,
                o = {};
            Object.keys(t).forEach((function(e) {
                o[e] = t[e]
            })), V.info("url property for vast: ", i), V.info("preroll ad unit code: ", n), o.iu = n, o.url = i, o.correlator = Date.now(), o.cust_params = Y(r), a || (o.description_url = i);
            return o
        }({
            baseQuery: i,
            adUnitId: q(n.publisherId),
            targeting: Q(),
            descriptionUrl: a,
            headerBidding: t
        });
        return V.debug("... vast query created."), r + "?" + function(e) {
            V.debug("Creating vast query string...");
            var t = [];
            Object.keys(e).forEach((function(n) {
                var r = n,
                    i = e[n];
                void 0 !== i && (r += "=" + encodeURIComponent(i)), t.push(r)
            }));
            var n = t.join("&");
            return V.info("... vast query string created!", n), n
        }(o)
    }

    function q(e) {
        var t = A(),
            n = t.prerollMobileUnits,
            r = t.prerollDesktopUnits,
            i = j(),
            a = i ? "MOBILE" : "DESKTOP",
            o = G[e] && G[e][a] ? G[e][a] : d.prerollAdUnit;
        return i && n && n.length ? o = X(n) : !i && r && r.length && (o = X(r)), o = o || d.prerollAdUnit, "/".concat(d.adNetworkId, "/").concat(o)
    }

    function z(e) {
        var t = e.split("&"),
            n = [];
        return t.forEach((function(e) {
            0 === e.indexOf("correlator=") && (e = "correlator=" + Date.now()), n.push(e)
        })), n.join("&")
    }

    function X(e) {
        if (e.length > 1) {
            var t = e.filter((function(e) {
                return e.includes("_wl_")
            }));
            return t.length ? t[0] : e[0]
        }
        return e[0]
    }

    function K() {
        try {
            return String(window.top.location)
        } catch (e) {
            return V.warn("Unable to access top level url: ".concat(e.message)), V.debug("Using:", String(window.location)), String(window.location)
        }
    }

    function Y(e) {
        var t = [];
        return Object.keys(e).forEach((function(n) {
            t.push(n + "=" + e[n])
        })), t.join("&")
    }

    function Q() {
        V.info("creating targetingParams...");
        var e = H().publisherId,
            t = A(),
            n = t.gameId,
            r = t.gameSlug,
            i = t.publisherName,
            a = t.locale,
            o = function(e, t) {
                return e + "_" + t
            }(e, n),
            s = function(e, t) {
                return (e + "_" + t).substring(0, 40)
            }(i, r),
            u = {
                partner: i,
                game: r,
                pgIds: o,
                "pg-ids": o,
                pgNames: s,
                "pg-names": s,
                lang: a,
                consentData: M(),
                flow: "fast",
                referrer: I(K())
            },
            l = function(e) {
                return e ? 0 === e.indexOf("affiliate__") ? "marketing" : 0 === e.indexOf("pub-") ? "pp" : "sales" : null
            }(i);
        return l && (u["pg_ids_" + l] = o, u["pg_names_" + l] = s),
            function(e) {
                return e && -1 !== e.indexOf("affiliate__")
            }(i) && (u.affiliate = i), V.info("... targetingParams ready: ", u), u
    }
    var $ = h("game-loaded-listener"),
        J = !1;

    function Z(e) {
        if (m.sgPrerollFlowDone || J) "function" == typeof e && e();
        else {
            var t = document.getElementById("pr-backdrop-container"),
                n = document.getElementById("branding-link"),
                r = null;
            J = !0;
            var i = setTimeout((function() {
                $.info("Game loaded not received yet, timing out and starting game regardless"), clearInterval(r), t.classList.add("hidden-el"), n.classList.add("hidden-el"), m.sgPrerollFlowDone = !0, "function" == typeof e && e()
            }), 5e3);
            r = setInterval((function() {
                m.sgGameLoaded && (clearInterval(r), clearTimeout(i), t.classList.add("hidden-el"), n.classList.add("hidden-el"), m.sgPrerollFlowDone = !0, "function" == typeof e && e())
            }), 200)
        }
    }
    var ee = h("opera-tracking"),
        te = [6450],
        ne = !1;

    function re(e) {
        return ie.apply(this, arguments)
    }

    function ie() {
        return (ie = n(o.mark((function e(t) {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (ae(t) && !ne) {
                            e.next = 2;
                            break
                        }
                        return e.abrupt("return");
                    case 2:
                        ee.debug("Publisher is Opera, initializing opera tracking..."),
                            function(e, t, n, r, i, a, o) {
                                e[i] || (e.GlobalSnowplowNamespace = e.GlobalSnowplowNamespace || [], e.GlobalSnowplowNamespace.push(i), e[i] = function() {
                                    (e[i].q = e[i].q || []).push(arguments)
                                }, e[i].q = e[i].q || [], a = t.createElement(n), o = t.getElementsByTagName(n)[0], a.async = 1, a.src = "//res-odx.op-mobile.opera.com/sp.js", o.parentNode.insertBefore(a, o))
                            }(window, document, "script", 0, "otag"), otag("init", "adv3736132228096"), ee.debug("... Opera tracking initialized"), ee.debug("Tracking conversion..."), otag("event", "conversion"), ne = !0, ee.debug("... Conversion tracked");
                    case 10:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function ae(e) {
        return -1 !== te.indexOf(Number(e))
    }
    var oe = h("ad-utils");

    function se() {
        var e = m.innerWidth;
        e > parseFloat(d.IMA_MAX_WIDTH) && (e = parseFloat(d.IMA_MAX_WIDTH));
        var t = m.innerHeight;
        return t > parseFloat(d.IMA_MAX_HEIGHT) && (t = parseFloat(d.IMA_MAX_HEIGHT)), oe.info("Got the dimensions: " + e + ", " + t), {
            w: e,
            h: t
        }
    }
    var ue = {},
        le = Object.prototype.hasOwnProperty;

    function ce(e) {
        try {
            return decodeURIComponent(e.replace(/\+/g, " "))
        } catch (e) {
            return null
        }
    }

    function de(e) {
        try {
            return encodeURIComponent(e)
        } catch (e) {
            return null
        }
    }
    ue.stringify = function(e, t) {
        t = t || "";
        var n, r, i = [];
        for (r in "string" != typeof t && (t = "?"), e)
            if (le.call(e, r)) {
                if ((n = e[r]) || null != n && !isNaN(n) || (n = ""), r = de(r), n = de(n), null === r || null === n) continue;
                i.push(r + "=" + n)
            } return i.length ? t + i.join("&") : ""
    }, ue.parse = function(e) {
        for (var t, n = /([^=?#&]+)=?([^&]*)/g, r = {}; t = n.exec(e);) {
            var i = ce(t[1]),
                a = ce(t[2]);
            null === i || null === a || i in r || (r[i] = a)
        }
        return r
    };
    var he = function(e, t) {
            if (t = t.split(":")[0], !(e = +e)) return !1;
            switch (t) {
                case "http":
                case "ws":
                    return 80 !== e;
                case "https":
                case "wss":
                    return 443 !== e;
                case "ftp":
                    return 21 !== e;
                case "gopher":
                    return 70 !== e;
                case "file":
                    return !1
            }
            return 0 !== e
        },
        pe = ue,
        fe = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//,
        me = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,
        ge = /^[a-zA-Z]:/,
        ye = new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");

    function ve(e) {
        return (e || "").toString().replace(ye, "")
    }
    var be = [
            ["#", "hash"],
            ["?", "query"],
            function(e, t) {
                return Se(t.protocol) ? e.replace(/\\/g, "/") : e
            },
            ["/", "pathname"],
            ["@", "auth", 1],
            [NaN, "host", void 0, 1, 1],
            [/:(\d+)$/, "port", void 0, 1],
            [NaN, "hostname", void 0, 1, 1]
        ],
        Te = {
            hash: 1,
            query: 1
        };

    function _e(e) {
        var t, n = ("undefined" != typeof window ? window : void 0 !== r ? r : "undefined" != typeof self ? self : {}).location || {},
            i = {},
            a = typeof(e = e || n);
        if ("blob:" === e.protocol) i = new Ae(unescape(e.pathname), {});
        else if ("string" === a)
            for (t in i = new Ae(e, {}), Te) delete i[t];
        else if ("object" === a) {
            for (t in e) t in Te || (i[t] = e[t]);
            void 0 === i.slashes && (i.slashes = fe.test(e.href))
        }
        return i
    }

    function Se(e) {
        return "file:" === e || "ftp:" === e || "http:" === e || "https:" === e || "ws:" === e || "wss:" === e
    }

    function we(e, t) {
        e = ve(e), t = t || {};
        var n, r = me.exec(e),
            i = r[1] ? r[1].toLowerCase() : "",
            a = !!r[2],
            o = !!r[3],
            s = 0;
        return a ? o ? (n = r[2] + r[3] + r[4], s = r[2].length + r[3].length) : (n = r[2] + r[4], s = r[2].length) : o ? (n = r[3] + r[4], s = r[3].length) : n = r[4], "file:" === i ? s >= 2 && (n = n.slice(2)) : Se(i) ? n = r[4] : i ? a && (n = n.slice(2)) : s >= 2 && Se(t.protocol) && (n = r[4]), {
            protocol: i,
            slashes: a || Se(i),
            slashesCount: s,
            rest: n
        }
    }

    function Ae(e, t, n) {
        if (e = ve(e), !(this instanceof Ae)) return new Ae(e, t, n);
        var r, i, a, o, s, u, l = be.slice(),
            c = typeof t,
            d = this,
            h = 0;
        for ("object" !== c && "string" !== c && (n = t, t = null), n && "function" != typeof n && (n = pe.parse), r = !(i = we(e || "", t = _e(t))).protocol && !i.slashes, d.slashes = i.slashes || r && t.slashes, d.protocol = i.protocol || t.protocol || "", e = i.rest, ("file:" === i.protocol && (2 !== i.slashesCount || ge.test(e)) || !i.slashes && (i.protocol || i.slashesCount < 2 || !Se(d.protocol))) && (l[3] = [/(.*)/, "pathname"]); h < l.length; h++) "function" != typeof(o = l[h]) ? (a = o[0], u = o[1], a != a ? d[u] = e : "string" == typeof a ? ~(s = e.indexOf(a)) && ("number" == typeof o[2] ? (d[u] = e.slice(0, s), e = e.slice(s + o[2])) : (d[u] = e.slice(s), e = e.slice(0, s))) : (s = a.exec(e)) && (d[u] = s[1], e = e.slice(0, s.index)), d[u] = d[u] || r && o[3] && t[u] || "", o[4] && (d[u] = d[u].toLowerCase())) : e = o(e, d);
        n && (d.query = n(d.query)), r && t.slashes && "/" !== d.pathname.charAt(0) && ("" !== d.pathname || "" !== t.pathname) && (d.pathname = function(e, t) {
            if ("" === e) return t;
            for (var n = (t || "/").split("/").slice(0, -1).concat(e.split("/")), r = n.length, i = n[r - 1], a = !1, o = 0; r--;) "." === n[r] ? n.splice(r, 1) : ".." === n[r] ? (n.splice(r, 1), o++) : o && (0 === r && (a = !0), n.splice(r, 1), o--);
            return a && n.unshift(""), "." !== i && ".." !== i || n.push(""), n.join("/")
        }(d.pathname, t.pathname)), "/" !== d.pathname.charAt(0) && Se(d.protocol) && (d.pathname = "/" + d.pathname), he(d.port, d.protocol) || (d.host = d.hostname, d.port = ""), d.username = d.password = "", d.auth && (o = d.auth.split(":"), d.username = o[0] || "", d.password = o[1] || ""), d.origin = "file:" !== d.protocol && Se(d.protocol) && d.host ? d.protocol + "//" + d.host : "null", d.href = d.toString()
    }
    Ae.prototype = {
        set: function(e, t, n) {
            var r = this;
            switch (e) {
                case "query":
                    "string" == typeof t && t.length && (t = (n || pe.parse)(t)), r[e] = t;
                    break;
                case "port":
                    r[e] = t, he(t, r.protocol) ? t && (r.host = r.hostname + ":" + t) : (r.host = r.hostname, r[e] = "");
                    break;
                case "hostname":
                    r[e] = t, r.port && (t += ":" + r.port), r.host = t;
                    break;
                case "host":
                    r[e] = t, /:\d+$/.test(t) ? (t = t.split(":"), r.port = t.pop(), r.hostname = t.join(":")) : (r.hostname = t, r.port = "");
                    break;
                case "protocol":
                    r.protocol = t.toLowerCase(), r.slashes = !n;
                    break;
                case "pathname":
                case "hash":
                    if (t) {
                        var i = "pathname" === e ? "/" : "#";
                        r[e] = t.charAt(0) !== i ? i + t : t
                    } else r[e] = t;
                    break;
                default:
                    r[e] = t
            }
            for (var a = 0; a < be.length; a++) {
                var o = be[a];
                o[4] && (r[o[1]] = r[o[1]].toLowerCase())
            }
            return r.origin = "file:" !== r.protocol && Se(r.protocol) && r.host ? r.protocol + "//" + r.host : "null", r.href = r.toString(), r
        },
        toString: function(e) {
            e && "function" == typeof e || (e = pe.stringify);
            var t, n = this,
                r = n.protocol;
            r && ":" !== r.charAt(r.length - 1) && (r += ":");
            var i = r + (n.slashes || Se(n.protocol) ? "//" : "");
            return n.username && (i += n.username, n.password && (i += ":" + n.password), i += "@"), i += n.host + n.pathname, (t = "object" == typeof n.query ? e(n.query) : n.query) && (i += "?" !== t.charAt(0) ? "?" + t : t), n.hash && (i += n.hash), i
        }
    }, Ae.extractProtocol = we, Ae.location = _e, Ae.trimLeft = ve, Ae.qs = pe;
    var Ee = Ae,
        Ce = function(e) {
            return null != e && "object" == typeof e && !1 === Array.isArray(e)
        };
    /*!
     * isobject <https://github.com/jonschlinkert/isobject>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     */
    /*!
     * get-value <https://github.com/jonschlinkert/get-value>
     *
     * Copyright (c) 2014-2018, Jon Schlinkert.
     * Released under the MIT License.
     */
    const Pe = Ce;
    var ke = function(e, t, n) {
        if (Pe(n) || (n = {
                default: n
            }), !Me(e)) return void 0 !== n.default ? n.default : e;
        "number" == typeof t && (t = String(t));
        const r = Array.isArray(t),
            i = "string" == typeof t,
            a = n.separator || ".",
            o = n.joinChar || ("string" == typeof a ? a : ".");
        if (!i && !r) return e;
        if (i && t in e) return Ie(t, e, n) ? e[t] : n.default;
        let s = r ? t : function(e, t, n) {
                if ("function" == typeof n.split) return n.split(e);
                return e.split(t)
            }(t, a, n),
            u = s.length,
            l = 0;
        do {
            let t = s[l];
            for ("number" == typeof t && (t = String(t)); t && "\\" === t.slice(-1);) t = xe([t.slice(0, -1), s[++l] || ""], o, n);
            if (t in e) {
                if (!Ie(t, e, n)) return n.default;
                e = e[t]
            } else {
                let r = !1,
                    i = l + 1;
                for (; i < u;)
                    if (t = xe([t, s[i++]], o, n), r = t in e) {
                        if (!Ie(t, e, n)) return n.default;
                        e = e[t], l = i - 1;
                        break
                    } if (!r) return n.default
            }
        } while (++l < u && Me(e));
        return l === u ? e : n.default
    };

    function xe(e, t, n) {
        return "function" == typeof n.join ? n.join(e) : e[0] + t + e[1]
    }

    function Ie(e, t, n) {
        return "function" != typeof n.isValid || n.isValid(e, t)
    }

    function Me(e) {
        return Pe(e) || Array.isArray(e) || "function" == typeof e
    }
    /*!
     * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     */
    var Le = Ce;

    function De(e) {
        return !0 === Le(e) && "[object Object]" === Object.prototype.toString.call(e)
    }
    /*!
     * set-value <https://github.com/jonschlinkert/set-value>
     *
     * Copyright (c) Jon Schlinkert (https://github.com/jonschlinkert).
     * Released under the MIT License.
     */
    const Oe = function(e) {
            var t, n;
            return !1 !== De(e) && ("function" == typeof(t = e.constructor) && (!1 !== De(n = t.prototype) && !1 !== n.hasOwnProperty("isPrototypeOf")))
        },
        Re = e => "object" == typeof e && null !== e || "function" == typeof e,
        Ne = e => {
            if ((e => "__proto__" === e || "constructor" === e || "prototype" === e)(e)) throw new Error(`Cannot set unsafe key: "${e}"`)
        },
        Be = (e, t, n) => {
            const r = (e => Array.isArray(e) ? e.flat().map(String).join(",") : e)(t ? ((e, t) => {
                if ("string" != typeof e || !t) return e;
                let n = e + ";";
                return void 0 !== t.arrays && (n += `arrays=${t.arrays};`), void 0 !== t.separator && (n += `separator=${t.separator};`), void 0 !== t.split && (n += `split=${t.split};`), void 0 !== t.merge && (n += `merge=${t.merge};`), void 0 !== t.preservePaths && (n += `preservePaths=${t.preservePaths};`), n
            })(e, t) : e);
            Ne(r);
            const i = He.cache.get(r) || n();
            return He.cache.set(r, i), i
        },
        Ue = e => {
            if ("" !== e.trim()) {
                const t = Number(e);
                return {
                    is: Number.isInteger(t),
                    number: t
                }
            }
            return {
                is: !1
            }
        },
        Fe = (e, t) => Be(e, t, (() => ((e, t) => {
            const n = t || {},
                r = n.separator || ".",
                i = "/" !== r && n.preservePaths;
            if ("symbol" == typeof e) return [e];
            if ("function" == typeof n.split) return n.split(e);
            const a = Array.isArray(e) ? e : e.split(r);
            if ("string" == typeof e && !1 !== i && /\//.test(e)) return [e];
            for (let e = 0; e < a.length && "string" == typeof a[e]; e++) {
                const {
                    is: t,
                    number: n
                } = Ue(a[e]);
                if (t) a[e] = n;
                else
                    for (; a[e] && e < a.length && a[e].endsWith("\\") && "string" == typeof a[e + 1];) a[e] = a[e].slice(0, -1) + r + a.splice(e + 1, 1)
            }
            return a
        })(e, t))),
        je = (e, t, n, r) => {
            if (Ne(t), void 0 === n) delete e[t];
            else if (r && r.merge) {
                const i = !0 === r.merge ? Object.assign : r.merge;
                i && Oe(e[t]) && Oe(n) ? e[t] = i(e[t], n) : e[t] = n
            } else e[t] = n;
            return e
        },
        He = (e, t, n, r) => {
            if (!t) return e;
            if (!Re(e)) return e;
            const i = Fe(t, r),
                a = i.length,
                o = e;
            for (let t = 0; t < a; t++) {
                const a = i[t],
                    o = i[t + 1];
                if (Ne(a), void 0 === o) {
                    je(e, a, n, r);
                    break
                }
                "number" != typeof o || Array.isArray(e[a]) ? (Re(e[a]) || (e[a] = {}), e = e[a]) : (e[a] = [], e = e[a])
            }
            return o
        };
    He.cache = new Map, He.clear = () => {
        He.cache = new Map
    };
    var Ge = He,
        Ve = {
            exports: {}
        };
    /*!@license
     * UAParser.js v0.7.28
     * Lightweight JavaScript-based User-Agent string parser
     * https://github.com/faisalman/ua-parser-js
     *
     * Copyright  2012-2021 Faisal Salman <f@faisalman.com>
     * Licensed under MIT License
     */
    ! function(e, t) {
        ! function(n, r) {
            var i = "function",
                a = "object",
                o = "string",
                s = "model",
                u = "name",
                l = "type",
                c = "vendor",
                d = "version",
                h = "architecture",
                p = "console",
                f = "mobile",
                m = "tablet",
                g = "smarttv",
                y = "wearable",
                v = "embedded",
                b = {
                    extend: function(e, t) {
                        var n = {};
                        for (var r in e) t[r] && t[r].length % 2 == 0 ? n[r] = t[r].concat(e[r]) : n[r] = e[r];
                        return n
                    },
                    has: function(e, t) {
                        return typeof e === o && -1 !== t.toLowerCase().indexOf(e.toLowerCase())
                    },
                    lowerize: function(e) {
                        return e.toLowerCase()
                    },
                    major: function(e) {
                        return typeof e === o ? e.replace(/[^\d\.]/g, "").split(".")[0] : r
                    },
                    trim: function(e, t) {
                        return e = e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""), void 0 === t ? e : e.substring(0, 255)
                    }
                },
                T = {
                    rgx: function(e, t) {
                        for (var n, o, s, u, l, c, d = 0; d < t.length && !l;) {
                            var h = t[d],
                                p = t[d + 1];
                            for (n = o = 0; n < h.length && !l;)
                                if (l = h[n++].exec(e))
                                    for (s = 0; s < p.length; s++) c = l[++o], typeof(u = p[s]) === a && u.length > 0 ? 2 == u.length ? typeof u[1] == i ? this[u[0]] = u[1].call(this, c) : this[u[0]] = u[1] : 3 == u.length ? typeof u[1] !== i || u[1].exec && u[1].test ? this[u[0]] = c ? c.replace(u[1], u[2]) : r : this[u[0]] = c ? u[1].call(this, c, u[2]) : r : 4 == u.length && (this[u[0]] = c ? u[3].call(this, c.replace(u[1], u[2])) : r) : this[u] = c || r;
                            d += 2
                        }
                    },
                    str: function(e, t) {
                        for (var n in t)
                            if (typeof t[n] === a && t[n].length > 0) {
                                for (var i = 0; i < t[n].length; i++)
                                    if (b.has(t[n][i], e)) return "?" === n ? r : n
                            } else if (b.has(t[n], e)) return "?" === n ? r : n;
                        return e
                    }
                },
                _ = {
                    browser: {
                        oldSafari: {
                            version: {
                                "1.0": "/8",
                                1.2: "/1",
                                1.3: "/3",
                                "2.0": "/412",
                                "2.0.2": "/416",
                                "2.0.3": "/417",
                                "2.0.4": "/419",
                                "?": "/"
                            }
                        },
                        oldEdge: {
                            version: {
                                .1: "12.",
                                21: "13.",
                                31: "14.",
                                39: "15.",
                                41: "16.",
                                42: "17.",
                                44: "18."
                            }
                        }
                    },
                    os: {
                        windows: {
                            version: {
                                ME: "4.90",
                                "NT 3.11": "NT3.51",
                                "NT 4.0": "NT4.0",
                                2e3: "NT 5.0",
                                XP: ["NT 5.1", "NT 5.2"],
                                Vista: "NT 6.0",
                                7: "NT 6.1",
                                8: "NT 6.2",
                                8.1: "NT 6.3",
                                10: ["NT 6.4", "NT 10.0"],
                                RT: "ARM"
                            }
                        }
                    }
                },
                S = {
                    browser: [
                        [/\b(?:crmo|crios)\/([\w\.]+)/i],
                        [d, [u, "Chrome"]],
                        [/edg(?:e|ios|a)?\/([\w\.]+)/i],
                        [d, [u, "Edge"]],
                        [/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i, /(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],
                        [u, d],
                        [/opios[\/\s]+([\w\.]+)/i],
                        [d, [u, "Opera Mini"]],
                        [/\sopr\/([\w\.]+)/i],
                        [d, [u, "Opera"]],
                        [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i, /(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i, /(ba?idubrowser)[\/\s]?([\w\.]+)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i, /(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i, /(weibo)__([\d\.]+)/i],
                        [u, d],
                        [/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],
                        [d, [u, "UCBrowser"]],
                        [/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],
                        [d, [u, "WeChat(Win) Desktop"]],
                        [/micromessenger\/([\w\.]+)/i],
                        [d, [u, "WeChat"]],
                        [/konqueror\/([\w\.]+)/i],
                        [d, [u, "Konqueror"]],
                        [/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],
                        [d, [u, "IE"]],
                        [/yabrowser\/([\w\.]+)/i],
                        [d, [u, "Yandex"]],
                        [/(avast|avg)\/([\w\.]+)/i],
                        [
                            [u, /(.+)/, "$1 Secure Browser"], d
                        ],
                        [/focus\/([\w\.]+)/i],
                        [d, [u, "Firefox Focus"]],
                        [/opt\/([\w\.]+)/i],
                        [d, [u, "Opera Touch"]],
                        [/coc_coc_browser\/([\w\.]+)/i],
                        [d, [u, "Coc Coc"]],
                        [/dolfin\/([\w\.]+)/i],
                        [d, [u, "Dolphin"]],
                        [/coast\/([\w\.]+)/i],
                        [d, [u, "Opera Coast"]],
                        [/xiaomi\/miuibrowser\/([\w\.]+)/i],
                        [d, [u, "MIUI Browser"]],
                        [/fxios\/([\w\.-]+)/i],
                        [d, [u, "Firefox"]],
                        [/(qihu|qhbrowser|qihoobrowser|360browser)/i],
                        [
                            [u, "360 Browser"]
                        ],
                        [/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],
                        [
                            [u, /(.+)/, "$1 Browser"], d
                        ],
                        [/(comodo_dragon)\/([\w\.]+)/i],
                        [
                            [u, /_/g, " "], d
                        ],
                        [/\s(electron)\/([\w\.]+)\ssafari/i, /(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],
                        [u, d],
                        [/(MetaSr)[\/\s]?([\w\.]+)/i, /(LBBROWSER)/i],
                        [u],
                        [/;fbav\/([\w\.]+);/i],
                        [d, [u, "Facebook"]],
                        [/FBAN\/FBIOS|FB_IAB\/FB4A/i],
                        [
                            [u, "Facebook"]
                        ],
                        [/safari\s(line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(chromium|instagram)[\/\s]([\w\.-]+)/i],
                        [u, d],
                        [/\bgsa\/([\w\.]+)\s.*safari\//i],
                        [d, [u, "GSA"]],
                        [/headlesschrome(?:\/([\w\.]+)|\s)/i],
                        [d, [u, "Chrome Headless"]],
                        [/\swv\).+(chrome)\/([\w\.]+)/i],
                        [
                            [u, "Chrome WebView"], d
                        ],
                        [/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],
                        [d, [u, "Android Browser"]],
                        [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],
                        [u, d],
                        [/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],
                        [d, [u, "Mobile Safari"]],
                        [/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],
                        [d, u],
                        [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
                        [u, [d, T.str, _.browser.oldSafari.version]],
                        [/(webkit|khtml)\/([\w\.]+)/i],
                        [u, d],
                        [/(navigator|netscape)\/([\w\.-]+)/i],
                        [
                            [u, "Netscape"], d
                        ],
                        [/ile\svr;\srv:([\w\.]+)\).+firefox/i],
                        [d, [u, "Firefox Reality"]],
                        [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i, /(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i, /(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]*)/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i],
                        [u, d]
                    ],
                    cpu: [
                        [/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],
                        [
                            [h, "amd64"]
                        ],
                        [/(ia32(?=;))/i],
                        [
                            [h, b.lowerize]
                        ],
                        [/((?:i[346]|x)86)[;\)]/i],
                        [
                            [h, "ia32"]
                        ],
                        [/\b(aarch64|armv?8e?l?)\b/i],
                        [
                            [h, "arm64"]
                        ],
                        [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],
                        [
                            [h, "armhf"]
                        ],
                        [/windows\s(ce|mobile);\sppc;/i],
                        [
                            [h, "arm"]
                        ],
                        [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],
                        [
                            [h, /ower/, "", b.lowerize]
                        ],
                        [/(sun4\w)[;\)]/i],
                        [
                            [h, "sparc"]
                        ],
                        [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],
                        [
                            [h, b.lowerize]
                        ]
                    ],
                    device: [
                        [/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],
                        [s, [c, "Samsung"],
                            [l, m]
                        ],
                        [/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i, /\ssamsung[\s-]([\w-]+)/i, /sec-(sgh\w+)/i],
                        [s, [c, "Samsung"],
                            [l, f]
                        ],
                        [/\((ip(?:hone|od)[\s\w]*);/i],
                        [s, [c, "Apple"],
                            [l, f]
                        ],
                        [/\((ipad);[\w\s\),;-]+apple/i, /applecoremedia\/[\w\.]+\s\((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i],
                        [s, [c, "Apple"],
                            [l, m]
                        ],
                        [/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],
                        [s, [c, "Huawei"],
                            [l, m]
                        ],
                        [/d\/huawei([\w\s-]+)[;\)]/i, /\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i, /\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],
                        [s, [c, "Huawei"],
                            [l, f]
                        ],
                        [/\b(poco[\s\w]+)(?:\sbuild|\))/i, /\b;\s(\w+)\sbuild\/hm\1/i, /\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i, /\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i, /\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],
                        [
                            [s, /_/g, " "],
                            [c, "Xiaomi"],
                            [l, f]
                        ],
                        [/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],
                        [
                            [s, /_/g, " "],
                            [c, "Xiaomi"],
                            [l, m]
                        ],
                        [/;\s(\w+)\sbuild.+\soppo/i, /\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],
                        [s, [c, "OPPO"],
                            [l, f]
                        ],
                        [/\svivo\s(\w+)(?:\sbuild|\))/i, /\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],
                        [s, [c, "Vivo"],
                            [l, f]
                        ],
                        [/\s(rmx[12]\d{3})(?:\sbuild|;)/i],
                        [s, [c, "Realme"],
                            [l, f]
                        ],
                        [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i, /\smot(?:orola)?[\s-](\w*)/i, /((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],
                        [s, [c, "Motorola"],
                            [l, f]
                        ],
                        [/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],
                        [s, [c, "Motorola"],
                            [l, m]
                        ],
                        [/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],
                        [s, [c, "LG"],
                            [l, m]
                        ],
                        [/(lm-?f100[nv]?|nexus\s[45])/i, /lg[e;\s\/-]+((?!browser|netcast)\w+)/i, /\blg(\-?[\d\w]+)\sbuild/i],
                        [s, [c, "LG"],
                            [l, f]
                        ],
                        [/(ideatab[\w\-\s]+)/i, /lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],
                        [s, [c, "Lenovo"],
                            [l, m]
                        ],
                        [/(?:maemo|nokia).*(n900|lumia\s\d+)/i, /nokia[\s_-]?([\w\.-]*)/i],
                        [
                            [s, /_/g, " "],
                            [c, "Nokia"],
                            [l, f]
                        ],
                        [/droid.+;\s(pixel\sc)[\s)]/i],
                        [s, [c, "Google"],
                            [l, m]
                        ],
                        [/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],
                        [s, [c, "Google"],
                            [l, f]
                        ],
                        [/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],
                        [s, [c, "Sony"],
                            [l, f]
                        ],
                        [/sony\stablet\s[ps]\sbuild\//i, /(?:sony)?sgp\w+(?:\sbuild\/|\))/i],
                        [
                            [s, "Xperia Tablet"],
                            [c, "Sony"],
                            [l, m]
                        ],
                        [/\s(kb2005|in20[12]5|be20[12][59])\b/i, /\ba000(1)\sbuild/i, /\boneplus\s(a\d{4})[\s)]/i],
                        [s, [c, "OnePlus"],
                            [l, f]
                        ],
                        [/(alexa)webm/i, /(kf[a-z]{2}wi)(\sbuild\/|\))/i, /(kf[a-z]+)(\sbuild\/|\)).+silk\//i],
                        [s, [c, "Amazon"],
                            [l, m]
                        ],
                        [/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],
                        [
                            [s, "Fire Phone"],
                            [c, "Amazon"],
                            [l, f]
                        ],
                        [/\((playbook);[\w\s\),;-]+(rim)/i],
                        [s, c, [l, m]],
                        [/((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10;\s(\w+)/i],
                        [s, [c, "BlackBerry"],
                            [l, f]
                        ],
                        [/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],
                        [s, [c, "ASUS"],
                            [l, m]
                        ],
                        [/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],
                        [s, [c, "ASUS"],
                            [l, f]
                        ],
                        [/(nexus\s9)/i],
                        [s, [c, "HTC"],
                            [l, m]
                        ],
                        [/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i, /(zte)-(\w*)/i, /(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],
                        [c, [s, /_/g, " "],
                            [l, f]
                        ],
                        [/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],
                        [s, [c, "Acer"],
                            [l, m]
                        ],
                        [/droid.+;\s(m[1-5]\snote)\sbuild/i, /\bmz-([\w-]{2,})/i],
                        [s, [c, "Meizu"],
                            [l, f]
                        ],
                        [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i, /(microsoft);\s(lumia[\s\w]+)/i, /(lenovo)[_\s-]?([\w-]+)/i, /linux;.+(jolla);/i, /droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],
                        [c, s, [l, f]],
                        [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i, /[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i, /[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i, /\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i, /\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],
                        [c, s, [l, m]],
                        [/\s(surface\sduo)\s/i],
                        [s, [c, "Microsoft"],
                            [l, m]
                        ],
                        [/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],
                        [s, [c, "Fairphone"],
                            [l, f]
                        ],
                        [/\s(u304aa)\sbuild/i],
                        [s, [c, "AT&T"],
                            [l, f]
                        ],
                        [/sie-(\w*)/i],
                        [s, [c, "Siemens"],
                            [l, f]
                        ],
                        [/[;\/]\s?(rct\w+)\sbuild/i],
                        [s, [c, "RCA"],
                            [l, m]
                        ],
                        [/[;\/\s](venue[\d\s]{2,7})\sbuild/i],
                        [s, [c, "Dell"],
                            [l, m]
                        ],
                        [/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],
                        [s, [c, "Verizon"],
                            [l, m]
                        ],
                        [/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],
                        [s, [c, "Barnes & Noble"],
                            [l, m]
                        ],
                        [/[;\/]\s(tm\d{3}\w+)\sbuild/i],
                        [s, [c, "NuVision"],
                            [l, m]
                        ],
                        [/;\s(k88)\sbuild/i],
                        [s, [c, "ZTE"],
                            [l, m]
                        ],
                        [/;\s(nx\d{3}j)\sbuild/i],
                        [s, [c, "ZTE"],
                            [l, f]
                        ],
                        [/[;\/]\s?(gen\d{3})\sbuild.*49h/i],
                        [s, [c, "Swiss"],
                            [l, f]
                        ],
                        [/[;\/]\s?(zur\d{3})\sbuild/i],
                        [s, [c, "Swiss"],
                            [l, m]
                        ],
                        [/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],
                        [s, [c, "Zeki"],
                            [l, m]
                        ],
                        [/[;\/]\s([yr]\d{2})\sbuild/i, /[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],
                        [
                            [c, "Dragon Touch"], s, [l, m]
                        ],
                        [/[;\/]\s?(ns-?\w{0,9})\sbuild/i],
                        [s, [c, "Insignia"],
                            [l, m]
                        ],
                        [/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],
                        [s, [c, "NextBook"],
                            [l, m]
                        ],
                        [/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],
                        [
                            [c, "Voice"], s, [l, f]
                        ],
                        [/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],
                        [
                            [c, "LvTel"], s, [l, f]
                        ],
                        [/;\s(ph-1)\s/i],
                        [s, [c, "Essential"],
                            [l, f]
                        ],
                        [/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],
                        [s, [c, "Envizen"],
                            [l, m]
                        ],
                        [/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],
                        [s, [c, "MachSpeed"],
                            [l, m]
                        ],
                        [/[;\/]\s?tu_(1491)\sbuild/i],
                        [s, [c, "Rotor"],
                            [l, m]
                        ],
                        [/(shield[\w\s]+)\sbuild/i],
                        [s, [c, "Nvidia"],
                            [l, m]
                        ],
                        [/(sprint)\s(\w+)/i],
                        [c, s, [l, f]],
                        [/(kin\.[onetw]{3})/i],
                        [
                            [s, /\./g, " "],
                            [c, "Microsoft"],
                            [l, f]
                        ],
                        [/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],
                        [s, [c, "Zebra"],
                            [l, m]
                        ],
                        [/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],
                        [s, [c, "Zebra"],
                            [l, f]
                        ],
                        [/\s(ouya)\s/i, /(nintendo)\s([wids3utch]+)/i],
                        [c, s, [l, p]],
                        [/droid.+;\s(shield)\sbuild/i],
                        [s, [c, "Nvidia"],
                            [l, p]
                        ],
                        [/(playstation\s[345portablevi]+)/i],
                        [s, [c, "Sony"],
                            [l, p]
                        ],
                        [/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],
                        [s, [c, "Microsoft"],
                            [l, p]
                        ],
                        [/smart-tv.+(samsung)/i],
                        [c, [l, g]],
                        [/hbbtv.+maple;(\d+)/i],
                        [
                            [s, /^/, "SmartTV"],
                            [c, "Samsung"],
                            [l, g]
                        ],
                        [/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],
                        [
                            [c, "LG"],
                            [l, g]
                        ],
                        [/(apple)\s?tv/i],
                        [c, [s, "Apple TV"],
                            [l, g]
                        ],
                        [/crkey/i],
                        [
                            [s, "Chromecast"],
                            [c, "Google"],
                            [l, g]
                        ],
                        [/droid.+aft([\w])(\sbuild\/|\))/i],
                        [s, [c, "Amazon"],
                            [l, g]
                        ],
                        [/\(dtv[\);].+(aquos)/i],
                        [s, [c, "Sharp"],
                            [l, g]
                        ],
                        [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],
                        [
                            [c, b.trim],
                            [s, b.trim],
                            [l, g]
                        ],
                        [/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],
                        [
                            [l, g]
                        ],
                        [/((pebble))app\/[\d\.]+\s/i],
                        [c, s, [l, y]],
                        [/droid.+;\s(glass)\s\d/i],
                        [s, [c, "Google"],
                            [l, y]
                        ],
                        [/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],
                        [s, [c, "Zebra"],
                            [l, y]
                        ],
                        [/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],
                        [c, [l, v]],
                        [/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],
                        [s, [l, f]],
                        [/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],
                        [s, [l, m]],
                        [/\s(tablet|tab)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i],
                        [
                            [l, b.lowerize]
                        ],
                        [/(android[\w\.\s\-]{0,9});.+build/i],
                        [s, [c, "Generic"]],
                        [/(phone)/i],
                        [
                            [l, f]
                        ]
                    ],
                    engine: [
                        [/windows.+\sedge\/([\w\.]+)/i],
                        [d, [u, "EdgeHTML"]],
                        [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],
                        [d, [u, "Blink"]],
                        [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i],
                        [u, d],
                        [/rv\:([\w\.]{1,9})\b.+(gecko)/i],
                        [d, u]
                    ],
                    os: [
                        [/microsoft\s(windows)\s(vista|xp)/i],
                        [u, d],
                        [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i, /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],
                        [u, [d, T.str, _.os.windows.version]],
                        [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],
                        [
                            [u, "Windows"],
                            [d, T.str, _.os.windows.version]
                        ],
                        [/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i, /cfnetwork\/.+darwin/i],
                        [
                            [d, /_/g, "."],
                            [u, "iOS"]
                        ],
                        [/(mac\sos\sx)\s?([\w\s\.]*)/i, /(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],
                        [
                            [u, "Mac OS"],
                            [d, /_/g, "."]
                        ],
                        [/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/\s]([\w\.]+)/i, /\((series40);/i],
                        [u, d],
                        [/\(bb(10);/i],
                        [d, [u, "BlackBerry"]],
                        [/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],
                        [d, [u, "Symbian"]],
                        [/mozilla.+\(mobile;.+gecko.+firefox/i],
                        [
                            [u, "Firefox OS"]
                        ],
                        [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],
                        [d, [u, "webOS"]],
                        [/crkey\/([\d\.]+)/i],
                        [d, [u, "Chromecast"]],
                        [/(cros)\s[\w]+\s([\w\.]+\w)/i],
                        [
                            [u, "Chromium OS"], d
                        ],
                        [/(nintendo|playstation)\s([wids345portablevuch]+)/i, /(xbox);\s+xbox\s([^\);]+)/i, /(mint)[\/\s\(\)]?(\w*)/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i, /(hurd|linux)\s?([\w\.]*)/i, /(gnu)\s?([\w\.]*)/i, /\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku)\s(\w+)/i],
                        [u, d],
                        [/(sunos)\s?([\w\.\d]*)/i],
                        [
                            [u, "Solaris"], d
                        ],
                        [/((?:open)?solaris)[\/\s-]?([\w\.]*)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i, /(unix)\s?([\w\.]*)/i],
                        [u, d]
                    ]
                },
                w = function(e, t) {
                    if ("object" == typeof e && (t = e, e = r), !(this instanceof w)) return new w(e, t).getResult();
                    var i = e || (void 0 !== n && n.navigator && n.navigator.userAgent ? n.navigator.userAgent : ""),
                        a = t ? b.extend(S, t) : S;
                    return this.getBrowser = function() {
                        var e = {
                            name: r,
                            version: r
                        };
                        return T.rgx.call(e, i, a.browser), e.major = b.major(e.version), e
                    }, this.getCPU = function() {
                        var e = {
                            architecture: r
                        };
                        return T.rgx.call(e, i, a.cpu), e
                    }, this.getDevice = function() {
                        var e = {
                            vendor: r,
                            model: r,
                            type: r
                        };
                        return T.rgx.call(e, i, a.device), e
                    }, this.getEngine = function() {
                        var e = {
                            name: r,
                            version: r
                        };
                        return T.rgx.call(e, i, a.engine), e
                    }, this.getOS = function() {
                        var e = {
                            name: r,
                            version: r
                        };
                        return T.rgx.call(e, i, a.os), e
                    }, this.getResult = function() {
                        return {
                            ua: this.getUA(),
                            browser: this.getBrowser(),
                            engine: this.getEngine(),
                            os: this.getOS(),
                            device: this.getDevice(),
                            cpu: this.getCPU()
                        }
                    }, this.getUA = function() {
                        return i
                    }, this.setUA = function(e) {
                        return i = typeof e === o && e.length > 255 ? b.trim(e, 255) : e, this
                    }, this.setUA(i), this
                };
            w.VERSION = "0.7.28", w.BROWSER = {
                NAME: u,
                MAJOR: "major",
                VERSION: d
            }, w.CPU = {
                ARCHITECTURE: h
            }, w.DEVICE = {
                MODEL: s,
                VENDOR: c,
                TYPE: l,
                CONSOLE: p,
                MOBILE: f,
                SMARTTV: g,
                TABLET: m,
                WEARABLE: y,
                EMBEDDED: v
            }, w.ENGINE = {
                NAME: u,
                VERSION: d
            }, w.OS = {
                NAME: u,
                VERSION: d
            }, e.exports && (t = e.exports = w), t.UAParser = w;
            var A = void 0 !== n && (n.jQuery || n.Zepto);
            if (A && !A.ua) {
                var E = new w;
                A.ua = E.getResult(), A.ua.get = function() {
                    return E.getUA()
                }, A.ua.set = function(e) {
                    E.setUA(e);
                    var t = E.getResult();
                    for (var n in t) A.ua[n] = t[n]
                }
            }
        }("object" == typeof window ? window : r)
    }(Ve, Ve.exports);
    var We = Ve.exports,
        qe = "undefined" != typeof globalThis && globalThis || "undefined" != typeof self && self || void 0 !== qe && qe,
        ze = "URLSearchParams" in qe,
        Xe = "Symbol" in qe && "iterator" in Symbol,
        Ke = "FileReader" in qe && "Blob" in qe && function() {
            try {
                return new Blob, !0
            } catch (e) {
                return !1
            }
        }(),
        Ye = "FormData" in qe,
        Qe = "ArrayBuffer" in qe;
    if (Qe) var $e = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
        Je = ArrayBuffer.isView || function(e) {
            return e && $e.indexOf(Object.prototype.toString.call(e)) > -1
        };

    function Ze(e) {
        if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e) || "" === e) throw new TypeError('Invalid character in header field name: "' + e + '"');
        return e.toLowerCase()
    }

    function et(e) {
        return "string" != typeof e && (e = String(e)), e
    }

    function tt(e) {
        var t = {
            next: function() {
                var t = e.shift();
                return {
                    done: void 0 === t,
                    value: t
                }
            }
        };
        return Xe && (t[Symbol.iterator] = function() {
            return t
        }), t
    }

    function nt(e) {
        this.map = {}, e instanceof nt ? e.forEach((function(e, t) {
            this.append(t, e)
        }), this) : Array.isArray(e) ? e.forEach((function(e) {
            this.append(e[0], e[1])
        }), this) : e && Object.getOwnPropertyNames(e).forEach((function(t) {
            this.append(t, e[t])
        }), this)
    }

    function rt(e) {
        if (e.bodyUsed) return Promise.reject(new TypeError("Already read"));
        e.bodyUsed = !0
    }

    function it(e) {
        return new Promise((function(t, n) {
            e.onload = function() {
                t(e.result)
            }, e.onerror = function() {
                n(e.error)
            }
        }))
    }

    function at(e) {
        var t = new FileReader,
            n = it(t);
        return t.readAsArrayBuffer(e), n
    }

    function ot(e) {
        if (e.slice) return e.slice(0);
        var t = new Uint8Array(e.byteLength);
        return t.set(new Uint8Array(e)), t.buffer
    }

    function st() {
        return this.bodyUsed = !1, this._initBody = function(e) {
            this.bodyUsed = this.bodyUsed, this._bodyInit = e, e ? "string" == typeof e ? this._bodyText = e : Ke && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : Ye && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : ze && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : Qe && Ke && function(e) {
                return e && DataView.prototype.isPrototypeOf(e)
            }(e) ? (this._bodyArrayBuffer = ot(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : Qe && (ArrayBuffer.prototype.isPrototypeOf(e) || Je(e)) ? this._bodyArrayBuffer = ot(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "", this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : ze && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
        }, Ke && (this.blob = function() {
            var e = rt(this);
            if (e) return e;
            if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
            if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
            if (this._bodyFormData) throw new Error("could not read FormData body as blob");
            return Promise.resolve(new Blob([this._bodyText]))
        }, this.arrayBuffer = function() {
            if (this._bodyArrayBuffer) {
                var e = rt(this);
                return e || (ArrayBuffer.isView(this._bodyArrayBuffer) ? Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset, this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength)) : Promise.resolve(this._bodyArrayBuffer))
            }
            return this.blob().then(at)
        }), this.text = function() {
            var e, t, n, r = rt(this);
            if (r) return r;
            if (this._bodyBlob) return e = this._bodyBlob, t = new FileReader, n = it(t), t.readAsText(e), n;
            if (this._bodyArrayBuffer) return Promise.resolve(function(e) {
                for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++) n[r] = String.fromCharCode(t[r]);
                return n.join("")
            }(this._bodyArrayBuffer));
            if (this._bodyFormData) throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText)
        }, Ye && (this.formData = function() {
            return this.text().then(ct)
        }), this.json = function() {
            return this.text().then(JSON.parse)
        }, this
    }
    nt.prototype.append = function(e, t) {
        e = Ze(e), t = et(t);
        var n = this.map[e];
        this.map[e] = n ? n + ", " + t : t
    }, nt.prototype.delete = function(e) {
        delete this.map[Ze(e)]
    }, nt.prototype.get = function(e) {
        return e = Ze(e), this.has(e) ? this.map[e] : null
    }, nt.prototype.has = function(e) {
        return this.map.hasOwnProperty(Ze(e))
    }, nt.prototype.set = function(e, t) {
        this.map[Ze(e)] = et(t)
    }, nt.prototype.forEach = function(e, t) {
        for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this)
    }, nt.prototype.keys = function() {
        var e = [];
        return this.forEach((function(t, n) {
            e.push(n)
        })), tt(e)
    }, nt.prototype.values = function() {
        var e = [];
        return this.forEach((function(t) {
            e.push(t)
        })), tt(e)
    }, nt.prototype.entries = function() {
        var e = [];
        return this.forEach((function(t, n) {
            e.push([n, t])
        })), tt(e)
    }, Xe && (nt.prototype[Symbol.iterator] = nt.prototype.entries);
    var ut = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];

    function lt(e, t) {
        if (!(this instanceof lt)) throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
        var n, r, i = (t = t || {}).body;
        if (e instanceof lt) {
            if (e.bodyUsed) throw new TypeError("Already read");
            this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new nt(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, i || null == e._bodyInit || (i = e._bodyInit, e.bodyUsed = !0)
        } else this.url = String(e);
        if (this.credentials = t.credentials || this.credentials || "same-origin", !t.headers && this.headers || (this.headers = new nt(t.headers)), this.method = (n = t.method || this.method || "GET", r = n.toUpperCase(), ut.indexOf(r) > -1 ? r : n), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && i) throw new TypeError("Body not allowed for GET or HEAD requests");
        if (this._initBody(i), !("GET" !== this.method && "HEAD" !== this.method || "no-store" !== t.cache && "no-cache" !== t.cache)) {
            var a = /([?&])_=[^&]*/;
            if (a.test(this.url)) this.url = this.url.replace(a, "$1_=" + (new Date).getTime());
            else {
                this.url += (/\?/.test(this.url) ? "&" : "?") + "_=" + (new Date).getTime()
            }
        }
    }

    function ct(e) {
        var t = new FormData;
        return e.trim().split("&").forEach((function(e) {
            if (e) {
                var n = e.split("="),
                    r = n.shift().replace(/\+/g, " "),
                    i = n.join("=").replace(/\+/g, " ");
                t.append(decodeURIComponent(r), decodeURIComponent(i))
            }
        })), t
    }

    function dt(e, t) {
        if (!(this instanceof dt)) throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
        t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = void 0 === t.statusText ? "" : "" + t.statusText, this.headers = new nt(t.headers), this.url = t.url || "", this._initBody(e)
    }
    lt.prototype.clone = function() {
        return new lt(this, {
            body: this._bodyInit
        })
    }, st.call(lt.prototype), st.call(dt.prototype), dt.prototype.clone = function() {
        return new dt(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new nt(this.headers),
            url: this.url
        })
    }, dt.error = function() {
        var e = new dt(null, {
            status: 0,
            statusText: ""
        });
        return e.type = "error", e
    };
    var ht = [301, 302, 303, 307, 308];
    dt.redirect = function(e, t) {
        if (-1 === ht.indexOf(t)) throw new RangeError("Invalid status code");
        return new dt(null, {
            status: t,
            headers: {
                location: e
            }
        })
    };
    var pt = qe.DOMException;
    try {
        new pt
    } catch (e) {
        (pt = function(e, t) {
            this.message = e, this.name = t;
            var n = Error(e);
            this.stack = n.stack
        }).prototype = Object.create(Error.prototype), pt.prototype.constructor = pt
    }

    function ft(e, t) {
        return new Promise((function(n, r) {
            var i = new lt(e, t);
            if (i.signal && i.signal.aborted) return r(new pt("Aborted", "AbortError"));
            var a = new XMLHttpRequest;

            function o() {
                a.abort()
            }
            a.onload = function() {
                var e, t, r = {
                    status: a.status,
                    statusText: a.statusText,
                    headers: (e = a.getAllResponseHeaders() || "", t = new nt, e.replace(/\r?\n[\t ]+/g, " ").split("\r").map((function(e) {
                        return 0 === e.indexOf("\n") ? e.substr(1, e.length) : e
                    })).forEach((function(e) {
                        var n = e.split(":"),
                            r = n.shift().trim();
                        if (r) {
                            var i = n.join(":").trim();
                            t.append(r, i)
                        }
                    })), t)
                };
                r.url = "responseURL" in a ? a.responseURL : r.headers.get("X-Request-URL");
                var i = "response" in a ? a.response : a.responseText;
                setTimeout((function() {
                    n(new dt(i, r))
                }), 0)
            }, a.onerror = function() {
                setTimeout((function() {
                    r(new TypeError("Network request failed"))
                }), 0)
            }, a.ontimeout = function() {
                setTimeout((function() {
                    r(new TypeError("Network request failed"))
                }), 0)
            }, a.onabort = function() {
                setTimeout((function() {
                    r(new pt("Aborted", "AbortError"))
                }), 0)
            }, a.open(i.method, function(e) {
                try {
                    return "" === e && qe.location.href ? qe.location.href : e
                } catch (t) {
                    return e
                }
            }(i.url), !0), "include" === i.credentials ? a.withCredentials = !0 : "omit" === i.credentials && (a.withCredentials = !1), "responseType" in a && (Ke ? a.responseType = "blob" : Qe && i.headers.get("Content-Type") && -1 !== i.headers.get("Content-Type").indexOf("application/octet-stream") && (a.responseType = "arraybuffer")), !t || "object" != typeof t.headers || t.headers instanceof nt ? i.headers.forEach((function(e, t) {
                a.setRequestHeader(t, e)
            })) : Object.getOwnPropertyNames(t.headers).forEach((function(e) {
                a.setRequestHeader(e, et(t.headers[e]))
            })), i.signal && (i.signal.addEventListener("abort", o), a.onreadystatechange = function() {
                4 === a.readyState && i.signal.removeEventListener("abort", o)
            }), a.send(void 0 === i._bodyInit ? null : i._bodyInit)
        }))
    }
    ft.polyfill = !0, qe.fetch || (qe.fetch = ft, qe.Headers = nt, qe.Request = lt, qe.Response = dt);
    var mt, gt = "undefined" != typeof Symbol && Symbol,
        yt = function() {
            if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols) return !1;
            if ("symbol" == typeof Symbol.iterator) return !0;
            var e = {},
                t = Symbol("test"),
                n = Object(t);
            if ("string" == typeof t) return !1;
            if ("[object Symbol]" !== Object.prototype.toString.call(t)) return !1;
            if ("[object Symbol]" !== Object.prototype.toString.call(n)) return !1;
            for (t in e[t] = 42, e) return !1;
            if ("function" == typeof Object.keys && 0 !== Object.keys(e).length) return !1;
            if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(e).length) return !1;
            var r = Object.getOwnPropertySymbols(e);
            if (1 !== r.length || r[0] !== t) return !1;
            if (!Object.prototype.propertyIsEnumerable.call(e, t)) return !1;
            if ("function" == typeof Object.getOwnPropertyDescriptor) {
                var i = Object.getOwnPropertyDescriptor(e, t);
                if (42 !== i.value || !0 !== i.enumerable) return !1
            }
            return !0
        },
        vt = "Function.prototype.bind called on incompatible ",
        bt = Array.prototype.slice,
        Tt = Object.prototype.toString,
        _t = "[object Function]",
        St = function(e) {
            var t = this;
            if ("function" != typeof t || Tt.call(t) !== _t) throw new TypeError(vt + t);
            for (var n, r = bt.call(arguments, 1), i = function() {
                    if (this instanceof n) {
                        var i = t.apply(this, r.concat(bt.call(arguments)));
                        return Object(i) === i ? i : this
                    }
                    return t.apply(e, r.concat(bt.call(arguments)))
                }, a = Math.max(0, t.length - r.length), o = [], s = 0; s < a; s++) o.push("$" + s);
            if (n = Function("binder", "return function (" + o.join(",") + "){ return binder.apply(this,arguments); }")(i), t.prototype) {
                var u = function() {};
                u.prototype = t.prototype, n.prototype = new u, u.prototype = null
            }
            return n
        },
        wt = Function.prototype.bind || St,
        At = wt.call(Function.call, Object.prototype.hasOwnProperty),
        Et = SyntaxError,
        Ct = Function,
        Pt = TypeError,
        kt = function(e) {
            try {
                return Ct('"use strict"; return (' + e + ").constructor;")()
            } catch (e) {}
        },
        xt = Object.getOwnPropertyDescriptor;
    if (xt) try {
        xt({}, "")
    } catch (e) {
        xt = null
    }
    var It = function() {
            throw new Pt
        },
        Mt = xt ? function() {
            try {
                return It
            } catch (e) {
                try {
                    return xt(arguments, "callee").get
                } catch (e) {
                    return It
                }
            }
        }() : It,
        Lt = "function" == typeof gt && "function" == typeof Symbol && "symbol" == typeof gt("foo") && "symbol" == typeof Symbol("bar") && yt(),
        Dt = Object.getPrototypeOf || function(e) {
            return e.__proto__
        },
        Ot = {},
        Rt = "undefined" == typeof Uint8Array ? mt : Dt(Uint8Array),
        Nt = {
            "%AggregateError%": "undefined" == typeof AggregateError ? mt : AggregateError,
            "%Array%": Array,
            "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? mt : ArrayBuffer,
            "%ArrayIteratorPrototype%": Lt ? Dt([][Symbol.iterator]()) : mt,
            "%AsyncFromSyncIteratorPrototype%": mt,
            "%AsyncFunction%": Ot,
            "%AsyncGenerator%": Ot,
            "%AsyncGeneratorFunction%": Ot,
            "%AsyncIteratorPrototype%": Ot,
            "%Atomics%": "undefined" == typeof Atomics ? mt : Atomics,
            "%BigInt%": "undefined" == typeof BigInt ? mt : BigInt,
            "%Boolean%": Boolean,
            "%DataView%": "undefined" == typeof DataView ? mt : DataView,
            "%Date%": Date,
            "%decodeURI%": decodeURI,
            "%decodeURIComponent%": decodeURIComponent,
            "%encodeURI%": encodeURI,
            "%encodeURIComponent%": encodeURIComponent,
            "%Error%": Error,
            "%eval%": eval,
            "%EvalError%": EvalError,
            "%Float32Array%": "undefined" == typeof Float32Array ? mt : Float32Array,
            "%Float64Array%": "undefined" == typeof Float64Array ? mt : Float64Array,
            "%FinalizationRegistry%": "undefined" == typeof FinalizationRegistry ? mt : FinalizationRegistry,
            "%Function%": Ct,
            "%GeneratorFunction%": Ot,
            "%Int8Array%": "undefined" == typeof Int8Array ? mt : Int8Array,
            "%Int16Array%": "undefined" == typeof Int16Array ? mt : Int16Array,
            "%Int32Array%": "undefined" == typeof Int32Array ? mt : Int32Array,
            "%isFinite%": isFinite,
            "%isNaN%": isNaN,
            "%IteratorPrototype%": Lt ? Dt(Dt([][Symbol.iterator]())) : mt,
            "%JSON%": "object" == typeof JSON ? JSON : mt,
            "%Map%": "undefined" == typeof Map ? mt : Map,
            "%MapIteratorPrototype%": "undefined" != typeof Map && Lt ? Dt((new Map)[Symbol.iterator]()) : mt,
            "%Math%": Math,
            "%Number%": Number,
            "%Object%": Object,
            "%parseFloat%": parseFloat,
            "%parseInt%": parseInt,
            "%Promise%": "undefined" == typeof Promise ? mt : Promise,
            "%Proxy%": "undefined" == typeof Proxy ? mt : Proxy,
            "%RangeError%": RangeError,
            "%ReferenceError%": ReferenceError,
            "%Reflect%": "undefined" == typeof Reflect ? mt : Reflect,
            "%RegExp%": RegExp,
            "%Set%": "undefined" == typeof Set ? mt : Set,
            "%SetIteratorPrototype%": "undefined" != typeof Set && Lt ? Dt((new Set)[Symbol.iterator]()) : mt,
            "%SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? mt : SharedArrayBuffer,
            "%String%": String,
            "%StringIteratorPrototype%": Lt ? Dt("" [Symbol.iterator]()) : mt,
            "%Symbol%": Lt ? Symbol : mt,
            "%SyntaxError%": Et,
            "%ThrowTypeError%": Mt,
            "%TypedArray%": Rt,
            "%TypeError%": Pt,
            "%Uint8Array%": "undefined" == typeof Uint8Array ? mt : Uint8Array,
            "%Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? mt : Uint8ClampedArray,
            "%Uint16Array%": "undefined" == typeof Uint16Array ? mt : Uint16Array,
            "%Uint32Array%": "undefined" == typeof Uint32Array ? mt : Uint32Array,
            "%URIError%": URIError,
            "%WeakMap%": "undefined" == typeof WeakMap ? mt : WeakMap,
            "%WeakRef%": "undefined" == typeof WeakRef ? mt : WeakRef,
            "%WeakSet%": "undefined" == typeof WeakSet ? mt : WeakSet
        },
        Bt = function e(t) {
            var n;
            if ("%AsyncFunction%" === t) n = kt("async function () {}");
            else if ("%GeneratorFunction%" === t) n = kt("function* () {}");
            else if ("%AsyncGeneratorFunction%" === t) n = kt("async function* () {}");
            else if ("%AsyncGenerator%" === t) {
                var r = e("%AsyncGeneratorFunction%");
                r && (n = r.prototype)
            } else if ("%AsyncIteratorPrototype%" === t) {
                var i = e("%AsyncGenerator%");
                i && (n = Dt(i.prototype))
            }
            return Nt[t] = n, n
        },
        Ut = {
            "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
            "%ArrayPrototype%": ["Array", "prototype"],
            "%ArrayProto_entries%": ["Array", "prototype", "entries"],
            "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
            "%ArrayProto_keys%": ["Array", "prototype", "keys"],
            "%ArrayProto_values%": ["Array", "prototype", "values"],
            "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
            "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
            "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
            "%BooleanPrototype%": ["Boolean", "prototype"],
            "%DataViewPrototype%": ["DataView", "prototype"],
            "%DatePrototype%": ["Date", "prototype"],
            "%ErrorPrototype%": ["Error", "prototype"],
            "%EvalErrorPrototype%": ["EvalError", "prototype"],
            "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
            "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
            "%FunctionPrototype%": ["Function", "prototype"],
            "%Generator%": ["GeneratorFunction", "prototype"],
            "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
            "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
            "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
            "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
            "%JSONParse%": ["JSON", "parse"],
            "%JSONStringify%": ["JSON", "stringify"],
            "%MapPrototype%": ["Map", "prototype"],
            "%NumberPrototype%": ["Number", "prototype"],
            "%ObjectPrototype%": ["Object", "prototype"],
            "%ObjProto_toString%": ["Object", "prototype", "toString"],
            "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
            "%PromisePrototype%": ["Promise", "prototype"],
            "%PromiseProto_then%": ["Promise", "prototype", "then"],
            "%Promise_all%": ["Promise", "all"],
            "%Promise_reject%": ["Promise", "reject"],
            "%Promise_resolve%": ["Promise", "resolve"],
            "%RangeErrorPrototype%": ["RangeError", "prototype"],
            "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
            "%RegExpPrototype%": ["RegExp", "prototype"],
            "%SetPrototype%": ["Set", "prototype"],
            "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
            "%StringPrototype%": ["String", "prototype"],
            "%SymbolPrototype%": ["Symbol", "prototype"],
            "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
            "%TypedArrayPrototype%": ["TypedArray", "prototype"],
            "%TypeErrorPrototype%": ["TypeError", "prototype"],
            "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
            "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
            "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
            "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
            "%URIErrorPrototype%": ["URIError", "prototype"],
            "%WeakMapPrototype%": ["WeakMap", "prototype"],
            "%WeakSetPrototype%": ["WeakSet", "prototype"]
        },
        Ft = wt,
        jt = At,
        Ht = Ft.call(Function.call, Array.prototype.concat),
        Gt = Ft.call(Function.apply, Array.prototype.splice),
        Vt = Ft.call(Function.call, String.prototype.replace),
        Wt = Ft.call(Function.call, String.prototype.slice),
        qt = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,
        zt = /\\(\\)?/g,
        Xt = function(e) {
            var t = Wt(e, 0, 1),
                n = Wt(e, -1);
            if ("%" === t && "%" !== n) throw new Et("invalid intrinsic syntax, expected closing `%`");
            if ("%" === n && "%" !== t) throw new Et("invalid intrinsic syntax, expected opening `%`");
            var r = [];
            return Vt(e, qt, (function(e, t, n, i) {
                r[r.length] = n ? Vt(i, zt, "$1") : t || e
            })), r
        },
        Kt = function(e, t) {
            var n, r = e;
            if (jt(Ut, r) && (r = "%" + (n = Ut[r])[0] + "%"), jt(Nt, r)) {
                var i = Nt[r];
                if (i === Ot && (i = Bt(r)), void 0 === i && !t) throw new Pt("intrinsic " + e + " exists, but is not available. Please file an issue!");
                return {
                    alias: n,
                    name: r,
                    value: i
                }
            }
            throw new Et("intrinsic " + e + " does not exist!")
        },
        Yt = function(e, t) {
            if ("string" != typeof e || 0 === e.length) throw new Pt("intrinsic name must be a non-empty string");
            if (arguments.length > 1 && "boolean" != typeof t) throw new Pt('"allowMissing" argument must be a boolean');
            var n = Xt(e),
                r = n.length > 0 ? n[0] : "",
                i = Kt("%" + r + "%", t),
                a = i.name,
                o = i.value,
                s = !1,
                u = i.alias;
            u && (r = u[0], Gt(n, Ht([0, 1], u)));
            for (var l = 1, c = !0; l < n.length; l += 1) {
                var d = n[l],
                    h = Wt(d, 0, 1),
                    p = Wt(d, -1);
                if (('"' === h || "'" === h || "`" === h || '"' === p || "'" === p || "`" === p) && h !== p) throw new Et("property names with quotes must have matching quotes");
                if ("constructor" !== d && c || (s = !0), jt(Nt, a = "%" + (r += "." + d) + "%")) o = Nt[a];
                else if (null != o) {
                    if (!(d in o)) {
                        if (!t) throw new Pt("base intrinsic for " + e + " exists, but the property is not available.");
                        return
                    }
                    if (xt && l + 1 >= n.length) {
                        var f = xt(o, d);
                        o = (c = !!f) && "get" in f && !("originalValue" in f.get) ? f.get : o[d]
                    } else c = jt(o, d), o = o[d];
                    c && !s && (Nt[a] = o)
                }
            }
            return o
        },
        Qt = {
            exports: {}
        };
    ! function(e) {
        var t = wt,
            n = Yt,
            r = n("%Function.prototype.apply%"),
            i = n("%Function.prototype.call%"),
            a = n("%Reflect.apply%", !0) || t.call(i, r),
            o = n("%Object.getOwnPropertyDescriptor%", !0),
            s = n("%Object.defineProperty%", !0),
            u = n("%Math.max%");
        if (s) try {
            s({}, "a", {
                value: 1
            })
        } catch (e) {
            s = null
        }
        e.exports = function(e) {
            var n = a(t, i, arguments);
            if (o && s) {
                var r = o(n, "length");
                r.configurable && s(n, "length", {
                    value: 1 + u(0, e.length - (arguments.length - 1))
                })
            }
            return n
        };
        var l = function() {
            return a(t, r, arguments)
        };
        s ? s(e.exports, "apply", {
            value: l
        }) : e.exports.apply = l
    }(Qt);
    var $t = Yt,
        Jt = Qt.exports,
        Zt = Jt($t("String.prototype.indexOf")),
        en = [],
        tn = [],
        nn = "undefined" != typeof Uint8Array ? Uint8Array : Array,
        rn = !1;

    function an() {
        rn = !0;
        for (var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", t = 0, n = e.length; t < n; ++t) en[t] = e[t], tn[e.charCodeAt(t)] = t;
        tn["-".charCodeAt(0)] = 62, tn["_".charCodeAt(0)] = 63
    }

    function on(e, t, n) {
        for (var r, i, a = [], o = t; o < n; o += 3) r = (e[o] << 16) + (e[o + 1] << 8) + e[o + 2], a.push(en[(i = r) >> 18 & 63] + en[i >> 12 & 63] + en[i >> 6 & 63] + en[63 & i]);
        return a.join("")
    }

    function sn(e) {
        var t;
        rn || an();
        for (var n = e.length, r = n % 3, i = "", a = [], o = 16383, s = 0, u = n - r; s < u; s += o) a.push(on(e, s, s + o > u ? u : s + o));
        return 1 === r ? (t = e[n - 1], i += en[t >> 2], i += en[t << 4 & 63], i += "==") : 2 === r && (t = (e[n - 2] << 8) + e[n - 1], i += en[t >> 10], i += en[t >> 4 & 63], i += en[t << 2 & 63], i += "="), a.push(i), a.join("")
    }

    function un(e, t, n, r, i) {
        var a, o, s = 8 * i - r - 1,
            u = (1 << s) - 1,
            l = u >> 1,
            c = -7,
            d = n ? i - 1 : 0,
            h = n ? -1 : 1,
            p = e[t + d];
        for (d += h, a = p & (1 << -c) - 1, p >>= -c, c += s; c > 0; a = 256 * a + e[t + d], d += h, c -= 8);
        for (o = a & (1 << -c) - 1, a >>= -c, c += r; c > 0; o = 256 * o + e[t + d], d += h, c -= 8);
        if (0 === a) a = 1 - l;
        else {
            if (a === u) return o ? NaN : 1 / 0 * (p ? -1 : 1);
            o += Math.pow(2, r), a -= l
        }
        return (p ? -1 : 1) * o * Math.pow(2, a - r)
    }

    function ln(e, t, n, r, i, a) {
        var o, s, u, l = 8 * a - i - 1,
            c = (1 << l) - 1,
            d = c >> 1,
            h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
            p = r ? 0 : a - 1,
            f = r ? 1 : -1,
            m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, o = c) : (o = Math.floor(Math.log(t) / Math.LN2), t * (u = Math.pow(2, -o)) < 1 && (o--, u *= 2), (t += o + d >= 1 ? h / u : h * Math.pow(2, 1 - d)) * u >= 2 && (o++, u /= 2), o + d >= c ? (s = 0, o = c) : o + d >= 1 ? (s = (t * u - 1) * Math.pow(2, i), o += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, i), o = 0)); i >= 8; e[n + p] = 255 & s, p += f, s /= 256, i -= 8);
        for (o = o << i | s, l += i; l > 0; e[n + p] = 255 & o, p += f, o /= 256, l -= 8);
        e[n + p - f] |= 128 * m
    }
    var cn = {}.toString,
        dn = Array.isArray || function(e) {
            return "[object Array]" == cn.call(e)
        };

    function hn() {
        return fn.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
    }

    function pn(e, t) {
        if (hn() < t) throw new RangeError("Invalid typed array length");
        return fn.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = fn.prototype : (null === e && (e = new fn(t)), e.length = t), e
    }

    function fn(e, t, n) {
        if (!(fn.TYPED_ARRAY_SUPPORT || this instanceof fn)) return new fn(e, t, n);
        if ("number" == typeof e) {
            if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
            return yn(this, e)
        }
        return mn(this, e, t, n)
    }

    function mn(e, t, n, r) {
        if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
        return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, n, r) {
            if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
            if (t.byteLength < n + (r || 0)) throw new RangeError("'length' is out of bounds");
            t = void 0 === n && void 0 === r ? new Uint8Array(t) : void 0 === r ? new Uint8Array(t, n) : new Uint8Array(t, n, r);
            fn.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = fn.prototype : e = vn(e, t);
            return e
        }(e, t, n, r) : "string" == typeof t ? function(e, t, n) {
            "string" == typeof n && "" !== n || (n = "utf8");
            if (!fn.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding');
            var r = 0 | _n(t, n),
                i = (e = pn(e, r)).write(t, n);
            i !== r && (e = e.slice(0, i));
            return e
        }(e, t, n) : function(e, t) {
            if (Tn(t)) {
                var n = 0 | bn(t.length);
                return 0 === (e = pn(e, n)).length || t.copy(e, 0, 0, n), e
            }
            if (t) {
                if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || (r = t.length) != r ? pn(e, 0) : vn(e, t);
                if ("Buffer" === t.type && dn(t.data)) return vn(e, t.data)
            }
            var r;
            throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
        }(e, t)
    }

    function gn(e) {
        if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
        if (e < 0) throw new RangeError('"size" argument must not be negative')
    }

    function yn(e, t) {
        if (gn(t), e = pn(e, t < 0 ? 0 : 0 | bn(t)), !fn.TYPED_ARRAY_SUPPORT)
            for (var n = 0; n < t; ++n) e[n] = 0;
        return e
    }

    function vn(e, t) {
        var n = t.length < 0 ? 0 : 0 | bn(t.length);
        e = pn(e, n);
        for (var r = 0; r < n; r += 1) e[r] = 255 & t[r];
        return e
    }

    function bn(e) {
        if (e >= hn()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + hn().toString(16) + " bytes");
        return 0 | e
    }

    function Tn(e) {
        return !(null == e || !e._isBuffer)
    }

    function _n(e, t) {
        if (Tn(e)) return e.length;
        if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
        "string" != typeof e && (e = "" + e);
        var n = e.length;
        if (0 === n) return 0;
        for (var r = !1;;) switch (t) {
            case "ascii":
            case "latin1":
            case "binary":
                return n;
            case "utf8":
            case "utf-8":
            case void 0:
                return Kn(e).length;
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return 2 * n;
            case "hex":
                return n >>> 1;
            case "base64":
                return Yn(e).length;
            default:
                if (r) return Kn(e).length;
                t = ("" + t).toLowerCase(), r = !0
        }
    }

    function Sn(e, t, n) {
        var r = !1;
        if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
        if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
        if ((n >>>= 0) <= (t >>>= 0)) return "";
        for (e || (e = "utf8");;) switch (e) {
            case "hex":
                return Bn(this, t, n);
            case "utf8":
            case "utf-8":
                return Dn(this, t, n);
            case "ascii":
                return Rn(this, t, n);
            case "latin1":
            case "binary":
                return Nn(this, t, n);
            case "base64":
                return Ln(this, t, n);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return Un(this, t, n);
            default:
                if (r) throw new TypeError("Unknown encoding: " + e);
                e = (e + "").toLowerCase(), r = !0
        }
    }

    function wn(e, t, n) {
        var r = e[t];
        e[t] = e[n], e[n] = r
    }

    function An(e, t, n, r, i) {
        if (0 === e.length) return -1;
        if ("string" == typeof n ? (r = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = i ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) {
            if (i) return -1;
            n = e.length - 1
        } else if (n < 0) {
            if (!i) return -1;
            n = 0
        }
        if ("string" == typeof t && (t = fn.from(t, r)), Tn(t)) return 0 === t.length ? -1 : En(e, t, n, r, i);
        if ("number" == typeof t) return t &= 255, fn.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : En(e, [t], n, r, i);
        throw new TypeError("val must be string, number or Buffer")
    }

    function En(e, t, n, r, i) {
        var a, o = 1,
            s = e.length,
            u = t.length;
        if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) {
            if (e.length < 2 || t.length < 2) return -1;
            o = 2, s /= 2, u /= 2, n /= 2
        }

        function l(e, t) {
            return 1 === o ? e[t] : e.readUInt16BE(t * o)
        }
        if (i) {
            var c = -1;
            for (a = n; a < s; a++)
                if (l(e, a) === l(t, -1 === c ? 0 : a - c)) {
                    if (-1 === c && (c = a), a - c + 1 === u) return c * o
                } else -1 !== c && (a -= a - c), c = -1
        } else
            for (n + u > s && (n = s - u), a = n; a >= 0; a--) {
                for (var d = !0, h = 0; h < u; h++)
                    if (l(e, a + h) !== l(t, h)) {
                        d = !1;
                        break
                    } if (d) return a
            }
        return -1
    }

    function Cn(e, t, n, r) {
        n = Number(n) || 0;
        var i = e.length - n;
        r ? (r = Number(r)) > i && (r = i) : r = i;
        var a = t.length;
        if (a % 2 != 0) throw new TypeError("Invalid hex string");
        r > a / 2 && (r = a / 2);
        for (var o = 0; o < r; ++o) {
            var s = parseInt(t.substr(2 * o, 2), 16);
            if (isNaN(s)) return o;
            e[n + o] = s
        }
        return o
    }

    function Pn(e, t, n, r) {
        return Qn(Kn(t, e.length - n), e, n, r)
    }

    function kn(e, t, n, r) {
        return Qn(function(e) {
            for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
            return t
        }(t), e, n, r)
    }

    function xn(e, t, n, r) {
        return kn(e, t, n, r)
    }

    function In(e, t, n, r) {
        return Qn(Yn(t), e, n, r)
    }

    function Mn(e, t, n, r) {
        return Qn(function(e, t) {
            for (var n, r, i, a = [], o = 0; o < e.length && !((t -= 2) < 0); ++o) r = (n = e.charCodeAt(o)) >> 8, i = n % 256, a.push(i), a.push(r);
            return a
        }(t, e.length - n), e, n, r)
    }

    function Ln(e, t, n) {
        return 0 === t && n === e.length ? sn(e) : sn(e.slice(t, n))
    }

    function Dn(e, t, n) {
        n = Math.min(e.length, n);
        for (var r = [], i = t; i < n;) {
            var a, o, s, u, l = e[i],
                c = null,
                d = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1;
            if (i + d <= n) switch (d) {
                case 1:
                    l < 128 && (c = l);
                    break;
                case 2:
                    128 == (192 & (a = e[i + 1])) && (u = (31 & l) << 6 | 63 & a) > 127 && (c = u);
                    break;
                case 3:
                    a = e[i + 1], o = e[i + 2], 128 == (192 & a) && 128 == (192 & o) && (u = (15 & l) << 12 | (63 & a) << 6 | 63 & o) > 2047 && (u < 55296 || u > 57343) && (c = u);
                    break;
                case 4:
                    a = e[i + 1], o = e[i + 2], s = e[i + 3], 128 == (192 & a) && 128 == (192 & o) && 128 == (192 & s) && (u = (15 & l) << 18 | (63 & a) << 12 | (63 & o) << 6 | 63 & s) > 65535 && u < 1114112 && (c = u)
            }
            null === c ? (c = 65533, d = 1) : c > 65535 && (c -= 65536, r.push(c >>> 10 & 1023 | 55296), c = 56320 | 1023 & c), r.push(c), i += d
        }
        return function(e) {
            var t = e.length;
            if (t <= On) return String.fromCharCode.apply(String, e);
            var n = "",
                r = 0;
            for (; r < t;) n += String.fromCharCode.apply(String, e.slice(r, r += On));
            return n
        }(r)
    }
    fn.TYPED_ARRAY_SUPPORT = void 0 === u.TYPED_ARRAY_SUPPORT || u.TYPED_ARRAY_SUPPORT, fn.poolSize = 8192, fn._augment = function(e) {
        return e.__proto__ = fn.prototype, e
    }, fn.from = function(e, t, n) {
        return mn(null, e, t, n)
    }, fn.TYPED_ARRAY_SUPPORT && (fn.prototype.__proto__ = Uint8Array.prototype, fn.__proto__ = Uint8Array), fn.alloc = function(e, t, n) {
        return function(e, t, n, r) {
            return gn(t), t <= 0 ? pn(e, t) : void 0 !== n ? "string" == typeof r ? pn(e, t).fill(n, r) : pn(e, t).fill(n) : pn(e, t)
        }(null, e, t, n)
    }, fn.allocUnsafe = function(e) {
        return yn(null, e)
    }, fn.allocUnsafeSlow = function(e) {
        return yn(null, e)
    }, fn.isBuffer = $n, fn.compare = function(e, t) {
        if (!Tn(e) || !Tn(t)) throw new TypeError("Arguments must be Buffers");
        if (e === t) return 0;
        for (var n = e.length, r = t.length, i = 0, a = Math.min(n, r); i < a; ++i)
            if (e[i] !== t[i]) {
                n = e[i], r = t[i];
                break
            } return n < r ? -1 : r < n ? 1 : 0
    }, fn.isEncoding = function(e) {
        switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return !0;
            default:
                return !1
        }
    }, fn.concat = function(e, t) {
        if (!dn(e)) throw new TypeError('"list" argument must be an Array of Buffers');
        if (0 === e.length) return fn.alloc(0);
        var n;
        if (void 0 === t)
            for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
        var r = fn.allocUnsafe(t),
            i = 0;
        for (n = 0; n < e.length; ++n) {
            var a = e[n];
            if (!Tn(a)) throw new TypeError('"list" argument must be an Array of Buffers');
            a.copy(r, i), i += a.length
        }
        return r
    }, fn.byteLength = _n, fn.prototype._isBuffer = !0, fn.prototype.swap16 = function() {
        var e = this.length;
        if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
        for (var t = 0; t < e; t += 2) wn(this, t, t + 1);
        return this
    }, fn.prototype.swap32 = function() {
        var e = this.length;
        if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
        for (var t = 0; t < e; t += 4) wn(this, t, t + 3), wn(this, t + 1, t + 2);
        return this
    }, fn.prototype.swap64 = function() {
        var e = this.length;
        if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
        for (var t = 0; t < e; t += 8) wn(this, t, t + 7), wn(this, t + 1, t + 6), wn(this, t + 2, t + 5), wn(this, t + 3, t + 4);
        return this
    }, fn.prototype.toString = function() {
        var e = 0 | this.length;
        return 0 === e ? "" : 0 === arguments.length ? Dn(this, 0, e) : Sn.apply(this, arguments)
    }, fn.prototype.equals = function(e) {
        if (!Tn(e)) throw new TypeError("Argument must be a Buffer");
        return this === e || 0 === fn.compare(this, e)
    }, fn.prototype.inspect = function() {
        var e = "";
        return this.length > 0 && (e = this.toString("hex", 0, 50).match(/.{2}/g).join(" "), this.length > 50 && (e += " ... ")), "<Buffer " + e + ">"
    }, fn.prototype.compare = function(e, t, n, r, i) {
        if (!Tn(e)) throw new TypeError("Argument must be a Buffer");
        if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === r && (r = 0), void 0 === i && (i = this.length), t < 0 || n > e.length || r < 0 || i > this.length) throw new RangeError("out of range index");
        if (r >= i && t >= n) return 0;
        if (r >= i) return -1;
        if (t >= n) return 1;
        if (this === e) return 0;
        for (var a = (i >>>= 0) - (r >>>= 0), o = (n >>>= 0) - (t >>>= 0), s = Math.min(a, o), u = this.slice(r, i), l = e.slice(t, n), c = 0; c < s; ++c)
            if (u[c] !== l[c]) {
                a = u[c], o = l[c];
                break
            } return a < o ? -1 : o < a ? 1 : 0
    }, fn.prototype.includes = function(e, t, n) {
        return -1 !== this.indexOf(e, t, n)
    }, fn.prototype.indexOf = function(e, t, n) {
        return An(this, e, t, n, !0)
    }, fn.prototype.lastIndexOf = function(e, t, n) {
        return An(this, e, t, n, !1)
    }, fn.prototype.write = function(e, t, n, r) {
        if (void 0 === t) r = "utf8", n = this.length, t = 0;
        else if (void 0 === n && "string" == typeof t) r = t, n = this.length, t = 0;
        else {
            if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
            t |= 0, isFinite(n) ? (n |= 0, void 0 === r && (r = "utf8")) : (r = n, n = void 0)
        }
        var i = this.length - t;
        if ((void 0 === n || n > i) && (n = i), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
        r || (r = "utf8");
        for (var a = !1;;) switch (r) {
            case "hex":
                return Cn(this, e, t, n);
            case "utf8":
            case "utf-8":
                return Pn(this, e, t, n);
            case "ascii":
                return kn(this, e, t, n);
            case "latin1":
            case "binary":
                return xn(this, e, t, n);
            case "base64":
                return In(this, e, t, n);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return Mn(this, e, t, n);
            default:
                if (a) throw new TypeError("Unknown encoding: " + r);
                r = ("" + r).toLowerCase(), a = !0
        }
    }, fn.prototype.toJSON = function() {
        return {
            type: "Buffer",
            data: Array.prototype.slice.call(this._arr || this, 0)
        }
    };
    var On = 4096;

    function Rn(e, t, n) {
        var r = "";
        n = Math.min(e.length, n);
        for (var i = t; i < n; ++i) r += String.fromCharCode(127 & e[i]);
        return r
    }

    function Nn(e, t, n) {
        var r = "";
        n = Math.min(e.length, n);
        for (var i = t; i < n; ++i) r += String.fromCharCode(e[i]);
        return r
    }

    function Bn(e, t, n) {
        var r = e.length;
        (!t || t < 0) && (t = 0), (!n || n < 0 || n > r) && (n = r);
        for (var i = "", a = t; a < n; ++a) i += Xn(e[a]);
        return i
    }

    function Un(e, t, n) {
        for (var r = e.slice(t, n), i = "", a = 0; a < r.length; a += 2) i += String.fromCharCode(r[a] + 256 * r[a + 1]);
        return i
    }

    function Fn(e, t, n) {
        if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
        if (e + t > n) throw new RangeError("Trying to access beyond buffer length")
    }

    function jn(e, t, n, r, i, a) {
        if (!Tn(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
        if (t > i || t < a) throw new RangeError('"value" argument is out of bounds');
        if (n + r > e.length) throw new RangeError("Index out of range")
    }

    function Hn(e, t, n, r) {
        t < 0 && (t = 65535 + t + 1);
        for (var i = 0, a = Math.min(e.length - n, 2); i < a; ++i) e[n + i] = (t & 255 << 8 * (r ? i : 1 - i)) >>> 8 * (r ? i : 1 - i)
    }

    function Gn(e, t, n, r) {
        t < 0 && (t = 4294967295 + t + 1);
        for (var i = 0, a = Math.min(e.length - n, 4); i < a; ++i) e[n + i] = t >>> 8 * (r ? i : 3 - i) & 255
    }

    function Vn(e, t, n, r, i, a) {
        if (n + r > e.length) throw new RangeError("Index out of range");
        if (n < 0) throw new RangeError("Index out of range")
    }

    function Wn(e, t, n, r, i) {
        return i || Vn(e, 0, n, 4), ln(e, t, n, r, 23, 4), n + 4
    }

    function qn(e, t, n, r, i) {
        return i || Vn(e, 0, n, 8), ln(e, t, n, r, 52, 8), n + 8
    }
    fn.prototype.slice = function(e, t) {
        var n, r = this.length;
        if ((e = ~~e) < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), (t = void 0 === t ? r : ~~t) < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r), t < e && (t = e), fn.TYPED_ARRAY_SUPPORT)(n = this.subarray(e, t)).__proto__ = fn.prototype;
        else {
            var i = t - e;
            n = new fn(i, void 0);
            for (var a = 0; a < i; ++a) n[a] = this[a + e]
        }
        return n
    }, fn.prototype.readUIntLE = function(e, t, n) {
        e |= 0, t |= 0, n || Fn(e, t, this.length);
        for (var r = this[e], i = 1, a = 0; ++a < t && (i *= 256);) r += this[e + a] * i;
        return r
    }, fn.prototype.readUIntBE = function(e, t, n) {
        e |= 0, t |= 0, n || Fn(e, t, this.length);
        for (var r = this[e + --t], i = 1; t > 0 && (i *= 256);) r += this[e + --t] * i;
        return r
    }, fn.prototype.readUInt8 = function(e, t) {
        return t || Fn(e, 1, this.length), this[e]
    }, fn.prototype.readUInt16LE = function(e, t) {
        return t || Fn(e, 2, this.length), this[e] | this[e + 1] << 8
    }, fn.prototype.readUInt16BE = function(e, t) {
        return t || Fn(e, 2, this.length), this[e] << 8 | this[e + 1]
    }, fn.prototype.readUInt32LE = function(e, t) {
        return t || Fn(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
    }, fn.prototype.readUInt32BE = function(e, t) {
        return t || Fn(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
    }, fn.prototype.readIntLE = function(e, t, n) {
        e |= 0, t |= 0, n || Fn(e, t, this.length);
        for (var r = this[e], i = 1, a = 0; ++a < t && (i *= 256);) r += this[e + a] * i;
        return r >= (i *= 128) && (r -= Math.pow(2, 8 * t)), r
    }, fn.prototype.readIntBE = function(e, t, n) {
        e |= 0, t |= 0, n || Fn(e, t, this.length);
        for (var r = t, i = 1, a = this[e + --r]; r > 0 && (i *= 256);) a += this[e + --r] * i;
        return a >= (i *= 128) && (a -= Math.pow(2, 8 * t)), a
    }, fn.prototype.readInt8 = function(e, t) {
        return t || Fn(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
    }, fn.prototype.readInt16LE = function(e, t) {
        t || Fn(e, 2, this.length);
        var n = this[e] | this[e + 1] << 8;
        return 32768 & n ? 4294901760 | n : n
    }, fn.prototype.readInt16BE = function(e, t) {
        t || Fn(e, 2, this.length);
        var n = this[e + 1] | this[e] << 8;
        return 32768 & n ? 4294901760 | n : n
    }, fn.prototype.readInt32LE = function(e, t) {
        return t || Fn(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
    }, fn.prototype.readInt32BE = function(e, t) {
        return t || Fn(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
    }, fn.prototype.readFloatLE = function(e, t) {
        return t || Fn(e, 4, this.length), un(this, e, !0, 23, 4)
    }, fn.prototype.readFloatBE = function(e, t) {
        return t || Fn(e, 4, this.length), un(this, e, !1, 23, 4)
    }, fn.prototype.readDoubleLE = function(e, t) {
        return t || Fn(e, 8, this.length), un(this, e, !0, 52, 8)
    }, fn.prototype.readDoubleBE = function(e, t) {
        return t || Fn(e, 8, this.length), un(this, e, !1, 52, 8)
    }, fn.prototype.writeUIntLE = function(e, t, n, r) {
        (e = +e, t |= 0, n |= 0, r) || jn(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
        var i = 1,
            a = 0;
        for (this[t] = 255 & e; ++a < n && (i *= 256);) this[t + a] = e / i & 255;
        return t + n
    }, fn.prototype.writeUIntBE = function(e, t, n, r) {
        (e = +e, t |= 0, n |= 0, r) || jn(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
        var i = n - 1,
            a = 1;
        for (this[t + i] = 255 & e; --i >= 0 && (a *= 256);) this[t + i] = e / a & 255;
        return t + n
    }, fn.prototype.writeUInt8 = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 1, 255, 0), fn.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1
    }, fn.prototype.writeUInt16LE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 2, 65535, 0), fn.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : Hn(this, e, t, !0), t + 2
    }, fn.prototype.writeUInt16BE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 2, 65535, 0), fn.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : Hn(this, e, t, !1), t + 2
    }, fn.prototype.writeUInt32LE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 4, 4294967295, 0), fn.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : Gn(this, e, t, !0), t + 4
    }, fn.prototype.writeUInt32BE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 4, 4294967295, 0), fn.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : Gn(this, e, t, !1), t + 4
    }, fn.prototype.writeIntLE = function(e, t, n, r) {
        if (e = +e, t |= 0, !r) {
            var i = Math.pow(2, 8 * n - 1);
            jn(this, e, t, n, i - 1, -i)
        }
        var a = 0,
            o = 1,
            s = 0;
        for (this[t] = 255 & e; ++a < n && (o *= 256);) e < 0 && 0 === s && 0 !== this[t + a - 1] && (s = 1), this[t + a] = (e / o >> 0) - s & 255;
        return t + n
    }, fn.prototype.writeIntBE = function(e, t, n, r) {
        if (e = +e, t |= 0, !r) {
            var i = Math.pow(2, 8 * n - 1);
            jn(this, e, t, n, i - 1, -i)
        }
        var a = n - 1,
            o = 1,
            s = 0;
        for (this[t + a] = 255 & e; --a >= 0 && (o *= 256);) e < 0 && 0 === s && 0 !== this[t + a + 1] && (s = 1), this[t + a] = (e / o >> 0) - s & 255;
        return t + n
    }, fn.prototype.writeInt8 = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 1, 127, -128), fn.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1
    }, fn.prototype.writeInt16LE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 2, 32767, -32768), fn.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : Hn(this, e, t, !0), t + 2
    }, fn.prototype.writeInt16BE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 2, 32767, -32768), fn.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : Hn(this, e, t, !1), t + 2
    }, fn.prototype.writeInt32LE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 4, 2147483647, -2147483648), fn.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : Gn(this, e, t, !0), t + 4
    }, fn.prototype.writeInt32BE = function(e, t, n) {
        return e = +e, t |= 0, n || jn(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), fn.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : Gn(this, e, t, !1), t + 4
    }, fn.prototype.writeFloatLE = function(e, t, n) {
        return Wn(this, e, t, !0, n)
    }, fn.prototype.writeFloatBE = function(e, t, n) {
        return Wn(this, e, t, !1, n)
    }, fn.prototype.writeDoubleLE = function(e, t, n) {
        return qn(this, e, t, !0, n)
    }, fn.prototype.writeDoubleBE = function(e, t, n) {
        return qn(this, e, t, !1, n)
    }, fn.prototype.copy = function(e, t, n, r) {
        if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e.length), t || (t = 0), r > 0 && r < n && (r = n), r === n) return 0;
        if (0 === e.length || 0 === this.length) return 0;
        if (t < 0) throw new RangeError("targetStart out of bounds");
        if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
        if (r < 0) throw new RangeError("sourceEnd out of bounds");
        r > this.length && (r = this.length), e.length - t < r - n && (r = e.length - t + n);
        var i, a = r - n;
        if (this === e && n < t && t < r)
            for (i = a - 1; i >= 0; --i) e[i + t] = this[i + n];
        else if (a < 1e3 || !fn.TYPED_ARRAY_SUPPORT)
            for (i = 0; i < a; ++i) e[i + t] = this[i + n];
        else Uint8Array.prototype.set.call(e, this.subarray(n, n + a), t);
        return a
    }, fn.prototype.fill = function(e, t, n, r) {
        if ("string" == typeof e) {
            if ("string" == typeof t ? (r = t, t = 0, n = this.length) : "string" == typeof n && (r = n, n = this.length), 1 === e.length) {
                var i = e.charCodeAt(0);
                i < 256 && (e = i)
            }
            if (void 0 !== r && "string" != typeof r) throw new TypeError("encoding must be a string");
            if ("string" == typeof r && !fn.isEncoding(r)) throw new TypeError("Unknown encoding: " + r)
        } else "number" == typeof e && (e &= 255);
        if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
        if (n <= t) return this;
        var a;
        if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e)
            for (a = t; a < n; ++a) this[a] = e;
        else {
            var o = Tn(e) ? e : Kn(new fn(e, r).toString()),
                s = o.length;
            for (a = 0; a < n - t; ++a) this[a + t] = o[a % s]
        }
        return this
    };
    var zn = /[^+\/0-9A-Za-z-_]/g;

    function Xn(e) {
        return e < 16 ? "0" + e.toString(16) : e.toString(16)
    }

    function Kn(e, t) {
        var n;
        t = t || 1 / 0;
        for (var r = e.length, i = null, a = [], o = 0; o < r; ++o) {
            if ((n = e.charCodeAt(o)) > 55295 && n < 57344) {
                if (!i) {
                    if (n > 56319) {
                        (t -= 3) > -1 && a.push(239, 191, 189);
                        continue
                    }
                    if (o + 1 === r) {
                        (t -= 3) > -1 && a.push(239, 191, 189);
                        continue
                    }
                    i = n;
                    continue
                }
                if (n < 56320) {
                    (t -= 3) > -1 && a.push(239, 191, 189), i = n;
                    continue
                }
                n = 65536 + (i - 55296 << 10 | n - 56320)
            } else i && (t -= 3) > -1 && a.push(239, 191, 189);
            if (i = null, n < 128) {
                if ((t -= 1) < 0) break;
                a.push(n)
            } else if (n < 2048) {
                if ((t -= 2) < 0) break;
                a.push(n >> 6 | 192, 63 & n | 128)
            } else if (n < 65536) {
                if ((t -= 3) < 0) break;
                a.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
            } else {
                if (!(n < 1114112)) throw new Error("Invalid code point");
                if ((t -= 4) < 0) break;
                a.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
            }
        }
        return a
    }

    function Yn(e) {
        return function(e) {
            var t, n, r, i, a, o;
            rn || an();
            var s = e.length;
            if (s % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
            a = "=" === e[s - 2] ? 2 : "=" === e[s - 1] ? 1 : 0, o = new nn(3 * s / 4 - a), r = a > 0 ? s - 4 : s;
            var u = 0;
            for (t = 0, n = 0; t < r; t += 4, n += 3) i = tn[e.charCodeAt(t)] << 18 | tn[e.charCodeAt(t + 1)] << 12 | tn[e.charCodeAt(t + 2)] << 6 | tn[e.charCodeAt(t + 3)], o[u++] = i >> 16 & 255, o[u++] = i >> 8 & 255, o[u++] = 255 & i;
            return 2 === a ? (i = tn[e.charCodeAt(t)] << 2 | tn[e.charCodeAt(t + 1)] >> 4, o[u++] = 255 & i) : 1 === a && (i = tn[e.charCodeAt(t)] << 10 | tn[e.charCodeAt(t + 1)] << 4 | tn[e.charCodeAt(t + 2)] >> 2, o[u++] = i >> 8 & 255, o[u++] = 255 & i), o
        }(function(e) {
            if ((e = function(e) {
                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                }(e).replace(zn, "")).length < 2) return "";
            for (; e.length % 4 != 0;) e += "=";
            return e
        }(e))
    }

    function Qn(e, t, n, r) {
        for (var i = 0; i < r && !(i + n >= t.length || i >= e.length); ++i) t[i + n] = e[i];
        return i
    }

    function $n(e) {
        return null != e && (!!e._isBuffer || Jn(e) || function(e) {
            return "function" == typeof e.readFloatLE && "function" == typeof e.slice && Jn(e.slice(0, 0))
        }(e))
    }

    function Jn(e) {
        return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)
    }
    var Zn = "function" == typeof Object.create ? function(e, t) {
            e.super_ = t, e.prototype = Object.create(t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        } : function(e, t) {
            e.super_ = t;
            var n = function() {};
            n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e
        },
        er = /%[sdj%]/g;

    function tr(e) {
        if (!yr(e)) {
            for (var t = [], n = 0; n < arguments.length; n++) t.push(or(arguments[n]));
            return t.join(" ")
        }
        n = 1;
        for (var r = arguments, i = r.length, a = String(e).replace(er, (function(e) {
                if ("%%" === e) return "%";
                if (n >= i) return e;
                switch (e) {
                    case "%s":
                        return String(r[n++]);
                    case "%d":
                        return Number(r[n++]);
                    case "%j":
                        try {
                            return JSON.stringify(r[n++])
                        } catch (e) {
                            return "[Circular]"
                        }
                        default:
                            return e
                }
            })), o = r[n]; n < i; o = r[++n]) fr(o) || !_r(o) ? a += " " + o : a += " " + or(o);
        return a
    }

    function nr(e, t) {
        if (br(u.process)) return function() {
            return nr(e, t).apply(this, arguments)
        };
        var n = !1;
        return function() {
            return n || (console.error(t), n = !0), e.apply(this, arguments)
        }
    }
    var rr, ir = {};

    function ar(e) {
        if (br(rr) && (rr = ""), e = e.toUpperCase(), !ir[e])
            if (new RegExp("\\b" + e + "\\b", "i").test(rr)) {
                ir[e] = function() {
                    var t = tr.apply(null, arguments);
                    console.error("%s %d: %s", e, 0, t)
                }
            } else ir[e] = function() {};
        return ir[e]
    }

    function or(e, t) {
        var n = {
            seen: [],
            stylize: ur
        };
        return arguments.length >= 3 && (n.depth = arguments[2]), arguments.length >= 4 && (n.colors = arguments[3]), pr(t) ? n.showHidden = t : t && Lr(n, t), br(n.showHidden) && (n.showHidden = !1), br(n.depth) && (n.depth = 2), br(n.colors) && (n.colors = !1), br(n.customInspect) && (n.customInspect = !0), n.colors && (n.stylize = sr), lr(n, e, n.depth)
    }

    function sr(e, t) {
        var n = or.styles[t];
        return n ? "[" + or.colors[n][0] + "m" + e + "[" + or.colors[n][1] + "m" : e
    }

    function ur(e, t) {
        return e
    }

    function lr(e, t, n) {
        if (e.customInspect && t && Ar(t.inspect) && t.inspect !== or && (!t.constructor || t.constructor.prototype !== t)) {
            var r = t.inspect(n, e);
            return yr(r) || (r = lr(e, r, n)), r
        }
        var i = function(e, t) {
            if (br(t)) return e.stylize("undefined", "undefined");
            if (yr(t)) {
                var n = "'" + JSON.stringify(t).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                return e.stylize(n, "string")
            }
            if (gr(t)) return e.stylize("" + t, "number");
            if (pr(t)) return e.stylize("" + t, "boolean");
            if (fr(t)) return e.stylize("null", "null")
        }(e, t);
        if (i) return i;
        var a = Object.keys(t),
            o = function(e) {
                var t = {};
                return e.forEach((function(e, n) {
                    t[e] = !0
                })), t
            }(a);
        if (e.showHidden && (a = Object.getOwnPropertyNames(t)), wr(t) && (a.indexOf("message") >= 0 || a.indexOf("description") >= 0)) return cr(t);
        if (0 === a.length) {
            if (Ar(t)) {
                var s = t.name ? ": " + t.name : "";
                return e.stylize("[Function" + s + "]", "special")
            }
            if (Tr(t)) return e.stylize(RegExp.prototype.toString.call(t), "regexp");
            if (Sr(t)) return e.stylize(Date.prototype.toString.call(t), "date");
            if (wr(t)) return cr(t)
        }
        var u, l = "",
            c = !1,
            d = ["{", "}"];
        (hr(t) && (c = !0, d = ["[", "]"]), Ar(t)) && (l = " [Function" + (t.name ? ": " + t.name : "") + "]");
        return Tr(t) && (l = " " + RegExp.prototype.toString.call(t)), Sr(t) && (l = " " + Date.prototype.toUTCString.call(t)), wr(t) && (l = " " + cr(t)), 0 !== a.length || c && 0 != t.length ? n < 0 ? Tr(t) ? e.stylize(RegExp.prototype.toString.call(t), "regexp") : e.stylize("[Object]", "special") : (e.seen.push(t), u = c ? function(e, t, n, r, i) {
            for (var a = [], o = 0, s = t.length; o < s; ++o) Dr(t, String(o)) ? a.push(dr(e, t, n, r, String(o), !0)) : a.push("");
            return i.forEach((function(i) {
                i.match(/^\d+$/) || a.push(dr(e, t, n, r, i, !0))
            })), a
        }(e, t, n, o, a) : a.map((function(r) {
            return dr(e, t, n, o, r, c)
        })), e.seen.pop(), function(e, t, n) {
            if (e.reduce((function(e, t) {
                    return t.indexOf("\n"), e + t.replace(/\u001b\[\d\d?m/g, "").length + 1
                }), 0) > 60) return n[0] + ("" === t ? "" : t + "\n ") + " " + e.join(",\n  ") + " " + n[1];
            return n[0] + t + " " + e.join(", ") + " " + n[1]
        }(u, l, d)) : d[0] + l + d[1]
    }

    function cr(e) {
        return "[" + Error.prototype.toString.call(e) + "]"
    }

    function dr(e, t, n, r, i, a) {
        var o, s, u;
        if ((u = Object.getOwnPropertyDescriptor(t, i) || {
                value: t[i]
            }).get ? s = u.set ? e.stylize("[Getter/Setter]", "special") : e.stylize("[Getter]", "special") : u.set && (s = e.stylize("[Setter]", "special")), Dr(r, i) || (o = "[" + i + "]"), s || (e.seen.indexOf(u.value) < 0 ? (s = fr(n) ? lr(e, u.value, null) : lr(e, u.value, n - 1)).indexOf("\n") > -1 && (s = a ? s.split("\n").map((function(e) {
                return "  " + e
            })).join("\n").substr(2) : "\n" + s.split("\n").map((function(e) {
                return "   " + e
            })).join("\n")) : s = e.stylize("[Circular]", "special")), br(o)) {
            if (a && i.match(/^\d+$/)) return s;
            (o = JSON.stringify("" + i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (o = o.substr(1, o.length - 2), o = e.stylize(o, "name")) : (o = o.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), o = e.stylize(o, "string"))
        }
        return o + ": " + s
    }

    function hr(e) {
        return Array.isArray(e)
    }

    function pr(e) {
        return "boolean" == typeof e
    }

    function fr(e) {
        return null === e
    }

    function mr(e) {
        return null == e
    }

    function gr(e) {
        return "number" == typeof e
    }

    function yr(e) {
        return "string" == typeof e
    }

    function vr(e) {
        return "symbol" == typeof e
    }

    function br(e) {
        return void 0 === e
    }

    function Tr(e) {
        return _r(e) && "[object RegExp]" === Pr(e)
    }

    function _r(e) {
        return "object" == typeof e && null !== e
    }

    function Sr(e) {
        return _r(e) && "[object Date]" === Pr(e)
    }

    function wr(e) {
        return _r(e) && ("[object Error]" === Pr(e) || e instanceof Error)
    }

    function Ar(e) {
        return "function" == typeof e
    }

    function Er(e) {
        return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || void 0 === e
    }

    function Cr(e) {
        return $n(e)
    }

    function Pr(e) {
        return Object.prototype.toString.call(e)
    }

    function kr(e) {
        return e < 10 ? "0" + e.toString(10) : e.toString(10)
    }
    or.colors = {
        bold: [1, 22],
        italic: [3, 23],
        underline: [4, 24],
        inverse: [7, 27],
        white: [37, 39],
        grey: [90, 39],
        black: [30, 39],
        blue: [34, 39],
        cyan: [36, 39],
        green: [32, 39],
        magenta: [35, 39],
        red: [31, 39],
        yellow: [33, 39]
    }, or.styles = {
        special: "cyan",
        number: "yellow",
        boolean: "yellow",
        undefined: "grey",
        null: "bold",
        string: "green",
        date: "magenta",
        regexp: "red"
    };
    var xr = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

    function Ir() {
        var e = new Date,
            t = [kr(e.getHours()), kr(e.getMinutes()), kr(e.getSeconds())].join(":");
        return [e.getDate(), xr[e.getMonth()], t].join(" ")
    }

    function Mr() {
        console.log("%s - %s", Ir(), tr.apply(null, arguments))
    }

    function Lr(e, t) {
        if (!t || !_r(t)) return e;
        for (var n = Object.keys(t), r = n.length; r--;) e[n[r]] = t[n[r]];
        return e
    }

    function Dr(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    var Or = {
            inherits: Zn,
            _extend: Lr,
            log: Mr,
            isBuffer: Cr,
            isPrimitive: Er,
            isFunction: Ar,
            isError: wr,
            isDate: Sr,
            isObject: _r,
            isRegExp: Tr,
            isUndefined: br,
            isSymbol: vr,
            isString: yr,
            isNumber: gr,
            isNullOrUndefined: mr,
            isNull: fr,
            isBoolean: pr,
            isArray: hr,
            inspect: or,
            deprecate: nr,
            format: tr,
            debuglog: ar
        },
        Rr = i(Object.freeze({
            __proto__: null,
            format: tr,
            deprecate: nr,
            debuglog: ar,
            inspect: or,
            isArray: hr,
            isBoolean: pr,
            isNull: fr,
            isNullOrUndefined: mr,
            isNumber: gr,
            isString: yr,
            isSymbol: vr,
            isUndefined: br,
            isRegExp: Tr,
            isObject: _r,
            isDate: Sr,
            isError: wr,
            isFunction: Ar,
            isPrimitive: Er,
            isBuffer: Cr,
            log: Mr,
            inherits: Zn,
            _extend: Lr,
            default: Or
        })).inspect,
        Nr = "function" == typeof Map && Map.prototype,
        Br = Object.getOwnPropertyDescriptor && Nr ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null,
        Ur = Nr && Br && "function" == typeof Br.get ? Br.get : null,
        Fr = Nr && Map.prototype.forEach,
        jr = "function" == typeof Set && Set.prototype,
        Hr = Object.getOwnPropertyDescriptor && jr ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null,
        Gr = jr && Hr && "function" == typeof Hr.get ? Hr.get : null,
        Vr = jr && Set.prototype.forEach,
        Wr = "function" == typeof WeakMap && WeakMap.prototype ? WeakMap.prototype.has : null,
        qr = "function" == typeof WeakSet && WeakSet.prototype ? WeakSet.prototype.has : null,
        zr = "function" == typeof WeakRef && WeakRef.prototype ? WeakRef.prototype.deref : null,
        Xr = Boolean.prototype.valueOf,
        Kr = Object.prototype.toString,
        Yr = Function.prototype.toString,
        Qr = String.prototype.match,
        $r = "function" == typeof BigInt ? BigInt.prototype.valueOf : null,
        Jr = Object.getOwnPropertySymbols,
        Zr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol.prototype.toString : null,
        ei = "function" == typeof Symbol && "object" == typeof Symbol.iterator,
        ti = Object.prototype.propertyIsEnumerable,
        ni = ("function" == typeof Reflect ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(e) {
            return e.__proto__
        } : null),
        ri = Rr.custom,
        ii = ri && li(ri) ? ri : null,
        ai = "function" == typeof Symbol && void 0 !== Symbol.toStringTag ? Symbol.toStringTag : null;

    function oi(e, t, n) {
        var r = "double" === (n.quoteStyle || t) ? '"' : "'";
        return r + e + r
    }

    function si(e) {
        return String(e).replace(/"/g, "&quot;")
    }

    function ui(e) {
        return !("[object Array]" !== hi(e) || ai && "object" == typeof e && ai in e)
    }

    function li(e) {
        if (ei) return e && "object" == typeof e && e instanceof Symbol;
        if ("symbol" == typeof e) return !0;
        if (!e || "object" != typeof e || !Zr) return !1;
        try {
            return Zr.call(e), !0
        } catch (e) {}
        return !1
    }
    var ci = Object.prototype.hasOwnProperty || function(e) {
        return e in this
    };

    function di(e, t) {
        return ci.call(e, t)
    }

    function hi(e) {
        return Kr.call(e)
    }

    function pi(e, t) {
        if (e.indexOf) return e.indexOf(t);
        for (var n = 0, r = e.length; n < r; n++)
            if (e[n] === t) return n;
        return -1
    }

    function fi(e, t) {
        if (e.length > t.maxStringLength) {
            var n = e.length - t.maxStringLength,
                r = "... " + n + " more character" + (n > 1 ? "s" : "");
            return fi(e.slice(0, t.maxStringLength), t) + r
        }
        return oi(e.replace(/(['\\])/g, "\\$1").replace(/[\x00-\x1f]/g, mi), "single", t)
    }

    function mi(e) {
        var t = e.charCodeAt(0),
            n = {
                8: "b",
                9: "t",
                10: "n",
                12: "f",
                13: "r"
            } [t];
        return n ? "\\" + n : "\\x" + (t < 16 ? "0" : "") + t.toString(16).toUpperCase()
    }

    function gi(e) {
        return "Object(" + e + ")"
    }

    function yi(e) {
        return e + " { ? }"
    }

    function vi(e, t, n, r) {
        return e + " (" + t + ") {" + (r ? bi(n, r) : n.join(", ")) + "}"
    }

    function bi(e, t) {
        if (0 === e.length) return "";
        var n = "\n" + t.prev + t.base;
        return n + e.join("," + n) + "\n" + t.prev
    }

    function Ti(e, t) {
        var n = ui(e),
            r = [];
        if (n) {
            r.length = e.length;
            for (var i = 0; i < e.length; i++) r[i] = di(e, i) ? t(e[i], e) : ""
        }
        var a, o = "function" == typeof Jr ? Jr(e) : [];
        if (ei) {
            a = {};
            for (var s = 0; s < o.length; s++) a["$" + o[s]] = o[s]
        }
        for (var u in e) di(e, u) && (n && String(Number(u)) === u && u < e.length || ei && a["$" + u] instanceof Symbol || (/[^\w$]/.test(u) ? r.push(t(u, e) + ": " + t(e[u], e)) : r.push(u + ": " + t(e[u], e))));
        if ("function" == typeof Jr)
            for (var l = 0; l < o.length; l++) ti.call(e, o[l]) && r.push("[" + t(o[l]) + "]: " + t(e[o[l]], e));
        return r
    }
    var _i = Yt,
        Si = function(e, t) {
            var n = $t(e, !!t);
            return "function" == typeof n && Zt(e, ".prototype.") > -1 ? Jt(n) : n
        },
        wi = function e(t, n, r, i) {
            var a = n || {};
            if (di(a, "quoteStyle") && "single" !== a.quoteStyle && "double" !== a.quoteStyle) throw new TypeError('option "quoteStyle" must be "single" or "double"');
            if (di(a, "maxStringLength") && ("number" == typeof a.maxStringLength ? a.maxStringLength < 0 && a.maxStringLength !== 1 / 0 : null !== a.maxStringLength)) throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
            var o = !di(a, "customInspect") || a.customInspect;
            if ("boolean" != typeof o && "symbol" !== o) throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
            if (di(a, "indent") && null !== a.indent && "\t" !== a.indent && !(parseInt(a.indent, 10) === a.indent && a.indent > 0)) throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');
            if (void 0 === t) return "undefined";
            if (null === t) return "null";
            if ("boolean" == typeof t) return t ? "true" : "false";
            if ("string" == typeof t) return fi(t, a);
            if ("number" == typeof t) return 0 === t ? 1 / 0 / t > 0 ? "0" : "-0" : String(t);
            if ("bigint" == typeof t) return String(t) + "n";
            var s = void 0 === a.depth ? 5 : a.depth;
            if (void 0 === r && (r = 0), r >= s && s > 0 && "object" == typeof t) return ui(t) ? "[Array]" : "[Object]";
            var u = function(e, t) {
                var n;
                if ("\t" === e.indent) n = "\t";
                else {
                    if (!("number" == typeof e.indent && e.indent > 0)) return null;
                    n = Array(e.indent + 1).join(" ")
                }
                return {
                    base: n,
                    prev: Array(t + 1).join(n)
                }
            }(a, r);
            if (void 0 === i) i = [];
            else if (pi(i, t) >= 0) return "[Circular]";

            function l(t, n, o) {
                if (n && (i = i.slice()).push(n), o) {
                    var s = {
                        depth: a.depth
                    };
                    return di(a, "quoteStyle") && (s.quoteStyle = a.quoteStyle), e(t, s, r + 1, i)
                }
                return e(t, a, r + 1, i)
            }
            if ("function" == typeof t) {
                var c = function(e) {
                        if (e.name) return e.name;
                        var t = Qr.call(Yr.call(e), /^function\s*([\w$]+)/);
                        if (t) return t[1];
                        return null
                    }(t),
                    d = Ti(t, l);
                return "[Function" + (c ? ": " + c : " (anonymous)") + "]" + (d.length > 0 ? " { " + d.join(", ") + " }" : "")
            }
            if (li(t)) {
                var h = ei ? String(t).replace(/^(Symbol\(.*\))_[^)]*$/, "$1") : Zr.call(t);
                return "object" != typeof t || ei ? h : gi(h)
            }
            if (function(e) {
                    if (!e || "object" != typeof e) return !1;
                    if ("undefined" != typeof HTMLElement && e instanceof HTMLElement) return !0;
                    return "string" == typeof e.nodeName && "function" == typeof e.getAttribute
                }(t)) {
                for (var p = "<" + String(t.nodeName).toLowerCase(), f = t.attributes || [], m = 0; m < f.length; m++) p += " " + f[m].name + "=" + oi(si(f[m].value), "double", a);
                return p += ">", t.childNodes && t.childNodes.length && (p += "..."), p += "</" + String(t.nodeName).toLowerCase() + ">"
            }
            if (ui(t)) {
                if (0 === t.length) return "[]";
                var g = Ti(t, l);
                return u && ! function(e) {
                    for (var t = 0; t < e.length; t++)
                        if (pi(e[t], "\n") >= 0) return !1;
                    return !0
                }(g) ? "[" + bi(g, u) + "]" : "[ " + g.join(", ") + " ]"
            }
            if (function(e) {
                    return !("[object Error]" !== hi(e) || ai && "object" == typeof e && ai in e)
                }(t)) {
                var y = Ti(t, l);
                return 0 === y.length ? "[" + String(t) + "]" : "{ [" + String(t) + "] " + y.join(", ") + " }"
            }
            if ("object" == typeof t && o) {
                if (ii && "function" == typeof t[ii]) return t[ii]();
                if ("symbol" !== o && "function" == typeof t.inspect) return t.inspect()
            }
            if (function(e) {
                    if (!Ur || !e || "object" != typeof e) return !1;
                    try {
                        Ur.call(e);
                        try {
                            Gr.call(e)
                        } catch (e) {
                            return !0
                        }
                        return e instanceof Map
                    } catch (e) {}
                    return !1
                }(t)) {
                var v = [];
                return Fr.call(t, (function(e, n) {
                    v.push(l(n, t, !0) + " => " + l(e, t))
                })), vi("Map", Ur.call(t), v, u)
            }
            if (function(e) {
                    if (!Gr || !e || "object" != typeof e) return !1;
                    try {
                        Gr.call(e);
                        try {
                            Ur.call(e)
                        } catch (e) {
                            return !0
                        }
                        return e instanceof Set
                    } catch (e) {}
                    return !1
                }(t)) {
                var b = [];
                return Vr.call(t, (function(e) {
                    b.push(l(e, t))
                })), vi("Set", Gr.call(t), b, u)
            }
            if (function(e) {
                    if (!Wr || !e || "object" != typeof e) return !1;
                    try {
                        Wr.call(e, Wr);
                        try {
                            qr.call(e, qr)
                        } catch (e) {
                            return !0
                        }
                        return e instanceof WeakMap
                    } catch (e) {}
                    return !1
                }(t)) return yi("WeakMap");
            if (function(e) {
                    if (!qr || !e || "object" != typeof e) return !1;
                    try {
                        qr.call(e, qr);
                        try {
                            Wr.call(e, Wr)
                        } catch (e) {
                            return !0
                        }
                        return e instanceof WeakSet
                    } catch (e) {}
                    return !1
                }(t)) return yi("WeakSet");
            if (function(e) {
                    if (!zr || !e || "object" != typeof e) return !1;
                    try {
                        return zr.call(e), !0
                    } catch (e) {}
                    return !1
                }(t)) return yi("WeakRef");
            if (function(e) {
                    return !("[object Number]" !== hi(e) || ai && "object" == typeof e && ai in e)
                }(t)) return gi(l(Number(t)));
            if (function(e) {
                    if (!e || "object" != typeof e || !$r) return !1;
                    try {
                        return $r.call(e), !0
                    } catch (e) {}
                    return !1
                }(t)) return gi(l($r.call(t)));
            if (function(e) {
                    return !("[object Boolean]" !== hi(e) || ai && "object" == typeof e && ai in e)
                }(t)) return gi(Xr.call(t));
            if (function(e) {
                    return !("[object String]" !== hi(e) || ai && "object" == typeof e && ai in e)
                }(t)) return gi(l(String(t)));
            if (! function(e) {
                    return !("[object Date]" !== hi(e) || ai && "object" == typeof e && ai in e)
                }(t) && ! function(e) {
                    return !("[object RegExp]" !== hi(e) || ai && "object" == typeof e && ai in e)
                }(t)) {
                var T = Ti(t, l),
                    _ = ni ? ni(t) === Object.prototype : t instanceof Object || t.constructor === Object,
                    S = t instanceof Object ? "" : "null prototype",
                    w = !_ && ai && Object(t) === t && ai in t ? hi(t).slice(8, -1) : S ? "Object" : "",
                    A = (_ || "function" != typeof t.constructor ? "" : t.constructor.name ? t.constructor.name + " " : "") + (w || S ? "[" + [].concat(w || [], S || []).join(": ") + "] " : "");
                return 0 === T.length ? A + "{}" : u ? A + "{" + bi(T, u) + "}" : A + "{ " + T.join(", ") + " }"
            }
            return String(t)
        },
        Ai = _i("%TypeError%"),
        Ei = _i("%WeakMap%", !0),
        Ci = _i("%Map%", !0),
        Pi = Si("WeakMap.prototype.get", !0),
        ki = Si("WeakMap.prototype.set", !0),
        xi = Si("WeakMap.prototype.has", !0),
        Ii = Si("Map.prototype.get", !0),
        Mi = Si("Map.prototype.set", !0),
        Li = Si("Map.prototype.has", !0),
        Di = function(e, t) {
            for (var n, r = e; null !== (n = r.next); r = n)
                if (n.key === t) return r.next = n.next, n.next = e.next, e.next = n, n
        },
        Oi = String.prototype.replace,
        Ri = /%20/g,
        Ni = "RFC3986",
        Bi = {
            default: Ni,
            formatters: {
                RFC1738: function(e) {
                    return Oi.call(e, Ri, "+")
                },
                RFC3986: function(e) {
                    return String(e)
                }
            },
            RFC1738: "RFC1738",
            RFC3986: Ni
        },
        Ui = Bi,
        Fi = Object.prototype.hasOwnProperty,
        ji = Array.isArray,
        Hi = function() {
            for (var e = [], t = 0; t < 256; ++t) e.push("%" + ((t < 16 ? "0" : "") + t.toString(16)).toUpperCase());
            return e
        }(),
        Gi = function(e, t) {
            for (var n = t && t.plainObjects ? Object.create(null) : {}, r = 0; r < e.length; ++r) void 0 !== e[r] && (n[r] = e[r]);
            return n
        },
        Vi = {
            arrayToObject: Gi,
            assign: function(e, t) {
                return Object.keys(t).reduce((function(e, n) {
                    return e[n] = t[n], e
                }), e)
            },
            combine: function(e, t) {
                return [].concat(e, t)
            },
            compact: function(e) {
                for (var t = [{
                        obj: {
                            o: e
                        },
                        prop: "o"
                    }], n = [], r = 0; r < t.length; ++r)
                    for (var i = t[r], a = i.obj[i.prop], o = Object.keys(a), s = 0; s < o.length; ++s) {
                        var u = o[s],
                            l = a[u];
                        "object" == typeof l && null !== l && -1 === n.indexOf(l) && (t.push({
                            obj: a,
                            prop: u
                        }), n.push(l))
                    }
                return function(e) {
                    for (; e.length > 1;) {
                        var t = e.pop(),
                            n = t.obj[t.prop];
                        if (ji(n)) {
                            for (var r = [], i = 0; i < n.length; ++i) void 0 !== n[i] && r.push(n[i]);
                            t.obj[t.prop] = r
                        }
                    }
                }(t), e
            },
            decode: function(e, t, n) {
                var r = e.replace(/\+/g, " ");
                if ("iso-8859-1" === n) return r.replace(/%[0-9a-f]{2}/gi, unescape);
                try {
                    return decodeURIComponent(r)
                } catch (e) {
                    return r
                }
            },
            encode: function(e, t, n, r, i) {
                if (0 === e.length) return e;
                var a = e;
                if ("symbol" == typeof e ? a = Symbol.prototype.toString.call(e) : "string" != typeof e && (a = String(e)), "iso-8859-1" === n) return escape(a).replace(/%u[0-9a-f]{4}/gi, (function(e) {
                    return "%26%23" + parseInt(e.slice(2), 16) + "%3B"
                }));
                for (var o = "", s = 0; s < a.length; ++s) {
                    var u = a.charCodeAt(s);
                    45 === u || 46 === u || 95 === u || 126 === u || u >= 48 && u <= 57 || u >= 65 && u <= 90 || u >= 97 && u <= 122 || i === Ui.RFC1738 && (40 === u || 41 === u) ? o += a.charAt(s) : u < 128 ? o += Hi[u] : u < 2048 ? o += Hi[192 | u >> 6] + Hi[128 | 63 & u] : u < 55296 || u >= 57344 ? o += Hi[224 | u >> 12] + Hi[128 | u >> 6 & 63] + Hi[128 | 63 & u] : (s += 1, u = 65536 + ((1023 & u) << 10 | 1023 & a.charCodeAt(s)), o += Hi[240 | u >> 18] + Hi[128 | u >> 12 & 63] + Hi[128 | u >> 6 & 63] + Hi[128 | 63 & u])
                }
                return o
            },
            isBuffer: function(e) {
                return !(!e || "object" != typeof e) && !!(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e))
            },
            isRegExp: function(e) {
                return "[object RegExp]" === Object.prototype.toString.call(e)
            },
            maybeMap: function(e, t) {
                if (ji(e)) {
                    for (var n = [], r = 0; r < e.length; r += 1) n.push(t(e[r]));
                    return n
                }
                return t(e)
            },
            merge: function e(t, n, r) {
                if (!n) return t;
                if ("object" != typeof n) {
                    if (ji(t)) t.push(n);
                    else {
                        if (!t || "object" != typeof t) return [t, n];
                        (r && (r.plainObjects || r.allowPrototypes) || !Fi.call(Object.prototype, n)) && (t[n] = !0)
                    }
                    return t
                }
                if (!t || "object" != typeof t) return [t].concat(n);
                var i = t;
                return ji(t) && !ji(n) && (i = Gi(t, r)), ji(t) && ji(n) ? (n.forEach((function(n, i) {
                    if (Fi.call(t, i)) {
                        var a = t[i];
                        a && "object" == typeof a && n && "object" == typeof n ? t[i] = e(a, n, r) : t.push(n)
                    } else t[i] = n
                })), t) : Object.keys(n).reduce((function(t, i) {
                    var a = n[i];
                    return Fi.call(t, i) ? t[i] = e(t[i], a, r) : t[i] = a, t
                }), i)
            }
        },
        Wi = function() {
            var e, t, n, r = {
                assert: function(e) {
                    if (!r.has(e)) throw new Ai("Side channel does not contain " + wi(e))
                },
                get: function(r) {
                    if (Ei && r && ("object" == typeof r || "function" == typeof r)) {
                        if (e) return Pi(e, r)
                    } else if (Ci) {
                        if (t) return Ii(t, r)
                    } else if (n) return function(e, t) {
                        var n = Di(e, t);
                        return n && n.value
                    }(n, r)
                },
                has: function(r) {
                    if (Ei && r && ("object" == typeof r || "function" == typeof r)) {
                        if (e) return xi(e, r)
                    } else if (Ci) {
                        if (t) return Li(t, r)
                    } else if (n) return function(e, t) {
                        return !!Di(e, t)
                    }(n, r);
                    return !1
                },
                set: function(r, i) {
                    Ei && r && ("object" == typeof r || "function" == typeof r) ? (e || (e = new Ei), ki(e, r, i)) : Ci ? (t || (t = new Ci), Mi(t, r, i)) : (n || (n = {
                        key: {},
                        next: null
                    }), function(e, t, n) {
                        var r = Di(e, t);
                        r ? r.value = n : e.next = {
                            key: t,
                            next: e.next,
                            value: n
                        }
                    }(n, r, i))
                }
            };
            return r
        },
        qi = Vi,
        zi = Bi,
        Xi = Object.prototype.hasOwnProperty,
        Ki = {
            brackets: function(e) {
                return e + "[]"
            },
            comma: "comma",
            indices: function(e, t) {
                return e + "[" + t + "]"
            },
            repeat: function(e) {
                return e
            }
        },
        Yi = Array.isArray,
        Qi = Array.prototype.push,
        $i = function(e, t) {
            Qi.apply(e, Yi(t) ? t : [t])
        },
        Ji = Date.prototype.toISOString,
        Zi = zi.default,
        ea = {
            addQueryPrefix: !1,
            allowDots: !1,
            charset: "utf-8",
            charsetSentinel: !1,
            delimiter: "&",
            encode: !0,
            encoder: qi.encode,
            encodeValuesOnly: !1,
            format: Zi,
            formatter: zi.formatters[Zi],
            indices: !1,
            serializeDate: function(e) {
                return Ji.call(e)
            },
            skipNulls: !1,
            strictNullHandling: !1
        },
        ta = function e(t, n, r, i, a, o, s, u, l, c, d, h, p, f, m) {
            var g = t;
            if (m.has(t)) throw new RangeError("Cyclic object value");
            if ("function" == typeof s ? g = s(n, g) : g instanceof Date ? g = c(g) : "comma" === r && Yi(g) && (g = qi.maybeMap(g, (function(e) {
                    return e instanceof Date ? c(e) : e
                }))), null === g) {
                if (i) return o && !p ? o(n, ea.encoder, f, "key", d) : n;
                g = ""
            }
            if (function(e) {
                    return "string" == typeof e || "number" == typeof e || "boolean" == typeof e || "symbol" == typeof e || "bigint" == typeof e
                }(g) || qi.isBuffer(g)) return o ? [h(p ? n : o(n, ea.encoder, f, "key", d)) + "=" + h(o(g, ea.encoder, f, "value", d))] : [h(n) + "=" + h(String(g))];
            var y, v = [];
            if (void 0 === g) return v;
            if ("comma" === r && Yi(g)) y = [{
                value: g.length > 0 ? g.join(",") || null : void 0
            }];
            else if (Yi(s)) y = s;
            else {
                var b = Object.keys(g);
                y = u ? b.sort(u) : b
            }
            for (var T = 0; T < y.length; ++T) {
                var _ = y[T],
                    S = "object" == typeof _ && void 0 !== _.value ? _.value : g[_];
                if (!a || null !== S) {
                    var w = Yi(g) ? "function" == typeof r ? r(n, _) : n : n + (l ? "." + _ : "[" + _ + "]");
                    m.set(t, !0);
                    var A = Wi();
                    $i(v, e(S, w, r, i, a, o, s, u, l, c, d, h, p, f, A))
                }
            }
            return v
        },
        na = Vi,
        ra = Object.prototype.hasOwnProperty,
        ia = Array.isArray,
        aa = {
            allowDots: !1,
            allowPrototypes: !1,
            allowSparse: !1,
            arrayLimit: 20,
            charset: "utf-8",
            charsetSentinel: !1,
            comma: !1,
            decoder: na.decode,
            delimiter: "&",
            depth: 5,
            ignoreQueryPrefix: !1,
            interpretNumericEntities: !1,
            parameterLimit: 1e3,
            parseArrays: !0,
            plainObjects: !1,
            strictNullHandling: !1
        },
        oa = function(e) {
            return e.replace(/&#(\d+);/g, (function(e, t) {
                return String.fromCharCode(parseInt(t, 10))
            }))
        },
        sa = function(e, t) {
            return e && "string" == typeof e && t.comma && e.indexOf(",") > -1 ? e.split(",") : e
        },
        ua = function(e, t, n, r) {
            if (e) {
                var i = n.allowDots ? e.replace(/\.([^.[]+)/g, "[$1]") : e,
                    a = /(\[[^[\]]*])/g,
                    o = n.depth > 0 && /(\[[^[\]]*])/.exec(i),
                    s = o ? i.slice(0, o.index) : i,
                    u = [];
                if (s) {
                    if (!n.plainObjects && ra.call(Object.prototype, s) && !n.allowPrototypes) return;
                    u.push(s)
                }
                for (var l = 0; n.depth > 0 && null !== (o = a.exec(i)) && l < n.depth;) {
                    if (l += 1, !n.plainObjects && ra.call(Object.prototype, o[1].slice(1, -1)) && !n.allowPrototypes) return;
                    u.push(o[1])
                }
                return o && u.push("[" + i.slice(o.index) + "]"),
                    function(e, t, n, r) {
                        for (var i = r ? t : sa(t, n), a = e.length - 1; a >= 0; --a) {
                            var o, s = e[a];
                            if ("[]" === s && n.parseArrays) o = [].concat(i);
                            else {
                                o = n.plainObjects ? Object.create(null) : {};
                                var u = "[" === s.charAt(0) && "]" === s.charAt(s.length - 1) ? s.slice(1, -1) : s,
                                    l = parseInt(u, 10);
                                n.parseArrays || "" !== u ? !isNaN(l) && s !== u && String(l) === u && l >= 0 && n.parseArrays && l <= n.arrayLimit ? (o = [])[l] = i : o[u] = i : o = {
                                    0: i
                                }
                            }
                            i = o
                        }
                        return i
                    }(u, t, n, r)
            }
        },
        la = {
            formats: Bi,
            parse: function(e, t) {
                var n = function(e) {
                    if (!e) return aa;
                    if (null !== e.decoder && void 0 !== e.decoder && "function" != typeof e.decoder) throw new TypeError("Decoder has to be a function.");
                    if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset) throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
                    var t = void 0 === e.charset ? aa.charset : e.charset;
                    return {
                        allowDots: void 0 === e.allowDots ? aa.allowDots : !!e.allowDots,
                        allowPrototypes: "boolean" == typeof e.allowPrototypes ? e.allowPrototypes : aa.allowPrototypes,
                        allowSparse: "boolean" == typeof e.allowSparse ? e.allowSparse : aa.allowSparse,
                        arrayLimit: "number" == typeof e.arrayLimit ? e.arrayLimit : aa.arrayLimit,
                        charset: t,
                        charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : aa.charsetSentinel,
                        comma: "boolean" == typeof e.comma ? e.comma : aa.comma,
                        decoder: "function" == typeof e.decoder ? e.decoder : aa.decoder,
                        delimiter: "string" == typeof e.delimiter || na.isRegExp(e.delimiter) ? e.delimiter : aa.delimiter,
                        depth: "number" == typeof e.depth || !1 === e.depth ? +e.depth : aa.depth,
                        ignoreQueryPrefix: !0 === e.ignoreQueryPrefix,
                        interpretNumericEntities: "boolean" == typeof e.interpretNumericEntities ? e.interpretNumericEntities : aa.interpretNumericEntities,
                        parameterLimit: "number" == typeof e.parameterLimit ? e.parameterLimit : aa.parameterLimit,
                        parseArrays: !1 !== e.parseArrays,
                        plainObjects: "boolean" == typeof e.plainObjects ? e.plainObjects : aa.plainObjects,
                        strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : aa.strictNullHandling
                    }
                }(t);
                if ("" === e || null == e) return n.plainObjects ? Object.create(null) : {};
                for (var r = "string" == typeof e ? function(e, t) {
                        var n, r = {},
                            i = t.ignoreQueryPrefix ? e.replace(/^\?/, "") : e,
                            a = t.parameterLimit === 1 / 0 ? void 0 : t.parameterLimit,
                            o = i.split(t.delimiter, a),
                            s = -1,
                            u = t.charset;
                        if (t.charsetSentinel)
                            for (n = 0; n < o.length; ++n) 0 === o[n].indexOf("utf8=") && ("utf8=%E2%9C%93" === o[n] ? u = "utf-8" : "utf8=%26%2310003%3B" === o[n] && (u = "iso-8859-1"), s = n, n = o.length);
                        for (n = 0; n < o.length; ++n)
                            if (n !== s) {
                                var l, c, d = o[n],
                                    h = d.indexOf("]="),
                                    p = -1 === h ? d.indexOf("=") : h + 1; - 1 === p ? (l = t.decoder(d, aa.decoder, u, "key"), c = t.strictNullHandling ? null : "") : (l = t.decoder(d.slice(0, p), aa.decoder, u, "key"), c = na.maybeMap(sa(d.slice(p + 1), t), (function(e) {
                                    return t.decoder(e, aa.decoder, u, "value")
                                }))), c && t.interpretNumericEntities && "iso-8859-1" === u && (c = oa(c)), d.indexOf("[]=") > -1 && (c = ia(c) ? [c] : c), ra.call(r, l) ? r[l] = na.combine(r[l], c) : r[l] = c
                            } return r
                    }(e, n) : e, i = n.plainObjects ? Object.create(null) : {}, a = Object.keys(r), o = 0; o < a.length; ++o) {
                    var s = a[o],
                        u = ua(s, r[s], n, "string" == typeof e);
                    i = na.merge(i, u, n)
                }
                return !0 === n.allowSparse ? i : na.compact(i)
            },
            stringify: function(e, t) {
                var n, r = e,
                    i = function(e) {
                        if (!e) return ea;
                        if (null !== e.encoder && void 0 !== e.encoder && "function" != typeof e.encoder) throw new TypeError("Encoder has to be a function.");
                        var t = e.charset || ea.charset;
                        if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset) throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
                        var n = zi.default;
                        if (void 0 !== e.format) {
                            if (!Xi.call(zi.formatters, e.format)) throw new TypeError("Unknown format option provided.");
                            n = e.format
                        }
                        var r = zi.formatters[n],
                            i = ea.filter;
                        return ("function" == typeof e.filter || Yi(e.filter)) && (i = e.filter), {
                            addQueryPrefix: "boolean" == typeof e.addQueryPrefix ? e.addQueryPrefix : ea.addQueryPrefix,
                            allowDots: void 0 === e.allowDots ? ea.allowDots : !!e.allowDots,
                            charset: t,
                            charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : ea.charsetSentinel,
                            delimiter: void 0 === e.delimiter ? ea.delimiter : e.delimiter,
                            encode: "boolean" == typeof e.encode ? e.encode : ea.encode,
                            encoder: "function" == typeof e.encoder ? e.encoder : ea.encoder,
                            encodeValuesOnly: "boolean" == typeof e.encodeValuesOnly ? e.encodeValuesOnly : ea.encodeValuesOnly,
                            filter: i,
                            format: n,
                            formatter: r,
                            serializeDate: "function" == typeof e.serializeDate ? e.serializeDate : ea.serializeDate,
                            skipNulls: "boolean" == typeof e.skipNulls ? e.skipNulls : ea.skipNulls,
                            sort: "function" == typeof e.sort ? e.sort : null,
                            strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : ea.strictNullHandling
                        }
                    }(t);
                "function" == typeof i.filter ? r = (0, i.filter)("", r) : Yi(i.filter) && (n = i.filter);
                var a, o = [];
                if ("object" != typeof r || null === r) return "";
                a = t && t.arrayFormat in Ki ? t.arrayFormat : t && "indices" in t ? t.indices ? "indices" : "repeat" : "indices";
                var s = Ki[a];
                n || (n = Object.keys(r)), i.sort && n.sort(i.sort);
                for (var u = Wi(), l = 0; l < n.length; ++l) {
                    var c = n[l];
                    i.skipNulls && null === r[c] || $i(o, ta(r[c], c, s, i.strictNullHandling, i.skipNulls, i.encode ? i.encoder : null, i.filter, i.sort, i.allowDots, i.serializeDate, i.format, i.formatter, i.encodeValuesOnly, i.charset, u))
                }
                var d = o.join(i.delimiter),
                    h = !0 === i.addQueryPrefix ? "?" : "";
                return i.charsetSentinel && ("iso-8859-1" === i.charset ? h += "utf8=%26%2310003%3B&" : h += "utf8=%E2%9C%93&"), d.length > 0 ? h + d : ""
            }
        };
    const ca = "function" == typeof btoa,
        da = "function" == typeof Buffer,
        ha = ("function" == typeof TextDecoder && new TextDecoder, "function" == typeof TextEncoder ? new TextEncoder : void 0),
        pa = [..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],
        fa = ((e => {
            let t = {};
            e.forEach(((e, n) => t[e] = n))
        })(pa), String.fromCharCode.bind(String)),
        ma = ("function" == typeof Uint8Array.from && Uint8Array.from.bind(Uint8Array), e => e.replace(/[+\/]/g, (e => "+" == e ? "-" : "_")).replace(/=+$/m, "")),
        ga = e => {
            let t, n, r, i, a = "";
            const o = e.length % 3;
            for (let o = 0; o < e.length;) {
                if ((n = e.charCodeAt(o++)) > 255 || (r = e.charCodeAt(o++)) > 255 || (i = e.charCodeAt(o++)) > 255) throw new TypeError("invalid character found");
                t = n << 16 | r << 8 | i, a += pa[t >> 18 & 63] + pa[t >> 12 & 63] + pa[t >> 6 & 63] + pa[63 & t]
            }
            return o ? a.slice(0, o - 3) + "===".substring(o) : a
        },
        ya = ca ? e => btoa(e) : da ? e => Buffer.from(e, "binary").toString("base64") : ga,
        va = da ? e => Buffer.from(e).toString("base64") : e => {
            let t = [];
            for (let n = 0, r = e.length; n < r; n += 4096) t.push(fa.apply(null, e.subarray(n, n + 4096)));
            return ya(t.join(""))
        },
        ba = e => {
            if (e.length < 2) return (t = e.charCodeAt(0)) < 128 ? e : t < 2048 ? fa(192 | t >>> 6) + fa(128 | 63 & t) : fa(224 | t >>> 12 & 15) + fa(128 | t >>> 6 & 63) + fa(128 | 63 & t);
            var t = 65536 + 1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320);
            return fa(240 | t >>> 18 & 7) + fa(128 | t >>> 12 & 63) + fa(128 | t >>> 6 & 63) + fa(128 | 63 & t)
        },
        Ta = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,
        _a = e => e.replace(Ta, ba),
        Sa = da ? e => Buffer.from(e, "utf8").toString("base64") : ha ? e => va(ha.encode(e)) : e => ya(_a(e)),
        wa = (e, t = !1) => t ? ma(Sa(e)) : Sa(e),
        Aa = wa;

    function Ea(e, t, n, r, i, a, o) {
        try {
            var s = e[a](o),
                u = s.value
        } catch (e) {
            return void n(e)
        }
        s.done ? t(u) : Promise.resolve(u).then(r, i)
    }

    function Ca(e) {
        return function() {
            var t = this,
                n = arguments;
            return new Promise((function(r, i) {
                var a = e.apply(t, n);

                function o(e) {
                    Ea(a, r, i, o, s, "next", e)
                }

                function s(e) {
                    Ea(a, r, i, o, s, "throw", e)
                }
                o(void 0)
            }))
        }
    }
    var Pa = {
        exports: {}
    };
    ! function(e) {
        var t = function(e) {
            var t, n = Object.prototype,
                r = n.hasOwnProperty,
                i = "function" == typeof Symbol ? Symbol : {},
                a = i.iterator || "@@iterator",
                o = i.asyncIterator || "@@asyncIterator",
                s = i.toStringTag || "@@toStringTag";

            function u(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t]
            }
            try {
                u({}, "")
            } catch (e) {
                u = function(e, t, n) {
                    return e[t] = n
                }
            }

            function l(e, t, n, r) {
                var i = t && t.prototype instanceof g ? t : g,
                    a = Object.create(i.prototype),
                    o = new k(r || []);
                return a._invoke = function(e, t, n) {
                    var r = d;
                    return function(i, a) {
                        if (r === p) throw new Error("Generator is already running");
                        if (r === f) {
                            if ("throw" === i) throw a;
                            return I()
                        }
                        for (n.method = i, n.arg = a;;) {
                            var o = n.delegate;
                            if (o) {
                                var s = E(o, n);
                                if (s) {
                                    if (s === m) continue;
                                    return s
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg;
                            else if ("throw" === n.method) {
                                if (r === d) throw r = f, n.arg;
                                n.dispatchException(n.arg)
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = p;
                            var u = c(e, t, n);
                            if ("normal" === u.type) {
                                if (r = n.done ? f : h, u.arg === m) continue;
                                return {
                                    value: u.arg,
                                    done: n.done
                                }
                            }
                            "throw" === u.type && (r = f, n.method = "throw", n.arg = u.arg)
                        }
                    }
                }(e, n, o), a
            }

            function c(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    }
                } catch (e) {
                    return {
                        type: "throw",
                        arg: e
                    }
                }
            }
            e.wrap = l;
            var d = "suspendedStart",
                h = "suspendedYield",
                p = "executing",
                f = "completed",
                m = {};

            function g() {}

            function y() {}

            function v() {}
            var b = {};
            u(b, a, (function() {
                return this
            }));
            var T = Object.getPrototypeOf,
                _ = T && T(T(x([])));
            _ && _ !== n && r.call(_, a) && (b = _);
            var S = v.prototype = g.prototype = Object.create(b);

            function w(e) {
                ["next", "throw", "return"].forEach((function(t) {
                    u(e, t, (function(e) {
                        return this._invoke(t, e)
                    }))
                }))
            }

            function A(e, t) {
                function n(i, a, o, s) {
                    var u = c(e[i], e, a);
                    if ("throw" !== u.type) {
                        var l = u.arg,
                            d = l.value;
                        return d && "object" == typeof d && r.call(d, "__await") ? t.resolve(d.__await).then((function(e) {
                            n("next", e, o, s)
                        }), (function(e) {
                            n("throw", e, o, s)
                        })) : t.resolve(d).then((function(e) {
                            l.value = e, o(l)
                        }), (function(e) {
                            return n("throw", e, o, s)
                        }))
                    }
                    s(u.arg)
                }
                var i;
                this._invoke = function(e, r) {
                    function a() {
                        return new t((function(t, i) {
                            n(e, r, t, i)
                        }))
                    }
                    return i = i ? i.then(a, a) : a()
                }
            }

            function E(e, n) {
                var r = e.iterator[n.method];
                if (r === t) {
                    if (n.delegate = null, "throw" === n.method) {
                        if (e.iterator.return && (n.method = "return", n.arg = t, E(e, n), "throw" === n.method)) return m;
                        n.method = "throw", n.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return m
                }
                var i = c(r, e.iterator, n.arg);
                if ("throw" === i.type) return n.method = "throw", n.arg = i.arg, n.delegate = null, m;
                var a = i.arg;
                return a ? a.done ? (n[e.resultName] = a.value, n.next = e.nextLoc, "return" !== n.method && (n.method = "next", n.arg = t), n.delegate = null, m) : a : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, m)
            }

            function C(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
            }

            function P(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t
            }

            function k(e) {
                this.tryEntries = [{
                    tryLoc: "root"
                }], e.forEach(C, this), this.reset(!0)
            }

            function x(e) {
                if (e) {
                    var n = e[a];
                    if (n) return n.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var i = -1,
                            o = function n() {
                                for (; ++i < e.length;)
                                    if (r.call(e, i)) return n.value = e[i], n.done = !1, n;
                                return n.value = t, n.done = !0, n
                            };
                        return o.next = o
                    }
                }
                return {
                    next: I
                }
            }

            function I() {
                return {
                    value: t,
                    done: !0
                }
            }
            return y.prototype = v, u(S, "constructor", v), u(v, "constructor", y), y.displayName = u(v, s, "GeneratorFunction"), e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === y || "GeneratorFunction" === (t.displayName || t.name))
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, v) : (e.__proto__ = v, u(e, s, "GeneratorFunction")), e.prototype = Object.create(S), e
            }, e.awrap = function(e) {
                return {
                    __await: e
                }
            }, w(A.prototype), u(A.prototype, o, (function() {
                return this
            })), e.AsyncIterator = A, e.async = function(t, n, r, i, a) {
                void 0 === a && (a = Promise);
                var o = new A(l(t, n, r, i), a);
                return e.isGeneratorFunction(n) ? o : o.next().then((function(e) {
                    return e.done ? e.value : o.next()
                }))
            }, w(S), u(S, s, "Generator"), u(S, a, (function() {
                return this
            })), u(S, "toString", (function() {
                return "[object Generator]"
            })), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(),
                    function n() {
                        for (; t.length;) {
                            var r = t.pop();
                            if (r in e) return n.value = r, n.done = !1, n
                        }
                        return n.done = !0, n
                    }
            }, e.values = x, k.prototype = {
                constructor: k,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(P), !e)
                        for (var n in this) "t" === n.charAt(0) && r.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t)
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var n = this;

                    function i(r, i) {
                        return s.type = "throw", s.arg = e, n.next = r, i && (n.method = "next", n.arg = t), !!i
                    }
                    for (var a = this.tryEntries.length - 1; a >= 0; --a) {
                        var o = this.tryEntries[a],
                            s = o.completion;
                        if ("root" === o.tryLoc) return i("end");
                        if (o.tryLoc <= this.prev) {
                            var u = r.call(o, "catchLoc"),
                                l = r.call(o, "finallyLoc");
                            if (u && l) {
                                if (this.prev < o.catchLoc) return i(o.catchLoc, !0);
                                if (this.prev < o.finallyLoc) return i(o.finallyLoc)
                            } else if (u) {
                                if (this.prev < o.catchLoc) return i(o.catchLoc, !0)
                            } else {
                                if (!l) throw new Error("try statement without catch or finally");
                                if (this.prev < o.finallyLoc) return i(o.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                        var i = this.tryEntries[n];
                        if (i.tryLoc <= this.prev && r.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                            var a = i;
                            break
                        }
                    }
                    a && ("break" === e || "continue" === e) && a.tryLoc <= t && t <= a.finallyLoc && (a = null);
                    var o = a ? a.completion : {};
                    return o.type = e, o.arg = t, a ? (this.method = "next", this.next = a.finallyLoc, m) : this.complete(o)
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), m
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), P(n), m
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var i = r.arg;
                                P(n)
                            }
                            return i
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(e, n, r) {
                    return this.delegate = {
                        iterator: x(e),
                        resultName: n,
                        nextLoc: r
                    }, "next" === this.method && (this.arg = t), m
                }
            }, e
        }(e.exports);
        try {
            regeneratorRuntime = t
        } catch (e) {
            "object" == typeof globalThis ? globalThis.regeneratorRuntime = t : Function("r", "regeneratorRuntime = r")(t)
        }
    }(Pa);
    var ka = Pa.exports;

    function xa() {
        var e = 0,
            t = window;
        try {
            for (; t != t.parent;) e++, t = t.parent
        } catch (e) {}
        return e
    }

    function Ia(e, t, n) {
        return new Promise((function(r, i) {
            if (n && n.exists && n.exists()) r();
            else {
                var a = n && n.alternates && n.alternates.length > 0 ? function(e) {
                        if (e && e.length) {
                            var t = document.querySelectorAll("script");
                            if (t)
                                for (var n in t) {
                                    var r = t[n];
                                    if (e.includes(r.src)) return r
                                }
                        }
                    }(n.alternates) : void 0,
                    o = a || document.createElement("script"),
                    s = n && n.error_prefix ? n.error_prefix : "Failed:";
                o.onload = function() {
                    n && n.exists && !n.exists() ? i("".concat(s, " ").concat(e)) : r()
                }, o.onerror = function() {
                    i("".concat(s, " ").concat(e))
                }, a || (o.type = "text/javascript", !0 === n.defer ? o.defer = !0 : o.async = !0, o.src = e, o.id = t, document.head.appendChild(o))
            }
        }))
    }

    function Ma() {
        var e = document.getElementsByTagName("meta")["game-slug"],
            t = document.getElementsByTagName("meta")["publisher-name"],
            n = document.getElementsByTagName("meta")["game-id"],
            r = document.getElementsByTagName("meta").locale,
            i = document.getElementsByTagName("meta")["country-code"],
            a = document.getElementsByTagName("meta").prerollDesktopUnits,
            o = document.getElementsByTagName("meta").prerollMobileUnits,
            s = {};
        return e && (s.gameSlug = e.getAttribute("content")), t && (s.publisherName = t.getAttribute("content")), n && (s.gameId = n.getAttribute("content")), r && (s.locale = r.getAttribute("content")), i && (s.countryCode = i.getAttribute("content")), a && (s.prerollDesktopUnits = a.getAttribute("content").split(",")), o && (s.prerollMobileUnits = o.getAttribute("content").split(",")), s
    }
    var La, Da, Oa = function() {
            var e = {};

            function t(t) {
                return ke(e, t)
            }

            function n(t, n) {
                return Ge(e, t, n)
            }

            function r() {
                return (r = Ca(ka.mark((function e(t) {
                    return ka.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return i(t), a(), o(), s(), u(t), l(t), c(t), e.next = 9, d();
                            case 9:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function i(e) {
                var t = (null == e ? void 0 : e.location_url) || window.location.href,
                    r = (null == e ? void 0 : e.location_referrer) || document.referrer;
                r && "" !== r || (r = t);
                var i = (null == e ? void 0 : e.location_topdomain) || function() {
                    var e = xa();
                    if (0 === e) return location.host.replace(/^www\.(.*)$/i, "$1");
                    if (location.ancestorOrigins && location.ancestorOrigins.length > 0) return location.ancestorOrigins[location.ancestorOrigins.length - 1].replace(/^https?:\/\/(www\.)?(.*)$/i, "$2");
                    if (1 === e) {
                        var t = function(e) {
                            if (e && "" !== e) try {
                                return new Ee(e)
                            } catch (e) {}
                        }(document.referrer);
                        if (t) return t.host.replace(/^www\.(.*)$/i, "$1")
                    }
                }();
                i && "" !== i || (i = void 0), n("location", {
                    topdomain: i,
                    referrer: r,
                    url: t,
                    depth: (null == e ? void 0 : e.location_depth) || xa()
                })
            }

            function a(e) {
                n("ua", (new We).getResult())
            }

            function o(e) {
                n("package", {
                    name: "@bygd/sg-sdk-pes",
                    version: "0.3.21"
                })
            }

            function s(e) {
                n("layout", {
                    width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
                    height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
                })
            }

            function u(e) {
                var t = Ma();
                n("game", {
                    slug: (null == e ? void 0 : e.game_slug) || t.gameSlug
                })
            }

            function l(e) {
                var t = Ma();
                n("publisher", {
                    id: (null == e ? void 0 : e.publisher_id) || t.publisherId,
                    name: (null == e ? void 0 : e.publisher_name) || t.publisherName
                })
            }

            function c(e) {
                var t = Ma();
                n("user", {
                    country_code: (null == e ? void 0 : e.country_code) || t.countryCode,
                    locale: (null == e ? void 0 : e.locale) || t.locale
                })
            }

            function d(e) {
                return h.apply(this, arguments)
            }

            function h() {
                return (h = Ca(ka.mark((function e(r) {
                    var i, a, o, s, u, l, c, d, h, p;
                    return ka.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (a = t("game.slug"), o = t("location.topdomain"), a && o) {
                                    e.next = 4;
                                    break
                                }
                                return e.abrupt("return");
                            case 4:
                                return s = t("package.version"), u = {
                                    domain: o,
                                    version: s
                                }, e.next = 8, fetch("https://game.api.gamedistribution.com/game/v4/get/".concat(a, "/?").concat(la.stringify(u)));
                            case 8:
                                return l = e.sent, e.next = 11, l.json();
                            case 11:
                                c = e.sent, d = null == c || null === (i = c.result) || void 0 === i ? void 0 : i.game, h = !!d, p = (null == c ? void 0 : c.dmain) || (null == d ? void 0 : d.dmain), h && n("game.data", d), null != d && d.ctry && n("user.country_code", d.ctry), n("publisher.exists", p), n("game.exists", h), n("hl.enabled", h && p);
                            case 20:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            return {
                init: function(e) {
                    return r.apply(this, arguments)
                },
                get: t,
                set: n,
                print: function(e) {
                    console.log(t(e))
                }
            }
        }(),
        Ra = {
            init: function(e) {
                La = (e || {}).url || "https://tag.atom.gamedistribution.com/v1/dmp", Da = {}
            },
            send: function(e, t) {
                try {
                    var n = Oa.get("layout"),
                        r = Oa.get("ua"),
                        i = Oa.get("package"),
                        a = Oa.get("location"),
                        o = Da[e] || 0;
                    Da[e] = ++o;
                    var s = {
                        tp: e,
                        ct: Da[e],
                        vrs: i.version,
                        url: a.url,
                        rfr: a.referrer,
                        tdmn: a.topdomain,
                        dpth: a.depth,
                        args: t,
                        ua: {
                            brnm: r.browser.name,
                            brvs: r.browser.version,
                            osnm: r.os.name,
                            osvs: r.os.version,
                            dvmd: r.device.model,
                            w: n.width,
                            h: n.height
                        }
                    };
                    fetch(La + "?ar=".concat(encodeURIComponent(Aa(JSON.stringify(s)))))
                } catch (e) {}
            },
            print: function(e) {}
        };

    function Na(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Ba(e) {
        return e.promo_url ? '<?xml version="1.0" encoding="utf-8"?>\n        <VAST version="3.0">\n            <Ad id="'.concat(e.id, '">\n                <Wrapper fallbackOnNoAd="true">\n                    <AdSystem>GDFP</AdSystem>\n                    <Error><![CDATA[').concat(e.error_url, "]]></Error>\n                    <Impression><![CDATA[").concat(e.impression_url, "]]></Impression>\n                    <VASTAdTagURI><![CDATA[").concat(e.adtag_url, ']]></VASTAdTagURI>\n                    <Extensions>\n                        <Extension type="waterfall" fallback_index="0" />\n                    </Extensions>\n                </Wrapper>\n            </Ad>\n            <Ad id="promo">\n                <Wrapper>\n                    <AdSystem>Rainbow</AdSystem>\n                    <Impression><![CDATA[').concat(e.promo_imp_green_url, "]]></Impression>\n                    <VASTAdTagURI><![CDATA[").concat(e.promo_url, ']]></VASTAdTagURI>\n                    <Extensions>\n                        <Extension type="waterfall" fallback_index="1" />\n                    </Extensions>\n                </Wrapper>\n            </Ad>\n        </VAST>').trim() : '<?xml version="1.0" encoding="utf-8"?>\n        <VAST version="3.0">\n            <Ad id="'.concat(e.id, '">\n                <Wrapper>\n                    <AdSystem>GDFP</AdSystem>\n                    <Error><![CDATA[').concat(e.error_url, "]]></Error>\n                    <Impression><![CDATA[").concat(e.impression_url, "]]></Impression>\n                    <VASTAdTagURI><![CDATA[").concat(e.adtag_url, "]]></VASTAdTagURI>\n                </Wrapper>\n            </Ad>\n        </VAST>").trim()
    }

    function Ua() {
        var e = {};

        function t(t) {
            return ke(e, t)
        }

        function n(t, n) {
            return Ge(e, t, n)
        }

        function r() {
            return (r = Ca(ka.mark((function e(t) {
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            return e.next = 2, i(t);
                        case 2:
                            return e.next = 4, o(t);
                        case 4:
                            return e.next = 6, u();
                        case 6:
                            return e.next = 8, l(t);
                        case 8:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }

        function i(e) {
            return a.apply(this, arguments)
        }

        function a() {
            return (a = Ca(ka.mark((function e(t) {
                var r, i, a, o, s, u, l, c, d, h, p, f;
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            return r = Oa.get("location.topdomain"), i = Oa.get("game.data.gameMd5"), a = null == t ? void 0 : t.ad_type, o = null == t ? void 0 : t.ad_position, s = Oa.get("layout"), u = s.width, l = s.height, c = {
                                page_url: r,
                                player_width: u,
                                player_height: l,
                                ad_position: o,
                                game_id: i,
                                ad_type: a
                            }, e.next = 8, fetch("https://pub.headerlift.com/opphb?".concat(la.stringify(c))).then((function(e) {
                                return e.json()
                            }));
                        case 8:
                            if (null != (d = e.sent) && d.nsid) {
                                e.next = 11;
                                break
                            }
                            throw new Error("no HL keys");
                        case 11:
                            h = d.nsid ? d.nsid : "TNL_NS-18101700058", p = d.tid ? d.tid : "TNL_T-17102571517", f = "".concat(h, "/").concat(p), delete d.nsid, delete d.tid, n("hl.keys", d), n("hl.unit", f);
                        case 18:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }

        function o() {
            return s.apply(this, arguments)
        }

        function s() {
            return (s = Ca(ka.mark((function e() {
                var r, i, a, o, s, u, l, c;
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            return r = t("hl.keys.tnl_ad_pos"), i = Oa.get("location.topdomain"), a = Oa.get("game.data.gameMd5"), o = Oa.get("location.referrer"), s = {
                                id: i,
                                au: r,
                                ty: "video",
                                aid: a,
                                pgu: o
                            }, u = encodeURIComponent(Aa(JSON.stringify(s))), e.next = 8, fetch("https://tag.atom.gamedistribution.com/v1/atm?ar=".concat(u)).then((function(e) {
                                return e.json()
                            }));
                        case 8:
                            if (null != (l = e.sent) && l.p) {
                                e.next = 11;
                                break
                            }
                            throw new Error("No atom dp");
                        case 11:
                            c = l.p / 100, n("hl.dp", {
                                id: Date.now(),
                                floor_price: c,
                                error_url: "https://tag.atom.gamedistribution.com/v1/err?ar=".concat(u, "&ec=[ERRORCODE]"),
                                impression_url: "https://tag.atom.gamedistribution.com/v1/imp?ar=".concat(u),
                                skip_url: "https://tag.atom.gamedistribution.com/v1/skp?ar=".concat(u)
                            });
                        case 14:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }

        function u(e) {
            return new Promise((function(e, r) {
                var i, a = Oa.get("location.referrer"),
                    o = t("hl.keys"),
                    s = t("hl.unit"),
                    u = t("hl.dp");
                switch (o.tnl_ad_pos) {
                    case "rewarded":
                        i = "rewardedVideo";
                        break;
                    case "midroll":
                        i = "midroll";
                        break;
                    case "gdbanner":
                        i = "gd__banner";
                        break;
                    default:
                        i = "video1"
                }
                window.idhb.que.push((function() {
                    window.idhb.setRefererUrl(encodeURIComponent(a)), window.idhb.allowPersonalizedAds(), window.idhb.setDfpAdUnitCodeForAdSlot(i, s), window.idhb.setAdserverTargetingForAdSlot(i, o), window.idhb.requestAds({
                        slots: Na({}, i, {
                            bidFloor: null != u && u.floor_price ? u.floor_price : void 0
                        }),
                        callback: function(t, r) {
                            r.bidFloorApplied || fetch(u.skip_url).catch((function(e) {})), n("hl.cb", r), n("hl.dp.adtag_url", t), e()
                        }
                    })
                }))
            }))
        }

        function l(e) {
            return c.apply(this, arguments)
        }

        function c() {
            return (c = Ca(ka.mark((function e(r) {
                var i, a;
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            if (i = t("hl.dp"), a = t("hl.cb"), i && a) {
                                e.next = 4;
                                break
                            }
                            throw new Error("Neither dp nor cb");
                        case 4:
                            !0 === a.bidFloorApplied ? n("hl.adtag", {
                                type: "xml",
                                content: Ba(i)
                            }) : n("hl.adtag", {
                                type: "url",
                                content: a.vastUrl
                            });
                        case 5:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }
        return {
            init: function(e) {
                return r.apply(this, arguments)
            },
            get: t,
            set: n,
            print: function(e) {
                console.log(t(e))
            }
        }
    }

    function Fa(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function ja(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Fa(Object(n), !0).forEach((function(t) {
                Na(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Fa(Object(n)).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }
    var Ha = function() {
        var e = {};

        function t(t) {
            return ke(e, t)
        }

        function n() {
            return (n = Ca(ka.mark((function e() {
                var t, n, i;
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            if (Oa.get("hl.enabled")) {
                                e.next = 3;
                                break
                            }
                            return e.abrupt("return");
                        case 3:
                            return n = Oa.get("game.data"), i = null === (t = n.pads) || void 0 === t ? void 0 : t.enabled, Oa.set("hl.preroll.enabled", i), e.next = 8, r();
                        case 8:
                            return e.next = 10, a(1);
                        case 10:
                            Oa.set("hl.script.enabled", !0);
                        case 11:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }

        function r() {
            return i.apply(this, arguments)
        }

        function i() {
            return (i = Ca(ka.mark((function e() {
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            return window.HB_OPTIONSgd = window.HB_OPTIONSgd || {
                                gameId: Oa.get("game.data.gameMd5")
                            }, e.next = 4, Ia("https://hb.improvedigital.com/pbw/gameDistributionV1.3.min.js", "gdsdk_prebid", {
                                error_prefix: "Blocked:",
                                exists: function() {
                                    return window.idhb
                                }
                            });
                        case 4:
                            window.idhb = window.idhb || {}, window.idhb.que = window.idhb.que || [];
                        case 6:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }

        function a(e) {
            return o.apply(this, arguments)
        }

        function o() {
            return (o = Ca(ka.mark((function e(t) {
                var n, r, i;
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            return n = Oa.get("game.data.gameMd5"), r = Oa.get("location.topdomain"), i = {
                                page_url: r,
                                game_id: n,
                                eventtype: t,
                                ts: Date.now()
                            }, e.next = 5, fetch("https://ana.headerlift.com/event?".concat(la.stringify(i)));
                        case 5:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }

        function s() {
            return (s = Ca(ka.mark((function e(t) {
                var n, r, i;
                return ka.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            if (Oa.get("hl.enabled")) {
                                e.next = 3;
                                break
                            }
                            return e.abrupt("return");
                        case 3:
                            if (Oa.get("hl.script.enabled")) {
                                e.next = 6;
                                break
                            }
                            return e.abrupt("return");
                        case 6:
                            if (n = (null == t ? void 0 : t.ad_position) || "preroll", Oa.get("hl.".concat(n, ".enabled"))) {
                                e.next = 10;
                                break
                            }
                            return e.abrupt("return");
                        case 10:
                            return r = (null == t ? void 0 : t.ad_type) || "video_image", i = Ua(), e.next = 14, i.init(ja(ja({}, t), {}, {
                                ad_position: n,
                                ad_type: r
                            }));
                        case 14:
                            return e.abrupt("return", i);
                        case 15:
                        case "end":
                            return e.stop()
                    }
                }), e)
            })))).apply(this, arguments)
        }
        return {
            init: function() {
                return n.apply(this, arguments)
            },
            get: t,
            set: function(t, n) {
                return Ge(e, t, n)
            },
            create: function(e) {
                return s.apply(this, arguments)
            },
            print: function(e) {
                console.log(t(e))
            }
        }
    }();
    var Ga = function() {
            function e() {
                return (e = Ca(ka.mark((function e(n) {
                    var r, i, a;
                    return ka.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Oa.init(n);
                            case 2:
                                return e.next = 4, Ra.init(null == n ? void 0 : n.logger);
                            case 4:
                                return e.next = 6, Ha.init(null == n ? void 0 : n.ad_request_factory);
                            case 6:
                                r = Oa.get("game"), i = Oa.get("publisher"), a = Oa.get("user"), t("sg.pc.ld", {
                                    gid: r.slug,
                                    pid: i.id,
                                    pnm: i.name,
                                    ctry: a.country_code,
                                    lcl: a.locale
                                });
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function t(e, t) {
                Ra.send(e, t)
            }
            return {
                init: function(t) {
                    return e.apply(this, arguments)
                },
                print: function(e) {
                    Oa.print(), Ra.print(), Ha.print()
                },
                gameSession: Oa,
                logger: Ra,
                adRequestFactory: Ha
            }
        }(),
        Va = h("ima-ad-manager"),
        Wa = window.document,
        qa = f.CONSENT_FLOW_PUBLISHERS,
        za = {
            2792: 8
        },
        Xa = ["abort", "canplay", "canplaythrough", "toggled", "durationchange", "emptied", "encrypted", "ended", "error", "interruptbegin", "interruptend", "loadeddata", "loadedmetadata", "loadstar", "mozaudioavailable", "pause", "play", "playing", "progress", "ratechange", "seeked", "seeking", "stalled", "suspend", "timeupdate", "volumechange", "waiting", "change"],
        Ka = null,
        Ya = null,
        Qa = null,
        $a = null,
        Ja = null,
        Za = null,
        eo = null,
        to = null,
        no = null,
        ro = !1,
        io = null,
        ao = !1,
        oo = !1,
        so = null,
        uo = null;

    function lo() {
        return (lo = n(o.mark((function e(t) {
            var n;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (!Ka) {
                            e.next = 2;
                            break
                        }
                        return e.abrupt("return");
                    case 2:
                        if (n = Wa.getElementById("ot-sdk-btn-floating"), -1 === qa.indexOf(Number(t)) || !n) {
                            e.next = 8;
                            break
                        }
                        return e.next = 6, co();
                    case 6:
                        e.next = 10;
                        break;
                    case 8:
                        return e.next = 10, b(d.IMA_src, 5e3);
                    case 10:
                        if (m.google && m.google.ima) {
                            e.next = 12;
                            break
                        }
                        throw new Error("Could not find google ima object after loading ima sdk");
                    case 12:
                        Ka = m.google.ima, Va.info("ima sdk initialized");
                    case 14:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function co() {
        return new Promise(function() {
            var e = n(o.mark((function e(t, r) {
                return o.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            if (e.prev = 0, window.sgConsentRequired = !0, "function" == typeof window.__tcfapi) {
                                e.next = 5;
                                break
                            }
                            return r(new Error("Consent required: No __tcfapi object on window")), e.abrupt("return");
                        case 5:
                            window.__tcfapi("getTCData", 2, function() {
                                var e = n(o.mark((function e(n, i) {
                                    return o.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                if (i) {
                                                    e.next = 3;
                                                    break
                                                }
                                                return r(new Error("Consent required: getTCData unsuccessful!, data: ".concat(n))), e.abrupt("return");
                                            case 3:
                                                if (Va.info("Got data from getTCData! ", n), "tcloaded" !== n.eventStatus && "useractioncomplete" !== n.eventStatus && "cmpuishown" !== n.eventStatus && r(new Error("Consent required: tcData.eventStatus incorrect, not 'tcloaded', 'useractioncomplete' or 'cmpuishown'")), n.gdprApplies) {
                                                    e.next = 12;
                                                    break
                                                }
                                                return Va.info("No GDPR"), e.next = 9, b(d.IMA_src, 5e3);
                                            case 9:
                                                t(), e.next = 24;
                                                break;
                                            case 12:
                                                if (n.purpose.consents[1] || !1) {
                                                    e.next = 16;
                                                    break
                                                }
                                                return r(new Error("Consent required: No DeviceStorage and Access Consent provided")), e.abrupt("return");
                                            case 16:
                                                if (n.vendor.consents[755] || !1) {
                                                    e.next = 20;
                                                    break
                                                }
                                                return r(new Error("Consent required: No Google Advertising Products Consent provided")), e.abrupt("return");
                                            case 20:
                                                return Va.info("GDPR & Consent"), e.next = 23, b(d.IMA_src, 5e3);
                                            case 23:
                                                t();
                                            case 24:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function(t, n) {
                                    return e.apply(this, arguments)
                                }
                            }()), e.next = 11;
                            break;
                        case 8:
                            e.prev = 8, e.t0 = e.catch(0), r(e.t0);
                        case 11:
                        case "end":
                            return e.stop()
                    }
                }), e, null, [
                    [0, 8]
                ])
            })));
            return function(t, n) {
                return e.apply(this, arguments)
            }
        }())
    }

    function ho() {
        if (Ja) {
            var e = Ja.offsetWidth,
                t = Ja.offsetHeight;
            io && "function" == typeof io.resize && io.resize(e, t, Ka.ViewMode.FULLSCREEN)
        }
    }

    function po() {
        return (po = n(o.mark((function e() {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        _o();
                    case 1:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function fo(e) {
        return mo.apply(this, arguments)
    }

    function mo() {
        return (mo = n(o.mark((function e(t) {
            var n, r;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (Va.debug("... creating elements ..."), n = {
                                position: "absolute",
                                top: 0,
                                left: 0,
                                width: Ya.w + "px",
                                height: Ya.h + "px"
                            }, r = {
                                width: Ya.w + "px",
                                height: Ya.h + "px",
                                overflow: "hidden",
                                opacity: 0
                            }, !Mo()) {
                            e.next = 6;
                            break
                        }
                        return e.next = 6, Lo();
                    case 6:
                        Qa = Wa.createElement("video"), Object.entries(r).map((function(e) {
                            var t = y(e, 2),
                                n = t[0],
                                r = t[1];
                            Qa.style[n] = r
                        })), Qa.setAttribute("id", uo + "-video-node"), Qa.classList.add("video-js"), go(t) && (Va.info("Setting playsinline because of iosversion ", t), Qa.setAttribute("playsinline", "playsinline")), Za = Wa.createElement("div"), $a = Wa.createElement("div"), Object.entries(n).map((function(e) {
                            var t = y(e, 2),
                                n = t[0],
                                r = t[1];
                            Za.style[n] = r, $a.style[n] = r
                        })), Za.appendChild(Qa), Ja.appendChild(Za), Ja.appendChild($a), Xa.forEach((function(e) {
                            Qa.addEventListener(e, (function() {
                                Va.debug("Received video event: ".concat(e))
                            }))
                        })), Va.debug("... created elements ...");
                    case 19:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function go(e) {
        return Va.info("SpecialIosTreatment? ", e), !!e && e.major > 10
    }

    function yo(e) {
        try {
            no && (clearTimeout(no), no = null), Va.debug("onError handler called");
            var t = e.getError(),
                n = t.getInnerError(),
                r = ["code: " + t.getErrorCode(), "type: " + t.getType(), "message: " + t.getMessage(), "vastErrorCode: " + t.getVastErrorCode()];
            n && r.push("InnerErrorMessage", n.message);
            var i = "IMA Error Event: [" + r.join(", ") + "]";
            if (ro) return void Va.notice("Received error event after error. Stop propagation.");
            vo(new Error(i))
        } catch (t) {
            vo(new Error("Failed to handle IMA error"))
        }
    }

    function vo(e) {
        ro = !0, oo = !0, Va.error("Error playing ad: ", e), re(so).then(xo).catch(xo)
    }

    function bo(e) {
        try {
            if (no && (clearTimeout(no), no = null), ro) return void Va.notice("Ads Manager loaded after error. Event ignored");
            Va.debug("Ads Manager loaded");
            var t = new Ka.AdsRenderingSettings;
            t.autoAlign = !0, t.useStyledNonLinearAds = !0, t.loadVideoTimeout = 8e3, io = e.getAdsManager(Qa, t), Io([Ka.AdEvent.Type.AD_BREAK_READY, Ka.AdEvent.Type.AD_METADATA, Ka.AdEvent.Type.ALL_ADS_COMPLETED, Ka.AdEvent.Type.CLICK, Ka.AdEvent.Type.COMPLETE, Ka.AdEvent.Type.CONTENT_PAUSE_REQUESTED, Ka.AdEvent.Type.CONTENT_RESUME_REQUESTED, Ka.AdEvent.Type.DURATION_CHANGE, Ka.AdEvent.Type.FIRST_QUARTILE, Ka.AdEvent.Type.IMPRESSION, Ka.AdEvent.Type.LINEAR_CHANGED, Ka.AdEvent.Type.LOADED, Ka.AdEvent.Type.LOG, Ka.AdEvent.Type.MIDPOINT, Ka.AdEvent.Type.PAUSED, Ka.AdEvent.Type.RESUMED, Ka.AdEvent.Type.SKIPPABLE_STATE_CHANGED, Ka.AdEvent.Type.SKIPPED, Ka.AdEvent.Type.STARTED, Ka.AdEvent.Type.THIRD_QUARTILE, Ka.AdEvent.Type.USER_CLOSE, Ka.AdEvent.Type.VOLUME_CHANGED, Ka.AdEvent.Type.VOLUME_MUTED], To), io.addEventListener(Ka.AdErrorEvent.Type.AD_ERROR, yo), Io([Ka.AdEvent.Type.LOADED], So), Io([Ka.AdEvent.Type.STARTED], Ao), Io([Ka.AdEvent.Type.CLICK], Po), Io([Ka.AdEvent.Type.USER_CLOSE], ko), Io([Ka.AdEvent.Type.SKIPPED], ko), Io([Ka.AdEvent.Type.COMPLETE], ko), Io([Ka.AdEvent.Type.ALL_ADS_COMPLETED], ko), Va.debug("Event handler connected to ads manager")
        } catch (e) {
            vo(e)
        }
    }

    function To(e) {
        ro ? Va.notice("Ad event after error. Event ignored") : Va.info("Ad event: " + e.type)
    }

    function _o() {
        if (ro) Va.notice("play ad after error. Event ignored");
        else try {
            Va.debug("Playing ad ..."), Qa.load(), eo.initialize(), io.init(Ya.w, Ya.h, Ka.ViewMode.FULLSCREEN), Va.debug("... playing ad prepared ..."), Va.debug("... initializing moat tracking ..."),
                function(e, t, n) {
                    if (!1 === t.hasOwnProperty("partnerCode")) return !1;
                    var r = document.createElement("script");
                    n = n || e && (void 0 !== e.O ? e.O.parentNode : document.body) || document.body;
                    var i, a, o = [],
                        s = {
                            adsManager: e,
                            ids: t,
                            imaSDK: !0,
                            events: [],
                            dispatchEvent: function(e) {
                                var t = this.sendEvent,
                                    n = this.events;
                                t ? (n && (n.push(e), e = n), t(e)) : n.push(e)
                            }
                        },
                        u = {
                            complete: "AdVideoComplete",
                            firstquartile: "AdVideoFirstQuartile",
                            impression: "AdImpression",
                            loaded: "AdLoaded",
                            midpoint: "AdVideoMidpoint",
                            pause: "AdPaused",
                            skip: "AdSkipped",
                            start: "AdVideoStart",
                            thirdquartile: "AdVideoThirdQuartile",
                            volumeChange: "AdVolumeChange"
                        };
                    if (google && google.ima && e) {
                        var l, c = "_moatApi" + Math.floor(1e8 * Math.random());
                        for (l in google.ima.AdEvent.Type) {
                            var d = function(t) {
                                if (s.sendEvent) {
                                    for (t = o.length - 1; 0 <= t; t--) e.removeEventListener(o[t].type, o[t].func);
                                    s.sendEvent(s.events)
                                } else s.events.push({
                                    type: u[t.type] || t.type,
                                    adVolume: e.getVolume()
                                })
                            };
                            e.addEventListener(google.ima.AdEvent.Type[l], d), o.push({
                                type: google.ima.AdEvent.Type[l],
                                func: d
                            })
                        }
                    }
                    c = void 0 !== c ? c : "";
                    try {
                        a = (i = n.ownerDocument).defaultView || i.parentWindow
                    } catch (e) {
                        i = document, a = window
                    }
                    a[c] = s, r.type = "text/javascript", n && n.appendChild(r), r.src = "https://z.moatads.com/" + t.partnerCode + "/moatvideo.js#" + c
                }(io, {
                    partnerCode: "softgamesimavideo120665780830",
                    viewMode: Ka.ViewMode.NORMAL
                }, $a), Va.debug("... done initializing moat tracking ..."), io.start(), Va.debug("... playing ad sync done")
        } catch (e) {
            vo(e)
        }
    }

    function So(e) {
        return wo.apply(this, arguments)
    }

    function wo() {
        return (wo = n(o.mark((function e(t) {
            var n;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (!ro) {
                            e.next = 3;
                            break
                        }
                        return Va.notice("loaded event after error. Event ignored"), e.abrupt("return");
                    case 3:
                        try {
                            n = t.getAd(), Mo() && Oo(), ao = n.isLinear(), N(), ao ? (Va.notice("Ad is a video"), Co()) : Va.notice("Ad is NOT a video")
                        } catch (e) {
                            vo(e)
                        }
                        case 4:
                        case "end":
                            return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function Ao() {
        return Eo.apply(this, arguments)
    }

    function Eo() {
        return (Eo = n(o.mark((function e() {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        Va.info("Ad Started!"), Ja.classList.remove("hidden-el"), Wa.getElementById("branding-link").style.zIndex = "1999999974";
                    case 3:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function Co() {
        if (io && "function" == typeof io.setVolume) {
            ! function() {
                try {
                    B.info("Loading Font Awesome...");
                    var e = "sg-fa-script";
                    if (!document.getElementById(e)) {
                        var t = m.document.createElement("script");
                        t.type = "text/javascript", t.async = !0, t.src = "https://embedder-container.sgweb.softgames.de/fontawesome/5.10.0/js/solid.min.js", t.id = e;
                        var n = m.document.getElementsByTagName("script")[0];
                        n.parentNode.insertBefore(t, n)
                    }
                    var r = "sg-fa-css";
                    if (!document.getElementById(r)) {
                        var i = document.createElement("link");
                        i.id = r, i.rel = "stylesheet", i.type = "text/css", i.href = "https://embedder-container.sgweb.softgames.de/fontawesome/5.10.0/css/all.min.css", i.media = "all";
                        var a = m.document.getElementsByTagName("link")[0];
                        a.parentNode.insertBefore(i, a)
                    }
                    B.info("... Font Awesome loaded")
                } catch (e) {
                    B.error("Error loading Font Awesome: ", e)
                }
            }();
            var e = Wa.createElement("i");
            e.classList.add("sg-ima-mute-button"), e.classList.add("fas"), e.classList.add("fa-volume-up"), e.addEventListener("click", (function() {
                e.classList.contains("fa-volume-up") ? (io.setVolume(0), e.classList.remove("fa-volume-up"), e.classList.add("fa-volume-mute")) : (io.setVolume(1), e.classList.remove("fa-volume-mute"), e.classList.add("fa-volume-up"))
            })), Ja.appendChild(e)
        } else Va.info("Could not add volume control, imaAdManager isn't initialized or doesn't support setVolume")
    }

    function Po(e) {
        ro ? Va.notice("click event after error. Event ignored") : setTimeout((function() {
            try {
                ko(e)
            } catch (e) {
                vo(e)
            }
        }))
    }

    function ko(e) {
        if (ro) Va.notice("finish event after error. Event ignored");
        else if (!oo) {
            oo = !0;
            try {
                setTimeout((function() {
                    try {
                        xo()
                    } catch (e) {
                        vo(e)
                    }
                }), 500)
            } catch (e) {
                vo(e)
            }
        }
    }

    function xo() {
        try {
            Ja && (Ja.classList.add("hidden-el"), Ja.parentNode.removeChild(Ja)), Z(), io && (io.destroy(), io = null), eo && (eo.destroy(), eo = null), window.removeEventListener("resize", ho), N(), Va.info("cleanup done!")
        } catch (e) {
            Va.error("Cleanup failed", e)
        }
    }

    function Io(e, t) {
        e.forEach((function(e) {
            return io.addEventListener(e, t)
        }))
    }

    function Mo() {
        return 4981 === so
    }

    function Lo() {
        return Do.apply(this, arguments)
    }

    function Do() {
        return (Do = n(o.mark((function e() {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.prev = 0, Va.info("[OK.DE] Injecting script ..."), e.next = 4, b(d.okDeScriptSrc);
                    case 4:
                        Va.info("[OK.DE] ... script injected"), e.next = 10;
                        break;
                    case 7:
                        e.prev = 7, e.t0 = e.catch(0), Va.error("[OK.DE] ... failed to inject script", e.t0);
                    case 10:
                    case "end":
                        return e.stop()
                }
            }), e, null, [
                [0, 7]
            ])
        })))).apply(this, arguments)
    }

    function Oo() {
        try {
            Va.info("[OK.DE] Executing code snippet ..."), window.rEUlJxoHiIYc(), Va.info("[OK.DE] ... code snippet executed")
        } catch (e) {
            Va.error("[OK.DE] ... failed to execute code snippet", e)
        }
    }
    var Ro = {
            init: function(e) {
                return lo.apply(this, arguments)
            },
            loadAd: function(e) {
                return new Promise(function() {
                    var t = n(o.mark((function t(n, r) {
                        var i, a, s, u, l, c, h, p, f, m;
                        return o.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    if (t.prev = 0, Ka) {
                                        t.next = 4;
                                        break
                                    }
                                    return r(new Error("imaSdk not initialized")), t.abrupt("return");
                                case 4:
                                    return Ya = se(), i = H(), so = i.publisherId, (a = x()) && Va.info("iOS version detected", a), uo = e, s = Wa.getElementById("pr-backdrop-container"), (u = Wa.createElement("div")).setAttribute("id", uo), u.classList.add("hidden-el"), s.appendChild(u), Ja = u, t.next = 18, fo(a);
                                case 18:
                                    return Ka.settings.setVpaidMode(Ka.ImaSdkSettings.VpaidMode.INSECURE), eo = new Ka.AdDisplayContainer($a, Qa), to = new Ka.AdsLoader(eo), Va.info("ima ad display container created: ", eo), (l = to.getSettings()).setNumRedirects(4), go(a) ? (Va.info("setDisableCustomPlaybackForIOS10Plus to true because of iosversion ", a), l.setDisableCustomPlaybackForIOS10Plus(!0)) : (Va.info("setDisableCustomPlaybackForIOS10Plus to false because of iosversion: ", a), l.setDisableCustomPlaybackForIOS10Plus(!1)), l.setFeatureFlags({
                                        disableClickAdPause: !0
                                    }), Va.info("Adding error and loaded event listeners..."), to.addEventListener(Ka.AdErrorEvent.Type.AD_ERROR, yo, !1), to.addEventListener(Ka.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, (function(e) {
                                        bo(e), n()
                                    }), !1), Va.info("... event listeners added."), c = z(W({
                                        headerBidding: !1
                                    })), Va.info("Creating new ima.AdsRequest..."), h = new Ka.AdsRequest, Va.info("... new ima.AdsRequest created"), Va.info("Setting adsRequest properties..."), t.next = 37, Ga.adRequestFactory.create({
                                        ad_position: "preroll"
                                    }).catch((function() {}));
                                case 37:
                                    (p = t.sent) ? ((f = p.get("hl.adtag")).type = "url") ? h.adTagUrl = f.content: h.adsResponse = f.content: h.adTagUrl = c, h.linearAdSlotWidth = Ya.w, h.linearAdSlotHeight = Ya.h, h.nonLinearAdSlotWidth = Ya.w, h.nonLinearAdSlotHeight = Ya.h, h.forceNonLinearFullSlot = !0, h.disableCompanionAds = d.disableCompanionAds || !1, h.vastLoadTimeout = 8e3, h.setAdWillAutoPlay && h.setAdWillAutoPlay(!0), h.setAdWillPlayMuted && h.setAdWillPlayMuted(!0), Va.info("... adsRequest properties set"), Va.info("adding loading timout..."), m = za[so] || 3, no = setTimeout((function() {
                                        vo(new Error("Loading ima ads manager timed out after ".concat(m, " seconds"))), r()
                                    }), 1e3 * m), Va.info("... loading timout added."), Va.info("Making requestAds request..."), to.requestAds(h), Va.info("... requestAds called!"), window.addEventListener("resize", ho), t.next = 62;
                                    break;
                                case 59:
                                    t.prev = 59, t.t0 = t.catch(0), r(t.t0);
                                case 62:
                                case "end":
                                    return t.stop()
                            }
                        }), t, null, [
                            [0, 59]
                        ])
                    })));
                    return function(e, n) {
                        return t.apply(this, arguments)
                    }
                }())
            },
            showAd: function() {
                return po.apply(this, arguments)
            }
        },
        No = h("css-loader");

    function Bo(e) {
        if (function(e) {
                for (var t = document.getElementsByTagName("link"), n = 0; n < t.length; n++)
                    if (t[n].src === e) return !0;
                return !1
            }(e)) No.notice("CSS file already exists", e);
        else {
            var t = document.createElement("link");
            t.rel = "stylesheet", t.type = "text/css", t.href = e, t.media = "all";
            var n = m.document.getElementsByTagName("link")[0];
            n.parentNode.insertBefore(t, n)
        }
    }
    var Uo = Array.prototype.slice,
        Fo = function(e, t) {
            "length" in e || (e = [e]);
            e = Uo.call(e);
            for (; e.length;) {
                var n = e.shift(),
                    r = t(n);
                if (r) return r;
                n.childNodes && n.childNodes.length && (e = Uo.call(n.childNodes).concat(e))
            }
        };
    var jo = Ho;

    function Ho(e, t) {
        if (!(this instanceof Ho)) return new Ho(e, t);
        this.data = e, this.nodeValue = e, this.length = e.length, this.ownerDocument = t || null
    }
    Ho.prototype.nodeType = 8, Ho.prototype.nodeName = "#comment", Ho.prototype.toString = function() {
        return "[object Comment]"
    };
    var Go = Vo;

    function Vo(e, t) {
        if (!(this instanceof Vo)) return new Vo(e);
        this.data = e || "", this.length = this.data.length, this.ownerDocument = t || null
    }
    Vo.prototype.type = "DOMTextNode", Vo.prototype.nodeType = 3, Vo.prototype.nodeName = "#text", Vo.prototype.toString = function() {
        return this.data
    }, Vo.prototype.replaceData = function(e, t, n) {
        var r = this.data,
            i = r.substring(0, e),
            a = r.substring(e + t, r.length);
        this.data = i + n + a, this.length = this.data.length
    };
    var Wo = function(e) {
        var t = this,
            n = e.type;
        e.target || (e.target = t);
        t.listeners || (t.listeners = {});
        var r = t.listeners[n];
        if (r) return r.forEach((function(n) {
            e.currentTarget = t, "function" == typeof n ? n(e) : n.handleEvent(e)
        }));
        t.parentNode && t.parentNode.dispatchEvent(e)
    };
    var qo = function(e, t) {
        var n = this;
        n.listeners || (n.listeners = {});
        n.listeners[e] || (n.listeners[e] = []); - 1 === n.listeners[e].indexOf(t) && n.listeners[e].push(t)
    };
    var zo = function(e, t) {
        var n = this;
        if (!n.listeners) return;
        if (!n.listeners[e]) return;
        var r = n.listeners[e],
            i = r.indexOf(t); - 1 !== i && r.splice(i, 1)
    };
    var Xo = ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "menuitem", "meta", "param", "source", "track", "wbr"];

    function Ko(e) {
        switch (e.nodeType) {
            case 3:
                return $o(e.data);
            case 8:
                return "\x3c!--" + e.data + "--\x3e";
            default:
                return function(e) {
                    var t = [],
                        n = e.tagName;
                    "http://www.w3.org/1999/xhtml" === e.namespaceURI && (n = n.toLowerCase());
                    t.push("<" + n + function(e) {
                        var t = [];
                        for (var n in e) Yo(e, n) && t.push({
                            name: n,
                            value: e[n]
                        });
                        for (var r in e._attributes)
                            for (var i in e._attributes[r]) {
                                var a = e._attributes[r][i],
                                    o = (a.prefix ? a.prefix + ":" : "") + i;
                                t.push({
                                    name: o,
                                    value: a.value
                                })
                            }
                        e.className && t.push({
                            name: "class",
                            value: e.className
                        });
                        return t.length ? Qo(t) : ""
                    }(e) + function(e) {
                        var t = e.dataset,
                            n = [];
                        for (var r in t) n.push({
                            name: "data-" + r,
                            value: t[r]
                        });
                        return n.length ? Qo(n) : ""
                    }(e)), Xo.indexOf(n) > -1 ? t.push(" />") : (t.push(">"), e.childNodes.length ? t.push.apply(t, e.childNodes.map(Ko)) : e.textContent || e.innerText ? t.push($o(e.textContent || e.innerText)) : e.innerHTML && t.push(e.innerHTML), t.push("</" + n + ">"));
                    return t.join("")
                }(e)
        }
    }

    function Yo(e, t) {
        var n = typeof e[t];
        return "style" === t && Object.keys(e.style).length > 0 || e.hasOwnProperty(t) && ("string" === n || "boolean" === n || "number" === n) && "nodeName" !== t && "className" !== t && "tagName" !== t && "textContent" !== t && "innerText" !== t && "namespaceURI" !== t && "innerHTML" !== t
    }

    function Qo(e) {
        var t = [];
        return e.forEach((function(e) {
            var n = e.name,
                r = e.value;
            "style" === n && (r = function(e) {
                if ("string" == typeof e) return e;
                var t = "";
                return Object.keys(e).forEach((function(n) {
                    var r = e[n];
                    n = n.replace(/[A-Z]/g, (function(e) {
                        return "-" + e.toLowerCase()
                    })), t += n + ":" + r + ";"
                })), t
            }(r)), t.push(n + '="' + ($o(r).replace(/"/g, "&quot;") + '"'))
        })), t.length ? " " + t.join(" ") : ""
    }

    function $o(e) {
        var t = "";
        return "string" == typeof e ? t = e : e && (t = e.toString()), t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }
    var Jo = Fo,
        Zo = Wo,
        es = qo,
        ts = zo,
        ns = Ko,
        rs = "http://www.w3.org/1999/xhtml",
        is = as;

    function as(e, t, n) {
        if (!(this instanceof as)) return new as(e);
        var r = void 0 === n ? rs : n || null;
        this.tagName = r === rs ? String(e).toUpperCase() : e, this.nodeName = this.tagName, this.className = "", this.dataset = {}, this.childNodes = [], this.parentNode = null, this.style = {}, this.ownerDocument = t || null, this.namespaceURI = r, this._attributes = {}, "INPUT" === this.tagName && (this.type = "text")
    }
    as.prototype.type = "DOMElement", as.prototype.nodeType = 1, as.prototype.appendChild = function(e) {
        return e.parentNode && e.parentNode.removeChild(e), this.childNodes.push(e), e.parentNode = this, e
    }, as.prototype.replaceChild = function(e, t) {
        e.parentNode && e.parentNode.removeChild(e);
        var n = this.childNodes.indexOf(t);
        return t.parentNode = null, this.childNodes[n] = e, e.parentNode = this, t
    }, as.prototype.removeChild = function(e) {
        var t = this.childNodes.indexOf(e);
        return this.childNodes.splice(t, 1), e.parentNode = null, e
    }, as.prototype.insertBefore = function(e, t) {
        e.parentNode && e.parentNode.removeChild(e);
        var n = null == t ? -1 : this.childNodes.indexOf(t);
        return n > -1 ? this.childNodes.splice(n, 0, e) : this.childNodes.push(e), e.parentNode = this, e
    }, as.prototype.setAttributeNS = function(e, t, n) {
        var r = null,
            i = t,
            a = t.indexOf(":");
        (a > -1 && (r = t.substr(0, a), i = t.substr(a + 1)), "INPUT" === this.tagName && "type" === t) ? this.type = n: (this._attributes[e] || (this._attributes[e] = {}))[i] = {
            value: n,
            prefix: r
        }
    }, as.prototype.getAttributeNS = function(e, t) {
        var n = this._attributes[e],
            r = n && n[t] && n[t].value;
        return "INPUT" === this.tagName && "type" === t ? this.type : "string" != typeof r ? null : r
    }, as.prototype.removeAttributeNS = function(e, t) {
        var n = this._attributes[e];
        n && delete n[t]
    }, as.prototype.hasAttributeNS = function(e, t) {
        var n = this._attributes[e];
        return !!n && t in n
    }, as.prototype.setAttribute = function(e, t) {
        return this.setAttributeNS(null, e, t)
    }, as.prototype.getAttribute = function(e) {
        return this.getAttributeNS(null, e)
    }, as.prototype.removeAttribute = function(e) {
        return this.removeAttributeNS(null, e)
    }, as.prototype.hasAttribute = function(e) {
        return this.hasAttributeNS(null, e)
    }, as.prototype.removeEventListener = ts, as.prototype.addEventListener = es, as.prototype.dispatchEvent = Zo, as.prototype.focus = function() {}, as.prototype.toString = function() {
        return ns(this)
    }, as.prototype.getElementsByClassName = function(e) {
        var t = e.split(" "),
            n = [];
        return Jo(this, (function(e) {
            if (1 === e.nodeType) {
                var r = (e.className || "").split(" ");
                t.every((function(e) {
                    return -1 !== r.indexOf(e)
                })) && n.push(e)
            }
        })), n
    }, as.prototype.getElementsByTagName = function(e) {
        e = e.toLowerCase();
        var t = [];
        return Jo(this.childNodes, (function(n) {
            1 !== n.nodeType || "*" !== e && n.tagName.toLowerCase() !== e || t.push(n)
        })), t
    }, as.prototype.contains = function(e) {
        return Jo(this, (function(t) {
            return e === t
        })) || !1
    };
    var os = is,
        ss = us;

    function us(e) {
        if (!(this instanceof us)) return new us;
        this.childNodes = [], this.parentNode = null, this.ownerDocument = e || null
    }
    us.prototype.type = "DocumentFragment", us.prototype.nodeType = 11, us.prototype.nodeName = "#document-fragment", us.prototype.appendChild = os.prototype.appendChild, us.prototype.replaceChild = os.prototype.replaceChild, us.prototype.removeChild = os.prototype.removeChild, us.prototype.toString = function() {
        return this.childNodes.map((function(e) {
            return String(e)
        })).join("")
    };
    var ls = cs;

    function cs(e) {}
    cs.prototype.initEvent = function(e, t, n) {
        this.type = e, this.bubbles = t, this.cancelable = n
    }, cs.prototype.preventDefault = function() {};
    var ds = Fo,
        hs = jo,
        ps = Go,
        fs = is,
        ms = ss,
        gs = ls,
        ys = Wo,
        vs = qo,
        bs = zo,
        Ts = _s;

    function _s() {
        if (!(this instanceof _s)) return new _s;
        this.head = this.createElement("head"), this.body = this.createElement("body"), this.documentElement = this.createElement("html"), this.documentElement.appendChild(this.head), this.documentElement.appendChild(this.body), this.childNodes = [this.documentElement], this.nodeType = 9
    }
    var Ss = _s.prototype;
    Ss.createTextNode = function(e) {
        return new ps(e, this)
    }, Ss.createElementNS = function(e, t) {
        var n = null === e ? null : String(e);
        return new fs(t, this, n)
    }, Ss.createElement = function(e) {
        return new fs(e, this)
    }, Ss.createDocumentFragment = function() {
        return new ms(this)
    }, Ss.createEvent = function(e) {
        return new gs(e)
    }, Ss.createComment = function(e) {
        return new hs(e, this)
    }, Ss.getElementById = function(e) {
        return e = String(e), ds(this.childNodes, (function(t) {
            if (String(t.id) === e) return t
        })) || null
    }, Ss.getElementsByClassName = fs.prototype.getElementsByClassName, Ss.getElementsByTagName = fs.prototype.getElementsByTagName, Ss.contains = fs.prototype.contains, Ss.removeEventListener = bs, Ss.addEventListener = vs, Ss.dispatchEvent = ys;
    var ws, As = new Ts,
        Es = void 0 !== r ? r : "undefined" != typeof window ? window : {},
        Cs = As;
    "undefined" != typeof document ? ws = document : (ws = Es["__GLOBAL_DOCUMENT_CACHE@4"]) || (ws = Es["__GLOBAL_DOCUMENT_CACHE@4"] = Cs);
    var Ps = ws;

    function ks() {
        return (ks = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
            }
            return e
        }).apply(this, arguments)
    }

    function xs(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Is(e, t) {
        return (Is = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Ms(e, t) {
        e.prototype = Object.create(t.prototype), e.prototype.constructor = e, Is(e, t)
    }
    var Ls = function(e, t) {
        var n, r = null;
        try {
            n = JSON.parse(e, t)
        } catch (e) {
            r = e
        }
        return [r, n]
    };
    var Ds = {
        exports: {}
    };
    ! function(e, t) {
        function n(e) {
            if (e && "object" == typeof e) {
                var t = e.which || e.keyCode || e.charCode;
                t && (e = t)
            }
            if ("number" == typeof e) return o[e];
            var n, a = String(e);
            return (n = r[a.toLowerCase()]) ? n : (n = i[a.toLowerCase()]) || (1 === a.length ? a.charCodeAt(0) : void 0)
        }
        n.isEventKey = function(e, t) {
            if (e && "object" == typeof e) {
                var n = e.which || e.keyCode || e.charCode;
                if (null == n) return !1;
                if ("string" == typeof t) {
                    var a;
                    if (a = r[t.toLowerCase()]) return a === n;
                    if (a = i[t.toLowerCase()]) return a === n
                } else if ("number" == typeof t) return t === n;
                return !1
            }
        };
        var r = (t = e.exports = n).code = t.codes = {
                backspace: 8,
                tab: 9,
                enter: 13,
                shift: 16,
                ctrl: 17,
                alt: 18,
                "pause/break": 19,
                "caps lock": 20,
                esc: 27,
                space: 32,
                "page up": 33,
                "page down": 34,
                end: 35,
                home: 36,
                left: 37,
                up: 38,
                right: 39,
                down: 40,
                insert: 45,
                delete: 46,
                command: 91,
                "left command": 91,
                "right command": 93,
                "numpad *": 106,
                "numpad +": 107,
                "numpad -": 109,
                "numpad .": 110,
                "numpad /": 111,
                "num lock": 144,
                "scroll lock": 145,
                "my computer": 182,
                "my calculator": 183,
                ";": 186,
                "=": 187,
                ",": 188,
                "-": 189,
                ".": 190,
                "/": 191,
                "`": 192,
                "[": 219,
                "\\": 220,
                "]": 221,
                "'": 222
            },
            i = t.aliases = {
                windows: 91,
                "": 16,
                "": 18,
                "": 17,
                "": 91,
                ctl: 17,
                control: 17,
                option: 18,
                pause: 19,
                break: 19,
                caps: 20,
                return: 13,
                escape: 27,
                spc: 32,
                spacebar: 32,
                pgup: 33,
                pgdn: 34,
                ins: 45,
                del: 46,
                cmd: 91
            };
        /*!
         * Programatically add the following
         */
        for (a = 97; a < 123; a++) r[String.fromCharCode(a)] = a - 32;
        for (var a = 48; a < 58; a++) r[a - 48] = a;
        for (a = 1; a < 13; a++) r["f" + a] = a + 111;
        for (a = 0; a < 10; a++) r["numpad " + a] = a + 96;
        var o = t.names = t.title = {};
        for (a in r) o[r[a]] = a;
        for (var s in i) r[s] = i[s]
    }(Ds, Ds.exports);
    var Os = Ds.exports,
        Rs = {
            exports: {}
        },
        Ns = {
            exports: {}
        };
    ! function(e) {
        function t() {
            return e.exports = t = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
            }, e.exports.default = e.exports, e.exports.__esModule = !0, t.apply(this, arguments)
        }
        e.exports = t, e.exports.default = e.exports, e.exports.__esModule = !0
    }(Ns);
    var Bs = function(e) {
            if (!e) return !1;
            var t = Us.call(e);
            return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt)
        },
        Us = Object.prototype.toString;
    var Fs = m,
        js = Ns.exports,
        Hs = Bs;

    function Gs(e, t, n) {
        var r = e;
        return Hs(t) ? (n = t, "string" == typeof e && (r = {
            uri: e
        })) : r = js({}, t, {
            uri: e
        }), r.callback = n, r
    }

    function Vs(e, t, n) {
        return Ws(t = Gs(e, t, n))
    }

    function Ws(e) {
        if (void 0 === e.callback) throw new Error("callback argument missing");
        var t = !1,
            n = function(n, r, i) {
                t || (t = !0, e.callback(n, r, i))
            };

        function r() {
            var e = void 0;
            if (e = u.response ? u.response : u.responseText || function(e) {
                    try {
                        if ("document" === e.responseType) return e.responseXML;
                        var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                        if ("" === e.responseType && !t) return e.responseXML
                    } catch (e) {}
                    return null
                }(u), m) try {
                e = JSON.parse(e)
            } catch (e) {}
            return e
        }

        function i(e) {
            return clearTimeout(l), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), e.statusCode = 0, n(e, g)
        }

        function a() {
            if (!s) {
                var t;
                clearTimeout(l), t = e.useXDR && void 0 === u.status ? 200 : 1223 === u.status ? 204 : u.status;
                var i = g,
                    a = null;
                return 0 !== t ? (i = {
                    body: r(),
                    statusCode: t,
                    method: d,
                    headers: {},
                    url: c,
                    rawRequest: u
                }, u.getAllResponseHeaders && (i.headers = function(e) {
                    var t = {};
                    return e ? (e.trim().split("\n").forEach((function(e) {
                        var n = e.indexOf(":"),
                            r = e.slice(0, n).trim().toLowerCase(),
                            i = e.slice(n + 1).trim();
                        void 0 === t[r] ? t[r] = i : Array.isArray(t[r]) ? t[r].push(i) : t[r] = [t[r], i]
                    })), t) : t
                }(u.getAllResponseHeaders()))) : a = new Error("Internal XMLHttpRequest Error"), n(a, i, i.body)
            }
        }
        var o, s, u = e.xhr || null;
        u || (u = e.cors || e.useXDR ? new Vs.XDomainRequest : new Vs.XMLHttpRequest);
        var l, c = u.url = e.uri || e.url,
            d = u.method = e.method || "GET",
            h = e.body || e.data,
            p = u.headers = e.headers || {},
            f = !!e.sync,
            m = !1,
            g = {
                body: void 0,
                headers: {},
                statusCode: 0,
                method: d,
                url: c,
                rawRequest: u
            };
        if ("json" in e && !1 !== e.json && (m = !0, p.accept || p.Accept || (p.Accept = "application/json"), "GET" !== d && "HEAD" !== d && (p["content-type"] || p["Content-Type"] || (p["Content-Type"] = "application/json"), h = JSON.stringify(!0 === e.json ? h : e.json))), u.onreadystatechange = function() {
                4 === u.readyState && setTimeout(a, 0)
            }, u.onload = a, u.onerror = i, u.onprogress = function() {}, u.onabort = function() {
                s = !0
            }, u.ontimeout = i, u.open(d, c, !f, e.username, e.password), f || (u.withCredentials = !!e.withCredentials), !f && e.timeout > 0 && (l = setTimeout((function() {
                if (!s) {
                    s = !0, u.abort("timeout");
                    var e = new Error("XMLHttpRequest timeout");
                    e.code = "ETIMEDOUT", i(e)
                }
            }), e.timeout)), u.setRequestHeader)
            for (o in p) p.hasOwnProperty(o) && u.setRequestHeader(o, p[o]);
        else if (e.headers && ! function(e) {
                for (var t in e)
                    if (e.hasOwnProperty(t)) return !1;
                return !0
            }(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
        return "responseType" in e && (u.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(u), u.send(h || null), u
    }
    Rs.exports = Vs, Rs.exports.default = Vs, Vs.XMLHttpRequest = Fs.XMLHttpRequest || function() {}, Vs.XDomainRequest = "withCredentials" in new Vs.XMLHttpRequest ? Vs.XMLHttpRequest : Fs.XDomainRequest,
        function(e, t) {
            for (var n = 0; n < e.length; n++) t(e[n])
        }(["get", "put", "post", "patch", "head", "delete"], (function(e) {
            Vs["delete" === e ? "del" : e] = function(t, n, r) {
                return (n = Gs(t, n, r)).method = e.toUpperCase(), Ws(n)
            }
        }));
    var qs = Rs.exports,
        zs = {
            exports: {}
        },
        Xs = Ps,
        Ks = Object.create || function() {
            function e() {}
            return function(t) {
                if (1 !== arguments.length) throw new Error("Object.create shim only accepts one parameter.");
                return e.prototype = t, new e
            }
        }();

    function Ys(e, t) {
        this.name = "ParsingError", this.code = e.code, this.message = t || e.message
    }

    function Qs(e) {
        function t(e, t, n, r) {
            return 3600 * (0 | e) + 60 * (0 | t) + (0 | n) + (0 | r) / 1e3
        }
        var n = e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);
        return n ? n[3] ? t(n[1], n[2], n[3].replace(":", ""), n[4]) : n[1] > 59 ? t(n[1], n[2], 0, n[4]) : t(0, n[1], n[2], n[4]) : null
    }

    function $s() {
        this.values = Ks(null)
    }

    function Js(e, t, n, r) {
        var i = r ? e.split(r) : [e];
        for (var a in i)
            if ("string" == typeof i[a]) {
                var o = i[a].split(n);
                if (2 === o.length) t(o[0], o[1])
            }
    }

    function Zs(e, t, n) {
        var r = e;

        function i() {
            var t = Qs(e);
            if (null === t) throw new Ys(Ys.Errors.BadTimeStamp, "Malformed timestamp: " + r);
            return e = e.replace(/^[^\sa-zA-Z-]+/, ""), t
        }

        function a() {
            e = e.replace(/^\s+/, "")
        }
        if (a(), t.startTime = i(), a(), "--\x3e" !== e.substr(0, 3)) throw new Ys(Ys.Errors.BadTimeStamp, "Malformed time stamp (time stamps must be separated by '--\x3e'): " + r);
        e = e.substr(3), a(), t.endTime = i(), a(),
            function(e, t) {
                var r = new $s;
                Js(e, (function(e, t) {
                    switch (e) {
                        case "region":
                            for (var i = n.length - 1; i >= 0; i--)
                                if (n[i].id === t) {
                                    r.set(e, n[i].region);
                                    break
                                } break;
                        case "vertical":
                            r.alt(e, t, ["rl", "lr"]);
                            break;
                        case "line":
                            var a = t.split(","),
                                o = a[0];
                            r.integer(e, o), r.percent(e, o) && r.set("snapToLines", !1), r.alt(e, o, ["auto"]), 2 === a.length && r.alt("lineAlign", a[1], ["start", "center", "end"]);
                            break;
                        case "position":
                            a = t.split(","), r.percent(e, a[0]), 2 === a.length && r.alt("positionAlign", a[1], ["start", "center", "end"]);
                            break;
                        case "size":
                            r.percent(e, t);
                            break;
                        case "align":
                            r.alt(e, t, ["start", "center", "end", "left", "right"])
                    }
                }), /:/, /\s/), t.region = r.get("region", null), t.vertical = r.get("vertical", "");
                try {
                    t.line = r.get("line", "auto")
                } catch (e) {}
                t.lineAlign = r.get("lineAlign", "start"), t.snapToLines = r.get("snapToLines", !0), t.size = r.get("size", 100);
                try {
                    t.align = r.get("align", "center")
                } catch (e) {
                    t.align = r.get("align", "middle")
                }
                try {
                    t.position = r.get("position", "auto")
                } catch (e) {
                    t.position = r.get("position", {
                        start: 0,
                        left: 0,
                        center: 50,
                        middle: 50,
                        end: 100,
                        right: 100
                    }, t.align)
                }
                t.positionAlign = r.get("positionAlign", {
                    start: "start",
                    left: "start",
                    center: "center",
                    middle: "center",
                    end: "end",
                    right: "end"
                }, t.align)
            }(e, t)
    }
    Ys.prototype = Ks(Error.prototype), Ys.prototype.constructor = Ys, Ys.Errors = {
        BadSignature: {
            code: 0,
            message: "Malformed WebVTT signature."
        },
        BadTimeStamp: {
            code: 1,
            message: "Malformed time stamp."
        }
    }, $s.prototype = {
        set: function(e, t) {
            this.get(e) || "" === t || (this.values[e] = t)
        },
        get: function(e, t, n) {
            return n ? this.has(e) ? this.values[e] : t[n] : this.has(e) ? this.values[e] : t
        },
        has: function(e) {
            return e in this.values
        },
        alt: function(e, t, n) {
            for (var r = 0; r < n.length; ++r)
                if (t === n[r]) {
                    this.set(e, t);
                    break
                }
        },
        integer: function(e, t) {
            /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
        },
        percent: function(e, t) {
            return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && (t = parseFloat(t)) >= 0 && t <= 100) && (this.set(e, t), !0)
        }
    };
    var eu = Xs.createElement && Xs.createElement("textarea"),
        tu = {
            c: "span",
            i: "i",
            b: "b",
            u: "u",
            ruby: "ruby",
            rt: "rt",
            v: "span",
            lang: "span"
        },
        nu = {
            white: "rgba(255,255,255,1)",
            lime: "rgba(0,255,0,1)",
            cyan: "rgba(0,255,255,1)",
            red: "rgba(255,0,0,1)",
            yellow: "rgba(255,255,0,1)",
            magenta: "rgba(255,0,255,1)",
            blue: "rgba(0,0,255,1)",
            black: "rgba(0,0,0,1)"
        },
        ru = {
            v: "title",
            lang: "lang"
        },
        iu = {
            rt: "ruby"
        };

    function au(e, t) {
        function n() {
            if (!t) return null;
            var e, n = t.match(/^([^<]*)(<[^>]*>?)?/);
            return e = n[1] ? n[1] : n[2], t = t.substr(e.length), e
        }

        function r(e) {
            return eu.innerHTML = e, e = eu.textContent, eu.textContent = "", e
        }

        function i(e, t) {
            return !iu[t.localName] || iu[t.localName] === e.localName
        }

        function a(t, n) {
            var r = tu[t];
            if (!r) return null;
            var i = e.document.createElement(r),
                a = ru[t];
            return a && n && (i[a] = n.trim()), i
        }
        for (var o, s = e.document.createElement("div"), u = s, l = []; null !== (o = n());)
            if ("<" !== o[0]) u.appendChild(e.document.createTextNode(r(o)));
            else {
                if ("/" === o[1]) {
                    l.length && l[l.length - 1] === o.substr(2).replace(">", "") && (l.pop(), u = u.parentNode);
                    continue
                }
                var c, d = Qs(o.substr(1, o.length - 2));
                if (d) {
                    c = e.document.createProcessingInstruction("timestamp", d), u.appendChild(c);
                    continue
                }
                var h = o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                if (!h) continue;
                if (!(c = a(h[1], h[3]))) continue;
                if (!i(u, c)) continue;
                if (h[2]) {
                    var p = h[2].split(".");
                    p.forEach((function(e) {
                        var t = /^bg_/.test(e),
                            n = t ? e.slice(3) : e;
                        if (nu.hasOwnProperty(n)) {
                            var r = t ? "background-color" : "color",
                                i = nu[n];
                            c.style[r] = i
                        }
                    })), c.className = p.join(" ")
                }
                l.push(h[1]), u.appendChild(c), u = c
            } return s
    }
    var ou = [
        [1470, 1470],
        [1472, 1472],
        [1475, 1475],
        [1478, 1478],
        [1488, 1514],
        [1520, 1524],
        [1544, 1544],
        [1547, 1547],
        [1549, 1549],
        [1563, 1563],
        [1566, 1610],
        [1645, 1647],
        [1649, 1749],
        [1765, 1766],
        [1774, 1775],
        [1786, 1805],
        [1807, 1808],
        [1810, 1839],
        [1869, 1957],
        [1969, 1969],
        [1984, 2026],
        [2036, 2037],
        [2042, 2042],
        [2048, 2069],
        [2074, 2074],
        [2084, 2084],
        [2088, 2088],
        [2096, 2110],
        [2112, 2136],
        [2142, 2142],
        [2208, 2208],
        [2210, 2220],
        [8207, 8207],
        [64285, 64285],
        [64287, 64296],
        [64298, 64310],
        [64312, 64316],
        [64318, 64318],
        [64320, 64321],
        [64323, 64324],
        [64326, 64449],
        [64467, 64829],
        [64848, 64911],
        [64914, 64967],
        [65008, 65020],
        [65136, 65140],
        [65142, 65276],
        [67584, 67589],
        [67592, 67592],
        [67594, 67637],
        [67639, 67640],
        [67644, 67644],
        [67647, 67669],
        [67671, 67679],
        [67840, 67867],
        [67872, 67897],
        [67903, 67903],
        [67968, 68023],
        [68030, 68031],
        [68096, 68096],
        [68112, 68115],
        [68117, 68119],
        [68121, 68147],
        [68160, 68167],
        [68176, 68184],
        [68192, 68223],
        [68352, 68405],
        [68416, 68437],
        [68440, 68466],
        [68472, 68479],
        [68608, 68680],
        [126464, 126467],
        [126469, 126495],
        [126497, 126498],
        [126500, 126500],
        [126503, 126503],
        [126505, 126514],
        [126516, 126519],
        [126521, 126521],
        [126523, 126523],
        [126530, 126530],
        [126535, 126535],
        [126537, 126537],
        [126539, 126539],
        [126541, 126543],
        [126545, 126546],
        [126548, 126548],
        [126551, 126551],
        [126553, 126553],
        [126555, 126555],
        [126557, 126557],
        [126559, 126559],
        [126561, 126562],
        [126564, 126564],
        [126567, 126570],
        [126572, 126578],
        [126580, 126583],
        [126585, 126588],
        [126590, 126590],
        [126592, 126601],
        [126603, 126619],
        [126625, 126627],
        [126629, 126633],
        [126635, 126651],
        [1114109, 1114109]
    ];

    function su(e) {
        for (var t = 0; t < ou.length; t++) {
            var n = ou[t];
            if (e >= n[0] && e <= n[1]) return !0
        }
        return !1
    }

    function uu(e) {
        var t = [],
            n = "";
        if (!e || !e.childNodes) return "ltr";

        function r(e, t) {
            for (var n = t.childNodes.length - 1; n >= 0; n--) e.push(t.childNodes[n])
        }

        function i(e) {
            if (!e || !e.length) return null;
            var t = e.pop(),
                n = t.textContent || t.innerText;
            if (n) {
                var a = n.match(/^.*(\n|\r)/);
                return a ? (e.length = 0, a[0]) : n
            }
            return "ruby" === t.tagName ? i(e) : t.childNodes ? (r(e, t), i(e)) : void 0
        }
        for (r(t, e); n = i(t);)
            for (var a = 0; a < n.length; a++)
                if (su(n.charCodeAt(a))) return "rtl";
        return "ltr"
    }

    function lu() {}

    function cu(e, t, n) {
        lu.call(this), this.cue = t, this.cueDiv = au(e, t.text);
        var r = {
            color: "rgba(255, 255, 255, 1)",
            backgroundColor: "rgba(0, 0, 0, 0.8)",
            position: "relative",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            display: "inline",
            writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
            unicodeBidi: "plaintext"
        };
        this.applyStyles(r, this.cueDiv), this.div = e.document.createElement("div"), r = {
            direction: uu(this.cueDiv),
            writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
            unicodeBidi: "plaintext",
            textAlign: "middle" === t.align ? "center" : t.align,
            font: n.font,
            whiteSpace: "pre-line",
            position: "absolute"
        }, this.applyStyles(r), this.div.appendChild(this.cueDiv);
        var i = 0;
        switch (t.positionAlign) {
            case "start":
                i = t.position;
                break;
            case "center":
                i = t.position - t.size / 2;
                break;
            case "end":
                i = t.position - t.size
        }
        "" === t.vertical ? this.applyStyles({
            left: this.formatStyle(i, "%"),
            width: this.formatStyle(t.size, "%")
        }) : this.applyStyles({
            top: this.formatStyle(i, "%"),
            height: this.formatStyle(t.size, "%")
        }), this.move = function(e) {
            this.applyStyles({
                top: this.formatStyle(e.top, "px"),
                bottom: this.formatStyle(e.bottom, "px"),
                left: this.formatStyle(e.left, "px"),
                right: this.formatStyle(e.right, "px"),
                height: this.formatStyle(e.height, "px"),
                width: this.formatStyle(e.width, "px")
            })
        }
    }

    function du(e) {
        var t, n, r, i;
        if (e.div) {
            n = e.div.offsetHeight, r = e.div.offsetWidth, i = e.div.offsetTop;
            var a = (a = e.div.childNodes) && (a = a[0]) && a.getClientRects && a.getClientRects();
            e = e.div.getBoundingClientRect(), t = a ? Math.max(a[0] && a[0].height || 0, e.height / a.length) : 0
        }
        this.left = e.left, this.right = e.right, this.top = e.top || i, this.height = e.height || n, this.bottom = e.bottom || i + (e.height || n), this.width = e.width || r, this.lineHeight = void 0 !== t ? t : e.lineHeight
    }

    function hu(e, t, n, r) {
        var i = new du(t),
            a = t.cue,
            o = function(e) {
                if ("number" == typeof e.line && (e.snapToLines || e.line >= 0 && e.line <= 100)) return e.line;
                if (!e.track || !e.track.textTrackList || !e.track.textTrackList.mediaElement) return -1;
                for (var t = e.track, n = t.textTrackList, r = 0, i = 0; i < n.length && n[i] !== t; i++) "showing" === n[i].mode && r++;
                return -1 * ++r
            }(a),
            s = [];
        if (a.snapToLines) {
            var u;
            switch (a.vertical) {
                case "":
                    s = ["+y", "-y"], u = "height";
                    break;
                case "rl":
                    s = ["+x", "-x"], u = "width";
                    break;
                case "lr":
                    s = ["-x", "+x"], u = "width"
            }
            var l = i.lineHeight,
                c = l * Math.round(o),
                d = n[u] + l,
                h = s[0];
            Math.abs(c) > d && (c = c < 0 ? -1 : 1, c *= Math.ceil(d / l) * l), o < 0 && (c += "" === a.vertical ? n.height : n.width, s = s.reverse()), i.move(h, c)
        } else {
            var p = i.lineHeight / n.height * 100;
            switch (a.lineAlign) {
                case "center":
                    o -= p / 2;
                    break;
                case "end":
                    o -= p
            }
            switch (a.vertical) {
                case "":
                    t.applyStyles({
                        top: t.formatStyle(o, "%")
                    });
                    break;
                case "rl":
                    t.applyStyles({
                        left: t.formatStyle(o, "%")
                    });
                    break;
                case "lr":
                    t.applyStyles({
                        right: t.formatStyle(o, "%")
                    })
            }
            s = ["+y", "-x", "+x", "-y"], i = new du(t)
        }
        var f = function(e, t) {
            for (var i, a = new du(e), o = 1, s = 0; s < t.length; s++) {
                for (; e.overlapsOppositeAxis(n, t[s]) || e.within(n) && e.overlapsAny(r);) e.move(t[s]);
                if (e.within(n)) return e;
                var u = e.intersectPercentage(n);
                o > u && (i = new du(e), o = u), e = new du(a)
            }
            return i || a
        }(i, s);
        t.move(f.toCSSCompatValues(n))
    }

    function pu() {}
    lu.prototype.applyStyles = function(e, t) {
        for (var n in t = t || this.div, e) e.hasOwnProperty(n) && (t.style[n] = e[n])
    }, lu.prototype.formatStyle = function(e, t) {
        return 0 === e ? 0 : e + t
    }, cu.prototype = Ks(lu.prototype), cu.prototype.constructor = cu, du.prototype.move = function(e, t) {
        switch (t = void 0 !== t ? t : this.lineHeight, e) {
            case "+x":
                this.left += t, this.right += t;
                break;
            case "-x":
                this.left -= t, this.right -= t;
                break;
            case "+y":
                this.top += t, this.bottom += t;
                break;
            case "-y":
                this.top -= t, this.bottom -= t
        }
    }, du.prototype.overlaps = function(e) {
        return this.left < e.right && this.right > e.left && this.top < e.bottom && this.bottom > e.top
    }, du.prototype.overlapsAny = function(e) {
        for (var t = 0; t < e.length; t++)
            if (this.overlaps(e[t])) return !0;
        return !1
    }, du.prototype.within = function(e) {
        return this.top >= e.top && this.bottom <= e.bottom && this.left >= e.left && this.right <= e.right
    }, du.prototype.overlapsOppositeAxis = function(e, t) {
        switch (t) {
            case "+x":
                return this.left < e.left;
            case "-x":
                return this.right > e.right;
            case "+y":
                return this.top < e.top;
            case "-y":
                return this.bottom > e.bottom
        }
    }, du.prototype.intersectPercentage = function(e) {
        return Math.max(0, Math.min(this.right, e.right) - Math.max(this.left, e.left)) * Math.max(0, Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top)) / (this.height * this.width)
    }, du.prototype.toCSSCompatValues = function(e) {
        return {
            top: this.top - e.top,
            bottom: e.bottom - this.bottom,
            left: this.left - e.left,
            right: e.right - this.right,
            height: this.height,
            width: this.width
        }
    }, du.getSimpleBoxPosition = function(e) {
        var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0,
            n = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0,
            r = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
        return {
            left: (e = e.div ? e.div.getBoundingClientRect() : e.tagName ? e.getBoundingClientRect() : e).left,
            right: e.right,
            top: e.top || r,
            height: e.height || t,
            bottom: e.bottom || r + (e.height || t),
            width: e.width || n
        }
    }, pu.StringDecoder = function() {
        return {
            decode: function(e) {
                if (!e) return "";
                if ("string" != typeof e) throw new Error("Error - expected string data.");
                return decodeURIComponent(encodeURIComponent(e))
            }
        }
    }, pu.convertCueToDOMTree = function(e, t) {
        return e && t ? au(e, t) : null
    };
    pu.processCues = function(e, t, n) {
        if (!e || !t || !n) return null;
        for (; n.firstChild;) n.removeChild(n.firstChild);
        var r = e.document.createElement("div");
        if (r.style.position = "absolute", r.style.left = "0", r.style.right = "0", r.style.top = "0", r.style.bottom = "0", r.style.margin = "1.5%", n.appendChild(r), function(e) {
                for (var t = 0; t < e.length; t++)
                    if (e[t].hasBeenReset || !e[t].displayState) return !0;
                return !1
            }(t)) {
            var i = [],
                a = du.getSimpleBoxPosition(r),
                o = {
                    font: Math.round(.05 * a.height * 100) / 100 + "px sans-serif"
                };
            ! function() {
                for (var n, s, u = 0; u < t.length; u++) s = t[u], n = new cu(e, s, o), r.appendChild(n.div), hu(0, n, a, i), s.displayState = n.div, i.push(du.getSimpleBoxPosition(n))
            }()
        } else
            for (var s = 0; s < t.length; s++) r.appendChild(t[s].displayState)
    }, pu.Parser = function(e, t, n) {
        n || (n = t, t = {}), t || (t = {}), this.window = e, this.vttjs = t, this.state = "INITIAL", this.buffer = "", this.decoder = n || new TextDecoder("utf8"), this.regionList = []
    }, pu.Parser.prototype = {
        reportOrThrowError: function(e) {
            if (!(e instanceof Ys)) throw e;
            this.onparsingerror && this.onparsingerror(e)
        },
        parse: function(e) {
            var t = this;

            function n() {
                for (var e = t.buffer, n = 0; n < e.length && "\r" !== e[n] && "\n" !== e[n];) ++n;
                var r = e.substr(0, n);
                return "\r" === e[n] && ++n, "\n" === e[n] && ++n, t.buffer = e.substr(n), r
            }

            function r(e) {
                e.match(/X-TIMESTAMP-MAP/) ? Js(e, (function(e, n) {
                    switch (e) {
                        case "X-TIMESTAMP-MAP":
                            ! function(e) {
                                var n = new $s;
                                Js(e, (function(e, t) {
                                    switch (e) {
                                        case "MPEGT":
                                            n.integer(e + "S", t);
                                            break;
                                        case "LOCA":
                                            n.set(e + "L", Qs(t))
                                    }
                                }), /[^\d]:/, /,/), t.ontimestampmap && t.ontimestampmap({
                                    MPEGTS: n.get("MPEGTS"),
                                    LOCAL: n.get("LOCAL")
                                })
                            }(n)
                    }
                }), /=/) : Js(e, (function(e, n) {
                    switch (e) {
                        case "Region":
                            ! function(e) {
                                var n = new $s;
                                if (Js(e, (function(e, t) {
                                        switch (e) {
                                            case "id":
                                                n.set(e, t);
                                                break;
                                            case "width":
                                                n.percent(e, t);
                                                break;
                                            case "lines":
                                                n.integer(e, t);
                                                break;
                                            case "regionanchor":
                                            case "viewportanchor":
                                                var r = t.split(",");
                                                if (2 !== r.length) break;
                                                var i = new $s;
                                                if (i.percent("x", r[0]), i.percent("y", r[1]), !i.has("x") || !i.has("y")) break;
                                                n.set(e + "X", i.get("x")), n.set(e + "Y", i.get("y"));
                                                break;
                                            case "scroll":
                                                n.alt(e, t, ["up"])
                                        }
                                    }), /=/, /\s/), n.has("id")) {
                                    var r = new(t.vttjs.VTTRegion || t.window.VTTRegion);
                                    r.width = n.get("width", 100), r.lines = n.get("lines", 3), r.regionAnchorX = n.get("regionanchorX", 0), r.regionAnchorY = n.get("regionanchorY", 100), r.viewportAnchorX = n.get("viewportanchorX", 0), r.viewportAnchorY = n.get("viewportanchorY", 100), r.scroll = n.get("scroll", ""), t.onregion && t.onregion(r), t.regionList.push({
                                        id: n.get("id"),
                                        region: r
                                    })
                                }
                            }(n)
                    }
                }), /:/)
            }
            e && (t.buffer += t.decoder.decode(e, {
                stream: !0
            }));
            try {
                var i;
                if ("INITIAL" === t.state) {
                    if (!/\r\n|\n/.test(t.buffer)) return this;
                    var a = (i = n()).match(/^WEBVTT([ \t].*)?$/);
                    if (!a || !a[0]) throw new Ys(Ys.Errors.BadSignature);
                    t.state = "HEADER"
                }
                for (var o = !1; t.buffer;) {
                    if (!/\r\n|\n/.test(t.buffer)) return this;
                    switch (o ? o = !1 : i = n(), t.state) {
                        case "HEADER":
                            /:/.test(i) ? r(i) : i || (t.state = "ID");
                            continue;
                        case "NOTE":
                            i || (t.state = "ID");
                            continue;
                        case "ID":
                            if (/^NOTE($|[ \t])/.test(i)) {
                                t.state = "NOTE";
                                break
                            }
                            if (!i) continue;
                            t.cue = new(t.vttjs.VTTCue || t.window.VTTCue)(0, 0, "");
                            try {
                                t.cue.align = "center"
                            } catch (e) {
                                t.cue.align = "middle"
                            }
                            if (t.state = "CUE", -1 === i.indexOf("--\x3e")) {
                                t.cue.id = i;
                                continue
                            }
                            case "CUE":
                                try {
                                    Zs(i, t.cue, t.regionList)
                                } catch (e) {
                                    t.reportOrThrowError(e), t.cue = null, t.state = "BADCUE";
                                    continue
                                }
                                t.state = "CUETEXT";
                                continue;
                            case "CUETEXT":
                                var s = -1 !== i.indexOf("--\x3e");
                                if (!i || s && (o = !0)) {
                                    t.oncue && t.oncue(t.cue), t.cue = null, t.state = "ID";
                                    continue
                                }
                                t.cue.text && (t.cue.text += "\n"), t.cue.text += i.replace(/\u2028/g, "\n").replace(/u2029/g, "\n");
                                continue;
                            case "BADCUE":
                                i || (t.state = "ID");
                                continue
                    }
                }
            } catch (e) {
                t.reportOrThrowError(e), "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue), t.cue = null, t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"
            }
            return this
        },
        flush: function() {
            var e = this;
            try {
                if (e.buffer += e.decoder.decode(), (e.cue || "HEADER" === e.state) && (e.buffer += "\n\n", e.parse()), "INITIAL" === e.state) throw new Ys(Ys.Errors.BadSignature)
            } catch (t) {
                e.reportOrThrowError(t)
            }
            return e.onflush && e.onflush(), this
        }
    };
    var fu = pu,
        mu = {
            "": 1,
            lr: 1,
            rl: 1
        },
        gu = {
            start: 1,
            center: 1,
            end: 1,
            left: 1,
            right: 1,
            auto: 1,
            "line-left": 1,
            "line-right": 1
        };

    function yu(e) {
        return "string" == typeof e && (!!gu[e.toLowerCase()] && e.toLowerCase())
    }

    function vu(e, t, n) {
        this.hasBeenReset = !1;
        var r = "",
            i = !1,
            a = e,
            o = t,
            s = n,
            u = null,
            l = "",
            c = !0,
            d = "auto",
            h = "start",
            p = "auto",
            f = "auto",
            m = 100,
            g = "center";
        Object.defineProperties(this, {
            id: {
                enumerable: !0,
                get: function() {
                    return r
                },
                set: function(e) {
                    r = "" + e
                }
            },
            pauseOnExit: {
                enumerable: !0,
                get: function() {
                    return i
                },
                set: function(e) {
                    i = !!e
                }
            },
            startTime: {
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(e) {
                    if ("number" != typeof e) throw new TypeError("Start time must be set to a number.");
                    a = e, this.hasBeenReset = !0
                }
            },
            endTime: {
                enumerable: !0,
                get: function() {
                    return o
                },
                set: function(e) {
                    if ("number" != typeof e) throw new TypeError("End time must be set to a number.");
                    o = e, this.hasBeenReset = !0
                }
            },
            text: {
                enumerable: !0,
                get: function() {
                    return s
                },
                set: function(e) {
                    s = "" + e, this.hasBeenReset = !0
                }
            },
            region: {
                enumerable: !0,
                get: function() {
                    return u
                },
                set: function(e) {
                    u = e, this.hasBeenReset = !0
                }
            },
            vertical: {
                enumerable: !0,
                get: function() {
                    return l
                },
                set: function(e) {
                    var t = function(e) {
                        return "string" == typeof e && !!mu[e.toLowerCase()] && e.toLowerCase()
                    }(e);
                    if (!1 === t) throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");
                    l = t, this.hasBeenReset = !0
                }
            },
            snapToLines: {
                enumerable: !0,
                get: function() {
                    return c
                },
                set: function(e) {
                    c = !!e, this.hasBeenReset = !0
                }
            },
            line: {
                enumerable: !0,
                get: function() {
                    return d
                },
                set: function(e) {
                    if ("number" != typeof e && "auto" !== e) throw new SyntaxError("Line: an invalid number or illegal string was specified.");
                    d = e, this.hasBeenReset = !0
                }
            },
            lineAlign: {
                enumerable: !0,
                get: function() {
                    return h
                },
                set: function(e) {
                    var t = yu(e);
                    t ? (h = t, this.hasBeenReset = !0) : console.warn("lineAlign: an invalid or illegal string was specified.")
                }
            },
            position: {
                enumerable: !0,
                get: function() {
                    return p
                },
                set: function(e) {
                    if (e < 0 || e > 100) throw new Error("Position must be between 0 and 100.");
                    p = e, this.hasBeenReset = !0
                }
            },
            positionAlign: {
                enumerable: !0,
                get: function() {
                    return f
                },
                set: function(e) {
                    var t = yu(e);
                    t ? (f = t, this.hasBeenReset = !0) : console.warn("positionAlign: an invalid or illegal string was specified.")
                }
            },
            size: {
                enumerable: !0,
                get: function() {
                    return m
                },
                set: function(e) {
                    if (e < 0 || e > 100) throw new Error("Size must be between 0 and 100.");
                    m = e, this.hasBeenReset = !0
                }
            },
            align: {
                enumerable: !0,
                get: function() {
                    return g
                },
                set: function(e) {
                    var t = yu(e);
                    if (!t) throw new SyntaxError("align: an invalid or illegal alignment string was specified.");
                    g = t, this.hasBeenReset = !0
                }
            }
        }), this.displayState = void 0
    }
    vu.prototype.getCueAsHTML = function() {
        return WebVTT.convertCueToDOMTree(window, this.text)
    };
    var bu = vu,
        Tu = {
            "": !0,
            up: !0
        };

    function _u(e) {
        return "number" == typeof e && e >= 0 && e <= 100
    }
    var Su = function() {
            var e = 100,
                t = 3,
                n = 0,
                r = 100,
                i = 0,
                a = 100,
                o = "";
            Object.defineProperties(this, {
                width: {
                    enumerable: !0,
                    get: function() {
                        return e
                    },
                    set: function(t) {
                        if (!_u(t)) throw new Error("Width must be between 0 and 100.");
                        e = t
                    }
                },
                lines: {
                    enumerable: !0,
                    get: function() {
                        return t
                    },
                    set: function(e) {
                        if ("number" != typeof e) throw new TypeError("Lines must be set to a number.");
                        t = e
                    }
                },
                regionAnchorY: {
                    enumerable: !0,
                    get: function() {
                        return r
                    },
                    set: function(e) {
                        if (!_u(e)) throw new Error("RegionAnchorX must be between 0 and 100.");
                        r = e
                    }
                },
                regionAnchorX: {
                    enumerable: !0,
                    get: function() {
                        return n
                    },
                    set: function(e) {
                        if (!_u(e)) throw new Error("RegionAnchorY must be between 0 and 100.");
                        n = e
                    }
                },
                viewportAnchorY: {
                    enumerable: !0,
                    get: function() {
                        return a
                    },
                    set: function(e) {
                        if (!_u(e)) throw new Error("ViewportAnchorY must be between 0 and 100.");
                        a = e
                    }
                },
                viewportAnchorX: {
                    enumerable: !0,
                    get: function() {
                        return i
                    },
                    set: function(e) {
                        if (!_u(e)) throw new Error("ViewportAnchorX must be between 0 and 100.");
                        i = e
                    }
                },
                scroll: {
                    enumerable: !0,
                    get: function() {
                        return o
                    },
                    set: function(e) {
                        var t = function(e) {
                            return "string" == typeof e && !!Tu[e.toLowerCase()] && e.toLowerCase()
                        }(e);
                        !1 === t ? console.warn("Scroll: an invalid or illegal string was specified.") : o = t
                    }
                }
            })
        },
        wu = m,
        Au = zs.exports = {
            WebVTT: fu,
            VTTCue: bu,
            VTTRegion: Su
        };
    wu.vttjs = Au, wu.WebVTT = Au.WebVTT;
    var Eu = Au.VTTCue,
        Cu = Au.VTTRegion,
        Pu = wu.VTTCue,
        ku = wu.VTTRegion;
    Au.shim = function() {
        wu.VTTCue = Eu, wu.VTTRegion = Cu
    }, Au.restore = function() {
        wu.VTTCue = Pu, wu.VTTRegion = ku
    }, wu.VTTCue || Au.shim();
    var xu = zs.exports;

    function Iu() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), !0
        } catch (e) {
            return !1
        }
    }

    function Mu(e, t, n) {
        return (Mu = Iu() ? Reflect.construct : function(e, t, n) {
            var r = [null];
            r.push.apply(r, t);
            var i = new(Function.bind.apply(e, r));
            return n && Is(i, n.prototype), i
        }).apply(null, arguments)
    }
    var Lu = {
        exports: {}
    };
    ! function(e, t) {
        ! function(t) {
            var n = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,
                r = /^([^\/?#]*)([^]*)$/,
                i = /(?:\/|^)\.(?=\/)/g,
                a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
                o = {
                    buildAbsoluteURL: function(e, t, n) {
                        if (n = n || {}, e = e.trim(), !(t = t.trim())) {
                            if (!n.alwaysNormalize) return e;
                            var i = o.parseURL(e);
                            if (!i) throw new Error("Error trying to parse base URL.");
                            return i.path = o.normalizePath(i.path), o.buildURLFromParts(i)
                        }
                        var a = o.parseURL(t);
                        if (!a) throw new Error("Error trying to parse relative URL.");
                        if (a.scheme) return n.alwaysNormalize ? (a.path = o.normalizePath(a.path), o.buildURLFromParts(a)) : t;
                        var s = o.parseURL(e);
                        if (!s) throw new Error("Error trying to parse base URL.");
                        if (!s.netLoc && s.path && "/" !== s.path[0]) {
                            var u = r.exec(s.path);
                            s.netLoc = u[1], s.path = u[2]
                        }
                        s.netLoc && !s.path && (s.path = "/");
                        var l = {
                            scheme: s.scheme,
                            netLoc: a.netLoc,
                            path: null,
                            params: a.params,
                            query: a.query,
                            fragment: a.fragment
                        };
                        if (!a.netLoc && (l.netLoc = s.netLoc, "/" !== a.path[0]))
                            if (a.path) {
                                var c = s.path,
                                    d = c.substring(0, c.lastIndexOf("/") + 1) + a.path;
                                l.path = o.normalizePath(d)
                            } else l.path = s.path, a.params || (l.params = s.params, a.query || (l.query = s.query));
                        return null === l.path && (l.path = n.alwaysNormalize ? o.normalizePath(a.path) : a.path), o.buildURLFromParts(l)
                    },
                    parseURL: function(e) {
                        var t = n.exec(e);
                        return t ? {
                            scheme: t[1] || "",
                            netLoc: t[2] || "",
                            path: t[3] || "",
                            params: t[4] || "",
                            query: t[5] || "",
                            fragment: t[6] || ""
                        } : null
                    },
                    normalizePath: function(e) {
                        for (e = e.split("").reverse().join("").replace(i, ""); e.length !== (e = e.replace(a, "")).length;);
                        return e.split("").reverse().join("")
                    },
                    buildURLFromParts: function(e) {
                        return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                    }
                };
            e.exports = o
        }()
    }(Lu);
    var Du = Lu.exports,
        Ou = "http://example.com",
        Ru = function(e, t) {
            if (/^[a-z]+:/i.test(t)) return t;
            /^data:/.test(e) && (e = m.location && m.location.href || "");
            var n = "function" == typeof m.URL,
                r = /^\/\//.test(e),
                i = !m.location && !/\/\//i.test(e);
            if (n ? e = new m.URL(e, m.location || Ou) : /\/\//i.test(e) || (e = Du.buildAbsoluteURL(m.location && m.location.href || "", e)), n) {
                var a = new URL(t, e);
                return i ? a.href.slice(Ou.length) : r ? a.href.slice(a.protocol.length) : a.href
            }
            return Du.buildAbsoluteURL(e, t)
        },
        Nu = function() {
            function e() {
                this.listeners = {}
            }
            var t = e.prototype;
            return t.on = function(e, t) {
                this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
            }, t.off = function(e, t) {
                if (!this.listeners[e]) return !1;
                var n = this.listeners[e].indexOf(t);
                return this.listeners[e] = this.listeners[e].slice(0), this.listeners[e].splice(n, 1), n > -1
            }, t.trigger = function(e) {
                var t = this.listeners[e];
                if (t)
                    if (2 === arguments.length)
                        for (var n = t.length, r = 0; r < n; ++r) t[r].call(this, arguments[1]);
                    else
                        for (var i = Array.prototype.slice.call(arguments, 1), a = t.length, o = 0; o < a; ++o) t[o].apply(this, i)
            }, t.dispose = function() {
                this.listeners = {}
            }, t.pipe = function(e) {
                this.on("data", (function(t) {
                    e.push(t)
                }))
            }, e
        }();

    function Bu(e) {
        for (var t = function(e) {
                return m.atob ? m.atob(e) : fn.from(e, "base64").toString("binary")
            }(e), n = new Uint8Array(t.length), r = 0; r < t.length; r++) n[r] = t.charCodeAt(r);
        return n
    }
    /*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */
    var Uu = function(e) {
            function t() {
                var t;
                return (t = e.call(this) || this).buffer = "", t
            }
            return Ms(t, e), t.prototype.push = function(e) {
                var t;
                for (this.buffer += e, t = this.buffer.indexOf("\n"); t > -1; t = this.buffer.indexOf("\n")) this.trigger("data", this.buffer.substring(0, t)), this.buffer = this.buffer.substring(t + 1)
            }, t
        }(Nu),
        Fu = String.fromCharCode(9),
        ju = function(e) {
            var t = /([0-9.]*)?@?([0-9.]*)?/.exec(e || ""),
                n = {};
            return t[1] && (n.length = parseInt(t[1], 10)), t[2] && (n.offset = parseInt(t[2], 10)), n
        },
        Hu = function(e) {
            for (var t, n = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')), r = {}, i = n.length; i--;) "" !== n[i] && ((t = /([^=]*)=(.*)/.exec(n[i]).slice(1))[0] = t[0].replace(/^\s+|\s+$/g, ""), t[1] = t[1].replace(/^\s+|\s+$/g, ""), t[1] = t[1].replace(/^['"](.*)['"]$/g, "$1"), r[t[0]] = t[1]);
            return r
        },
        Gu = function(e) {
            function t() {
                var t;
                return (t = e.call(this) || this).customParsers = [], t.tagMappers = [], t
            }
            Ms(t, e);
            var n = t.prototype;
            return n.push = function(e) {
                var t, n, r = this;
                0 !== (e = e.trim()).length && ("#" === e[0] ? this.tagMappers.reduce((function(t, n) {
                    var r = n(e);
                    return r === e ? t : t.concat([r])
                }), [e]).forEach((function(e) {
                    for (var i = 0; i < r.customParsers.length; i++)
                        if (r.customParsers[i].call(r, e)) return;
                    if (0 === e.indexOf("#EXT"))
                        if (e = e.replace("\r", ""), t = /^#EXTM3U/.exec(e)) r.trigger("data", {
                            type: "tag",
                            tagType: "m3u"
                        });
                        else {
                            if (t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)) return n = {
                                type: "tag",
                                tagType: "inf"
                            }, t[1] && (n.duration = parseFloat(t[1])), t[2] && (n.title = t[2]), void r.trigger("data", n);
                            if (t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e)) return n = {
                                type: "tag",
                                tagType: "targetduration"
                            }, t[1] && (n.duration = parseInt(t[1], 10)), void r.trigger("data", n);
                            if (t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e)) return n = {
                                type: "tag",
                                tagType: "version"
                            }, t[1] && (n.version = parseInt(t[1], 10)), void r.trigger("data", n);
                            if (t = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return n = {
                                type: "tag",
                                tagType: "media-sequence"
                            }, t[1] && (n.number = parseInt(t[1], 10)), void r.trigger("data", n);
                            if (t = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return n = {
                                type: "tag",
                                tagType: "discontinuity-sequence"
                            }, t[1] && (n.number = parseInt(t[1], 10)), void r.trigger("data", n);
                            if (t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e)) return n = {
                                type: "tag",
                                tagType: "playlist-type"
                            }, t[1] && (n.playlistType = t[1]), void r.trigger("data", n);
                            if (t = /^#EXT-X-BYTERANGE:?(.*)?$/.exec(e)) return n = ks(ju(t[1]), {
                                type: "tag",
                                tagType: "byterange"
                            }), void r.trigger("data", n);
                            if (t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e)) return n = {
                                type: "tag",
                                tagType: "allow-cache"
                            }, t[1] && (n.allowed = !/NO/.test(t[1])), void r.trigger("data", n);
                            if (t = /^#EXT-X-MAP:?(.*)$/.exec(e)) {
                                if (n = {
                                        type: "tag",
                                        tagType: "map"
                                    }, t[1]) {
                                    var a = Hu(t[1]);
                                    a.URI && (n.uri = a.URI), a.BYTERANGE && (n.byterange = ju(a.BYTERANGE))
                                }
                                r.trigger("data", n)
                            } else if (t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e)) {
                                if (n = {
                                        type: "tag",
                                        tagType: "stream-inf"
                                    }, t[1]) {
                                    if (n.attributes = Hu(t[1]), n.attributes.RESOLUTION) {
                                        var o = n.attributes.RESOLUTION.split("x"),
                                            s = {};
                                        o[0] && (s.width = parseInt(o[0], 10)), o[1] && (s.height = parseInt(o[1], 10)), n.attributes.RESOLUTION = s
                                    }
                                    n.attributes.BANDWIDTH && (n.attributes.BANDWIDTH = parseInt(n.attributes.BANDWIDTH, 10)), n.attributes["PROGRAM-ID"] && (n.attributes["PROGRAM-ID"] = parseInt(n.attributes["PROGRAM-ID"], 10))
                                }
                                r.trigger("data", n)
                            } else {
                                if (t = /^#EXT-X-MEDIA:?(.*)$/.exec(e)) return n = {
                                    type: "tag",
                                    tagType: "media"
                                }, t[1] && (n.attributes = Hu(t[1])), void r.trigger("data", n);
                                if (t = /^#EXT-X-ENDLIST/.exec(e)) r.trigger("data", {
                                    type: "tag",
                                    tagType: "endlist"
                                });
                                else if (t = /^#EXT-X-DISCONTINUITY/.exec(e)) r.trigger("data", {
                                    type: "tag",
                                    tagType: "discontinuity"
                                });
                                else {
                                    if (t = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e)) return n = {
                                        type: "tag",
                                        tagType: "program-date-time"
                                    }, t[1] && (n.dateTimeString = t[1], n.dateTimeObject = new Date(t[1])), void r.trigger("data", n);
                                    if (t = /^#EXT-X-KEY:?(.*)$/.exec(e)) return n = {
                                        type: "tag",
                                        tagType: "key"
                                    }, t[1] && (n.attributes = Hu(t[1]), n.attributes.IV && ("0x" === n.attributes.IV.substring(0, 2).toLowerCase() && (n.attributes.IV = n.attributes.IV.substring(2)), n.attributes.IV = n.attributes.IV.match(/.{8}/g), n.attributes.IV[0] = parseInt(n.attributes.IV[0], 16), n.attributes.IV[1] = parseInt(n.attributes.IV[1], 16), n.attributes.IV[2] = parseInt(n.attributes.IV[2], 16), n.attributes.IV[3] = parseInt(n.attributes.IV[3], 16), n.attributes.IV = new Uint32Array(n.attributes.IV))), void r.trigger("data", n);
                                    if (t = /^#EXT-X-START:?(.*)$/.exec(e)) return n = {
                                        type: "tag",
                                        tagType: "start"
                                    }, t[1] && (n.attributes = Hu(t[1]), n.attributes["TIME-OFFSET"] = parseFloat(n.attributes["TIME-OFFSET"]), n.attributes.PRECISE = /YES/.test(n.attributes.PRECISE)), void r.trigger("data", n);
                                    if (t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e)) return n = {
                                        type: "tag",
                                        tagType: "cue-out-cont"
                                    }, t[1] ? n.data = t[1] : n.data = "", void r.trigger("data", n);
                                    if (t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e)) return n = {
                                        type: "tag",
                                        tagType: "cue-out"
                                    }, t[1] ? n.data = t[1] : n.data = "", void r.trigger("data", n);
                                    if (t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e)) return n = {
                                        type: "tag",
                                        tagType: "cue-in"
                                    }, t[1] ? n.data = t[1] : n.data = "", void r.trigger("data", n);
                                    if ((t = /^#EXT-X-SKIP:(.*)$/.exec(e)) && t[1]) return (n = {
                                        type: "tag",
                                        tagType: "skip"
                                    }).attributes = Hu(t[1]), n.attributes.hasOwnProperty("SKIPPED-SEGMENTS") && (n.attributes["SKIPPED-SEGMENTS"] = parseInt(n.attributes["SKIPPED-SEGMENTS"], 10)), n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES") && (n.attributes["RECENTLY-REMOVED-DATERANGES"] = n.attributes["RECENTLY-REMOVED-DATERANGES"].split(Fu)), void r.trigger("data", n);
                                    if ((t = /^#EXT-X-PART:(.*)$/.exec(e)) && t[1]) return (n = {
                                        type: "tag",
                                        tagType: "part"
                                    }).attributes = Hu(t[1]), ["DURATION"].forEach((function(e) {
                                        n.attributes.hasOwnProperty(e) && (n.attributes[e] = parseFloat(n.attributes[e]))
                                    })), ["INDEPENDENT", "GAP"].forEach((function(e) {
                                        n.attributes.hasOwnProperty(e) && (n.attributes[e] = /YES/.test(n.attributes[e]))
                                    })), n.attributes.hasOwnProperty("BYTERANGE") && (n.attributes.byterange = ju(n.attributes.BYTERANGE)), void r.trigger("data", n);
                                    if ((t = /^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e)) && t[1]) return (n = {
                                        type: "tag",
                                        tagType: "server-control"
                                    }).attributes = Hu(t[1]), ["CAN-SKIP-UNTIL", "PART-HOLD-BACK", "HOLD-BACK"].forEach((function(e) {
                                        n.attributes.hasOwnProperty(e) && (n.attributes[e] = parseFloat(n.attributes[e]))
                                    })), ["CAN-SKIP-DATERANGES", "CAN-BLOCK-RELOAD"].forEach((function(e) {
                                        n.attributes.hasOwnProperty(e) && (n.attributes[e] = /YES/.test(n.attributes[e]))
                                    })), void r.trigger("data", n);
                                    if ((t = /^#EXT-X-PART-INF:(.*)$/.exec(e)) && t[1]) return (n = {
                                        type: "tag",
                                        tagType: "part-inf"
                                    }).attributes = Hu(t[1]), ["PART-TARGET"].forEach((function(e) {
                                        n.attributes.hasOwnProperty(e) && (n.attributes[e] = parseFloat(n.attributes[e]))
                                    })), void r.trigger("data", n);
                                    if ((t = /^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e)) && t[1]) return (n = {
                                        type: "tag",
                                        tagType: "preload-hint"
                                    }).attributes = Hu(t[1]), ["BYTERANGE-START", "BYTERANGE-LENGTH"].forEach((function(e) {
                                        if (n.attributes.hasOwnProperty(e)) {
                                            n.attributes[e] = parseInt(n.attributes[e], 10);
                                            var t = "BYTERANGE-LENGTH" === e ? "length" : "offset";
                                            n.attributes.byterange = n.attributes.byterange || {}, n.attributes.byterange[t] = n.attributes[e], delete n.attributes[e]
                                        }
                                    })), void r.trigger("data", n);
                                    if ((t = /^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e)) && t[1]) return (n = {
                                        type: "tag",
                                        tagType: "rendition-report"
                                    }).attributes = Hu(t[1]), ["LAST-MSN", "LAST-PART"].forEach((function(e) {
                                        n.attributes.hasOwnProperty(e) && (n.attributes[e] = parseInt(n.attributes[e], 10))
                                    })), void r.trigger("data", n);
                                    r.trigger("data", {
                                        type: "tag",
                                        data: e.slice(4)
                                    })
                                }
                            }
                        }
                    else r.trigger("data", {
                        type: "comment",
                        text: e.slice(1)
                    })
                })) : this.trigger("data", {
                    type: "uri",
                    uri: e
                }))
            }, n.addParser = function(e) {
                var t = this,
                    n = e.expression,
                    r = e.customType,
                    i = e.dataParser,
                    a = e.segment;
                "function" != typeof i && (i = function(e) {
                    return e
                }), this.customParsers.push((function(e) {
                    if (n.exec(e)) return t.trigger("data", {
                        type: "custom",
                        data: i(e),
                        customType: r,
                        segment: a
                    }), !0
                }))
            }, n.addTagMapper = function(e) {
                var t = e.expression,
                    n = e.map;
                this.tagMappers.push((function(e) {
                    return t.test(e) ? n(e) : e
                }))
            }, t
        }(Nu),
        Vu = function(e) {
            var t = {};
            return Object.keys(e).forEach((function(n) {
                var r;
                t[(r = n, r.toLowerCase().replace(/-(\w)/g, (function(e) {
                    return e[1].toUpperCase()
                })))] = e[n]
            })), t
        },
        Wu = function(e) {
            var t = e.serverControl,
                n = e.targetDuration,
                r = e.partTargetDuration;
            if (t) {
                var i = "#EXT-X-SERVER-CONTROL",
                    a = "holdBack",
                    o = "partHoldBack",
                    s = n && 3 * n,
                    u = r && 2 * r;
                n && !t.hasOwnProperty(a) && (t[a] = s, this.trigger("info", {
                    message: i + " defaulting HOLD-BACK to targetDuration * 3 (" + s + ")."
                })), s && t[a] < s && (this.trigger("warn", {
                    message: i + " clamping HOLD-BACK (" + t[a] + ") to targetDuration * 3 (" + s + ")"
                }), t[a] = s), r && !t.hasOwnProperty(o) && (t[o] = 3 * r, this.trigger("info", {
                    message: i + " defaulting PART-HOLD-BACK to partTargetDuration * 3 (" + t[o] + ")."
                })), r && t[o] < u && (this.trigger("warn", {
                    message: i + " clamping PART-HOLD-BACK (" + t[o] + ") to partTargetDuration * 2 (" + u + ")."
                }), t[o] = u)
            }
        },
        qu = function(e) {
            function t() {
                var t;
                (t = e.call(this) || this).lineStream = new Uu, t.parseStream = new Gu, t.lineStream.pipe(t.parseStream);
                var n, r, i = xs(t),
                    a = [],
                    o = {},
                    s = !1,
                    u = function() {},
                    l = {
                        AUDIO: {},
                        VIDEO: {},
                        "CLOSED-CAPTIONS": {},
                        SUBTITLES: {}
                    },
                    c = 0;
                t.manifest = {
                    allowCache: !0,
                    discontinuityStarts: [],
                    segments: []
                };
                var d = 0,
                    h = 0;
                return t.on("end", (function() {
                    o.uri || !o.parts && !o.preloadHints || (!o.map && n && (o.map = n), !o.key && r && (o.key = r), o.timeline || "number" != typeof c || (o.timeline = c), t.manifest.preloadSegment = o)
                })), t.parseStream.on("data", (function(e) {
                    var t, p;
                    ({
                        tag: function() {
                            ({
                                version: function() {
                                    e.version && (this.manifest.version = e.version)
                                },
                                "allow-cache": function() {
                                    this.manifest.allowCache = e.allowed, "allowed" in e || (this.trigger("info", {
                                        message: "defaulting allowCache to YES"
                                    }), this.manifest.allowCache = !0)
                                },
                                byterange: function() {
                                    var t = {};
                                    "length" in e && (o.byterange = t, t.length = e.length, "offset" in e || (e.offset = d)), "offset" in e && (o.byterange = t, t.offset = e.offset), d = t.offset + t.length
                                },
                                endlist: function() {
                                    this.manifest.endList = !0
                                },
                                inf: function() {
                                    "mediaSequence" in this.manifest || (this.manifest.mediaSequence = 0, this.trigger("info", {
                                        message: "defaulting media sequence to zero"
                                    })), "discontinuitySequence" in this.manifest || (this.manifest.discontinuitySequence = 0, this.trigger("info", {
                                        message: "defaulting discontinuity sequence to zero"
                                    })), e.duration > 0 && (o.duration = e.duration), 0 === e.duration && (o.duration = .01, this.trigger("info", {
                                        message: "updating zero segment duration to a small value"
                                    })), this.manifest.segments = a
                                },
                                key: function() {
                                    if (e.attributes)
                                        if ("NONE" !== e.attributes.METHOD)
                                            if (e.attributes.URI) {
                                                if ("com.apple.streamingkeydelivery" === e.attributes.KEYFORMAT) return this.manifest.contentProtection = this.manifest.contentProtection || {}, void(this.manifest.contentProtection["com.apple.fps.1_0"] = {
                                                    attributes: e.attributes
                                                });
                                                if ("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" === e.attributes.KEYFORMAT) {
                                                    return -1 === ["SAMPLE-AES", "SAMPLE-AES-CTR", "SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD) ? void this.trigger("warn", {
                                                        message: "invalid key method provided for Widevine"
                                                    }) : ("SAMPLE-AES-CENC" === e.attributes.METHOD && this.trigger("warn", {
                                                        message: "SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"
                                                    }), "data:text/plain;base64," !== e.attributes.URI.substring(0, 23) ? void this.trigger("warn", {
                                                        message: "invalid key URI provided for Widevine"
                                                    }) : e.attributes.KEYID && "0x" === e.attributes.KEYID.substring(0, 2) ? (this.manifest.contentProtection = this.manifest.contentProtection || {}, void(this.manifest.contentProtection["com.widevine.alpha"] = {
                                                        attributes: {
                                                            schemeIdUri: e.attributes.KEYFORMAT,
                                                            keyId: e.attributes.KEYID.substring(2)
                                                        },
                                                        pssh: Bu(e.attributes.URI.split(",")[1])
                                                    })) : void this.trigger("warn", {
                                                        message: "invalid key ID provided for Widevine"
                                                    }))
                                                }
                                                e.attributes.METHOD || this.trigger("warn", {
                                                    message: "defaulting key method to AES-128"
                                                }), r = {
                                                    method: e.attributes.METHOD || "AES-128",
                                                    uri: e.attributes.URI
                                                }, void 0 !== e.attributes.IV && (r.iv = e.attributes.IV)
                                            } else this.trigger("warn", {
                                                message: "ignoring key declaration without URI"
                                            });
                                    else r = null;
                                    else this.trigger("warn", {
                                        message: "ignoring key declaration without attribute list"
                                    })
                                },
                                "media-sequence": function() {
                                    isFinite(e.number) ? this.manifest.mediaSequence = e.number : this.trigger("warn", {
                                        message: "ignoring invalid media sequence: " + e.number
                                    })
                                },
                                "discontinuity-sequence": function() {
                                    isFinite(e.number) ? (this.manifest.discontinuitySequence = e.number, c = e.number) : this.trigger("warn", {
                                        message: "ignoring invalid discontinuity sequence: " + e.number
                                    })
                                },
                                "playlist-type": function() {
                                    /VOD|EVENT/.test(e.playlistType) ? this.manifest.playlistType = e.playlistType : this.trigger("warn", {
                                        message: "ignoring unknown playlist type: " + e.playlist
                                    })
                                },
                                map: function() {
                                    n = {}, e.uri && (n.uri = e.uri), e.byterange && (n.byterange = e.byterange), r && (n.key = r)
                                },
                                "stream-inf": function() {
                                    this.manifest.playlists = a, this.manifest.mediaGroups = this.manifest.mediaGroups || l, e.attributes ? (o.attributes || (o.attributes = {}), ks(o.attributes, e.attributes)) : this.trigger("warn", {
                                        message: "ignoring empty stream-inf attributes"
                                    })
                                },
                                media: function() {
                                    if (this.manifest.mediaGroups = this.manifest.mediaGroups || l, e.attributes && e.attributes.TYPE && e.attributes["GROUP-ID"] && e.attributes.NAME) {
                                        var n = this.manifest.mediaGroups[e.attributes.TYPE];
                                        n[e.attributes["GROUP-ID"]] = n[e.attributes["GROUP-ID"]] || {}, t = n[e.attributes["GROUP-ID"]], (p = {
                                            default: /yes/i.test(e.attributes.DEFAULT)
                                        }).default ? p.autoselect = !0 : p.autoselect = /yes/i.test(e.attributes.AUTOSELECT), e.attributes.LANGUAGE && (p.language = e.attributes.LANGUAGE), e.attributes.URI && (p.uri = e.attributes.URI), e.attributes["INSTREAM-ID"] && (p.instreamId = e.attributes["INSTREAM-ID"]), e.attributes.CHARACTERISTICS && (p.characteristics = e.attributes.CHARACTERISTICS), e.attributes.FORCED && (p.forced = /yes/i.test(e.attributes.FORCED)), t[e.attributes.NAME] = p
                                    } else this.trigger("warn", {
                                        message: "ignoring incomplete or missing media group"
                                    })
                                },
                                discontinuity: function() {
                                    c += 1, o.discontinuity = !0, this.manifest.discontinuityStarts.push(a.length)
                                },
                                "program-date-time": function() {
                                    void 0 === this.manifest.dateTimeString && (this.manifest.dateTimeString = e.dateTimeString, this.manifest.dateTimeObject = e.dateTimeObject), o.dateTimeString = e.dateTimeString, o.dateTimeObject = e.dateTimeObject
                                },
                                targetduration: function() {
                                    !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                        message: "ignoring invalid target duration: " + e.duration
                                    }) : (this.manifest.targetDuration = e.duration, Wu.call(this, this.manifest))
                                },
                                start: function() {
                                    e.attributes && !isNaN(e.attributes["TIME-OFFSET"]) ? this.manifest.start = {
                                        timeOffset: e.attributes["TIME-OFFSET"],
                                        precise: e.attributes.PRECISE
                                    } : this.trigger("warn", {
                                        message: "ignoring start declaration without appropriate attribute list"
                                    })
                                },
                                "cue-out": function() {
                                    o.cueOut = e.data
                                },
                                "cue-out-cont": function() {
                                    o.cueOutCont = e.data
                                },
                                "cue-in": function() {
                                    o.cueIn = e.data
                                },
                                skip: function() {
                                    this.manifest.skip = Vu(e.attributes), this.warnOnMissingAttributes_("#EXT-X-SKIP", e.attributes, ["SKIPPED-SEGMENTS"])
                                },
                                part: function() {
                                    var t = this;
                                    s = !0;
                                    var n = this.manifest.segments.length,
                                        r = Vu(e.attributes);
                                    o.parts = o.parts || [], o.parts.push(r), r.byterange && (r.byterange.hasOwnProperty("offset") || (r.byterange.offset = h), h = r.byterange.offset + r.byterange.length);
                                    var i = o.parts.length - 1;
                                    this.warnOnMissingAttributes_("#EXT-X-PART #" + i + " for segment #" + n, e.attributes, ["URI", "DURATION"]), this.manifest.renditionReports && this.manifest.renditionReports.forEach((function(e, n) {
                                        e.hasOwnProperty("lastPart") || t.trigger("warn", {
                                            message: "#EXT-X-RENDITION-REPORT #" + n + " lacks required attribute(s): LAST-PART"
                                        })
                                    }))
                                },
                                "server-control": function() {
                                    var t = this.manifest.serverControl = Vu(e.attributes);
                                    t.hasOwnProperty("canBlockReload") || (t.canBlockReload = !1, this.trigger("info", {
                                        message: "#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"
                                    })), Wu.call(this, this.manifest), t.canSkipDateranges && !t.hasOwnProperty("canSkipUntil") && this.trigger("warn", {
                                        message: "#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"
                                    })
                                },
                                "preload-hint": function() {
                                    var t = this.manifest.segments.length,
                                        n = Vu(e.attributes),
                                        r = n.type && "PART" === n.type;
                                    o.preloadHints = o.preloadHints || [], o.preloadHints.push(n), n.byterange && (n.byterange.hasOwnProperty("offset") || (n.byterange.offset = r ? h : 0, r && (h = n.byterange.offset + n.byterange.length)));
                                    var i = o.preloadHints.length - 1;
                                    if (this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #" + i + " for segment #" + t, e.attributes, ["TYPE", "URI"]), n.type)
                                        for (var a = 0; a < o.preloadHints.length - 1; a++) {
                                            var s = o.preloadHints[a];
                                            s.type && (s.type === n.type && this.trigger("warn", {
                                                message: "#EXT-X-PRELOAD-HINT #" + i + " for segment #" + t + " has the same TYPE " + n.type + " as preload hint #" + a
                                            }))
                                        }
                                },
                                "rendition-report": function() {
                                    var t = Vu(e.attributes);
                                    this.manifest.renditionReports = this.manifest.renditionReports || [], this.manifest.renditionReports.push(t);
                                    var n = this.manifest.renditionReports.length - 1,
                                        r = ["LAST-MSN", "URI"];
                                    s && r.push("LAST-PART"), this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #" + n, e.attributes, r)
                                },
                                "part-inf": function() {
                                    this.manifest.partInf = Vu(e.attributes), this.warnOnMissingAttributes_("#EXT-X-PART-INF", e.attributes, ["PART-TARGET"]), this.manifest.partInf.partTarget && (this.manifest.partTargetDuration = this.manifest.partInf.partTarget), Wu.call(this, this.manifest)
                                }
                            } [e.tagType] || u).call(i)
                        },
                        uri: function() {
                            o.uri = e.uri, a.push(o), this.manifest.targetDuration && !("duration" in o) && (this.trigger("warn", {
                                message: "defaulting segment duration to the target duration"
                            }), o.duration = this.manifest.targetDuration), r && (o.key = r), o.timeline = c, n && (o.map = n), h = 0, o = {}
                        },
                        comment: function() {},
                        custom: function() {
                            e.segment ? (o.custom = o.custom || {}, o.custom[e.customType] = e.data) : (this.manifest.custom = this.manifest.custom || {}, this.manifest.custom[e.customType] = e.data)
                        }
                    })[e.type].call(i)
                })), t
            }
            Ms(t, e);
            var n = t.prototype;
            return n.warnOnMissingAttributes_ = function(e, t, n) {
                var r = [];
                n.forEach((function(e) {
                    t.hasOwnProperty(e) || r.push(e)
                })), r.length && this.trigger("warn", {
                    message: e + " lacks required attribute(s): " + r.join(", ")
                })
            }, n.push = function(e) {
                this.lineStream.push(e)
            }, n.end = function() {
                this.lineStream.push("\n"), this.trigger("end")
            }, n.addParser = function(e) {
                this.parseStream.addParser(e)
            }, n.addTagMapper = function(e) {
                this.parseStream.addTagMapper(e)
            }, t
        }(Nu),
        zu = {
            mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,
            webm: /^(vp0?[89]|av0?1|opus|vorbis)/,
            ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,
            video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,
            audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,
            text: /^(stpp.ttml.im1t)/,
            muxerVideo: /^(avc0?1)/,
            muxerAudio: /^(mp4a)/,
            muxerText: /a^/
        },
        Xu = ["video", "audio", "text"],
        Ku = ["Video", "Audio", "Text"],
        Yu = function(e) {
            return e ? e.replace(/avc1\.(\d+)\.(\d+)/i, (function(e, t, n) {
                return "avc1." + ("00" + Number(t).toString(16)).slice(-2) + "00" + ("00" + Number(n).toString(16)).slice(-2)
            })) : e
        },
        Qu = function(e) {
            void 0 === e && (e = "");
            var t = e.split(","),
                n = [];
            return t.forEach((function(e) {
                var t;
                e = e.trim(), Xu.forEach((function(r) {
                    var i = zu[r].exec(e.toLowerCase());
                    if (i && !(i.length <= 1)) {
                        t = r;
                        var a = e.substring(0, i[1].length),
                            o = e.replace(a, "");
                        n.push({
                            type: a,
                            details: o,
                            mediaType: r
                        })
                    }
                })), t || n.push({
                    type: e,
                    details: "",
                    mediaType: "unknown"
                })
            })), n
        },
        $u = function(e) {
            return void 0 === e && (e = ""), zu.audio.test(e.trim().toLowerCase())
        },
        Ju = function(e) {
            if (e && "string" == typeof e) {
                var t, n = e.toLowerCase().split(",").map((function(e) {
                        return Yu(e.trim())
                    })),
                    r = "video";
                1 === n.length && $u(n[0]) ? r = "audio" : 1 === n.length && (void 0 === (t = n[0]) && (t = ""), zu.text.test(t.trim().toLowerCase())) && (r = "application");
                var i = "mp4";
                return n.every((function(e) {
                    return zu.mp4.test(e)
                })) ? i = "mp4" : n.every((function(e) {
                    return zu.webm.test(e)
                })) ? i = "webm" : n.every((function(e) {
                    return zu.ogg.test(e)
                })) && (i = "ogg"), r + "/" + i + ';codecs="' + e + '"'
            }
        },
        Zu = function(e) {
            return void 0 === e && (e = ""), m.MediaSource && m.MediaSource.isTypeSupported && m.MediaSource.isTypeSupported(Ju(e)) || !1
        },
        el = function(e) {
            return void 0 === e && (e = ""), e.toLowerCase().split(",").every((function(e) {
                e = e.trim();
                for (var t = 0; t < Ku.length; t++) {
                    if (zu["muxer" + Ku[t]].test(e)) return !0
                }
                return !1
            }))
        },
        tl = "mp4a.40.2",
        nl = /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,
        rl = /^application\/dash\+xml/i,
        il = function(e) {
            return nl.test(e) ? "hls" : rl.test(e) ? "dash" : "application/vnd.videojs.vhs+json" === e ? "vhs-json" : null
        },
        al = {
            entityMap: {
                lt: "<",
                gt: ">",
                amp: "&",
                quot: '"',
                apos: "'",
                Agrave: "",
                Aacute: "",
                Acirc: "",
                Atilde: "",
                Auml: "",
                Aring: "",
                AElig: "",
                Ccedil: "",
                Egrave: "",
                Eacute: "",
                Ecirc: "",
                Euml: "",
                Igrave: "",
                Iacute: "",
                Icirc: "",
                Iuml: "",
                ETH: "",
                Ntilde: "",
                Ograve: "",
                Oacute: "",
                Ocirc: "",
                Otilde: "",
                Ouml: "",
                Oslash: "",
                Ugrave: "",
                Uacute: "",
                Ucirc: "",
                Uuml: "",
                Yacute: "",
                THORN: "",
                szlig: "",
                agrave: "",
                aacute: "",
                acirc: "",
                atilde: "",
                auml: "",
                aring: "",
                aelig: "",
                ccedil: "",
                egrave: "",
                eacute: "",
                ecirc: "",
                euml: "",
                igrave: "",
                iacute: "",
                icirc: "",
                iuml: "",
                eth: "",
                ntilde: "",
                ograve: "",
                oacute: "",
                ocirc: "",
                otilde: "",
                ouml: "",
                oslash: "",
                ugrave: "",
                uacute: "",
                ucirc: "",
                uuml: "",
                yacute: "",
                thorn: "",
                yuml: "",
                nbsp: "",
                iexcl: "",
                cent: "",
                pound: "",
                curren: "",
                yen: "",
                brvbar: "",
                sect: "",
                uml: "",
                copy: "",
                ordf: "",
                laquo: "",
                not: "",
                shy: "",
                reg: "",
                macr: "",
                deg: "",
                plusmn: "",
                sup2: "",
                sup3: "",
                acute: "",
                micro: "",
                para: "",
                middot: "",
                cedil: "",
                sup1: "",
                ordm: "",
                raquo: "",
                frac14: "",
                frac12: "",
                frac34: "",
                iquest: "",
                times: "",
                divide: "",
                forall: "",
                part: "",
                exist: "",
                empty: "",
                nabla: "",
                isin: "",
                notin: "",
                ni: "",
                prod: "",
                sum: "",
                minus: "",
                lowast: "",
                radic: "",
                prop: "",
                infin: "",
                ang: "",
                and: "",
                or: "",
                cap: "",
                cup: "",
                int: "",
                there4: "",
                sim: "",
                cong: "",
                asymp: "",
                ne: "",
                equiv: "",
                le: "",
                ge: "",
                sub: "",
                sup: "",
                nsub: "",
                sube: "",
                supe: "",
                oplus: "",
                otimes: "",
                perp: "",
                sdot: "",
                Alpha: "",
                Beta: "",
                Gamma: "",
                Delta: "",
                Epsilon: "",
                Zeta: "",
                Eta: "",
                Theta: "",
                Iota: "",
                Kappa: "",
                Lambda: "",
                Mu: "",
                Nu: "",
                Xi: "",
                Omicron: "",
                Pi: "",
                Rho: "",
                Sigma: "",
                Tau: "",
                Upsilon: "",
                Phi: "",
                Chi: "",
                Psi: "",
                Omega: "",
                alpha: "",
                beta: "",
                gamma: "",
                delta: "",
                epsilon: "",
                zeta: "",
                eta: "",
                theta: "",
                iota: "",
                kappa: "",
                lambda: "",
                mu: "",
                nu: "",
                xi: "",
                omicron: "",
                pi: "",
                rho: "",
                sigmaf: "",
                sigma: "",
                tau: "",
                upsilon: "",
                phi: "",
                chi: "",
                psi: "",
                omega: "",
                thetasym: "",
                upsih: "",
                piv: "",
                OElig: "",
                oelig: "",
                Scaron: "",
                scaron: "",
                Yuml: "",
                fnof: "",
                circ: "",
                tilde: "",
                ensp: "",
                emsp: "",
                thinsp: "",
                zwnj: "",
                zwj: "",
                lrm: "",
                rlm: "",
                ndash: "",
                mdash: "",
                lsquo: "",
                rsquo: "",
                sbquo: "",
                ldquo: "",
                rdquo: "",
                bdquo: "",
                dagger: "",
                Dagger: "",
                bull: "",
                hellip: "",
                permil: "",
                prime: "",
                Prime: "",
                lsaquo: "",
                rsaquo: "",
                oline: "",
                euro: "",
                trade: "",
                larr: "",
                uarr: "",
                rarr: "",
                darr: "",
                harr: "",
                crarr: "",
                lceil: "",
                rceil: "",
                lfloor: "",
                rfloor: "",
                loz: "",
                spades: "",
                clubs: "",
                hearts: "",
                diams: ""
            }
        },
        ol = {},
        sl = /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
        ul = new RegExp("[\\-\\.0-9" + sl.source.slice(1, -1) + "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),
        ll = new RegExp("^" + sl.source + ul.source + "*(?::" + sl.source + ul.source + "*)?$");

    function cl(e, t) {
        this.message = e, this.locator = t, Error.captureStackTrace && Error.captureStackTrace(this, cl)
    }

    function dl() {}

    function hl(e, t) {
        return t.lineNumber = e.lineNumber, t.columnNumber = e.columnNumber, t
    }

    function pl(e, t, n, r, i, a) {
        function o(e, t, r) {
            e in n.attributeNames && a.fatalError("Attribute " + e + " redefined"), n.addValue(e, t, r)
        }
        for (var s, u = ++t, l = 0;;) {
            var c = e.charAt(u);
            switch (c) {
                case "=":
                    if (1 === l) s = e.slice(t, u), l = 3;
                    else {
                        if (2 !== l) throw new Error("attribute equal must after attrName");
                        l = 3
                    }
                    break;
                case "'":
                case '"':
                    if (3 === l || 1 === l) {
                        if (1 === l && (a.warning('attribute value must after "="'), s = e.slice(t, u)), t = u + 1, !((u = e.indexOf(c, t)) > 0)) throw new Error("attribute value no end '" + c + "' match");
                        o(s, d = e.slice(t, u).replace(/&#?\w+;/g, i), t - 1), l = 5
                    } else {
                        if (4 != l) throw new Error('attribute value must after "="');
                        o(s, d = e.slice(t, u).replace(/&#?\w+;/g, i), t), a.warning('attribute "' + s + '" missed start quot(' + c + ")!!"), t = u + 1, l = 5
                    }
                    break;
                case "/":
                    switch (l) {
                        case 0:
                            n.setTagName(e.slice(t, u));
                        case 5:
                        case 6:
                        case 7:
                            l = 7, n.closed = !0;
                        case 4:
                        case 1:
                        case 2:
                            break;
                        default:
                            throw new Error("attribute invalid close char('/')")
                    }
                    break;
                case "":
                    return a.error("unexpected end of input"), 0 == l && n.setTagName(e.slice(t, u)), u;
                case ">":
                    switch (l) {
                        case 0:
                            n.setTagName(e.slice(t, u));
                        case 5:
                        case 6:
                        case 7:
                            break;
                        case 4:
                        case 1:
                            "/" === (d = e.slice(t, u)).slice(-1) && (n.closed = !0, d = d.slice(0, -1));
                        case 2:
                            2 === l && (d = s), 4 == l ? (a.warning('attribute "' + d + '" missed quot(")!'), o(s, d.replace(/&#?\w+;/g, i), t)) : ("http://www.w3.org/1999/xhtml" === r[""] && d.match(/^(?:disabled|checked|selected)$/i) || a.warning('attribute "' + d + '" missed value!! "' + d + '" instead!!'), o(d, d, t));
                            break;
                        case 3:
                            throw new Error("attribute value missed!!")
                    }
                    return u;
                case "":
                    c = " ";
                default:
                    if (c <= " ") switch (l) {
                        case 0:
                            n.setTagName(e.slice(t, u)), l = 6;
                            break;
                        case 1:
                            s = e.slice(t, u), l = 2;
                            break;
                        case 4:
                            var d = e.slice(t, u).replace(/&#?\w+;/g, i);
                            a.warning('attribute "' + d + '" missed quot(")!!'), o(s, d, t);
                        case 5:
                            l = 6
                    } else switch (l) {
                        case 2:
                            n.tagName, "http://www.w3.org/1999/xhtml" === r[""] && s.match(/^(?:disabled|checked|selected)$/i) || a.warning('attribute "' + s + '" missed value!! "' + s + '" instead2!!'), o(s, s, t), t = u, l = 1;
                            break;
                        case 5:
                            a.warning('attribute space is required"' + s + '"!!');
                        case 6:
                            l = 1, t = u;
                            break;
                        case 3:
                            l = 4, t = u;
                            break;
                        case 7:
                            throw new Error("elements closed character '/' and '>' must be connected to")
                    }
            }
            u++
        }
    }

    function fl(e, t, n) {
        for (var r = e.tagName, i = null, a = e.length; a--;) {
            var o = e[a],
                s = o.qName,
                u = o.value;
            if ((h = s.indexOf(":")) > 0) var l = o.prefix = s.slice(0, h),
                c = s.slice(h + 1),
                d = "xmlns" === l && c;
            else c = s, l = null, d = "xmlns" === s && "";
            o.localName = c, !1 !== d && (null == i && (i = {}, yl(n, n = {})), n[d] = i[d] = u, o.uri = "http://www.w3.org/2000/xmlns/", t.startPrefixMapping(d, u))
        }
        for (a = e.length; a--;) {
            (l = (o = e[a]).prefix) && ("xml" === l && (o.uri = "http://www.w3.org/XML/1998/namespace"), "xmlns" !== l && (o.uri = n[l || ""]))
        }
        var h;
        (h = r.indexOf(":")) > 0 ? (l = e.prefix = r.slice(0, h), c = e.localName = r.slice(h + 1)) : (l = null, c = e.localName = r);
        var p = e.uri = n[l || ""];
        if (t.startElement(p, c, r, e), !e.closed) return e.currentNSMap = n, e.localNSMap = i, !0;
        if (t.endElement(p, c, r), i)
            for (l in i) t.endPrefixMapping(l)
    }

    function ml(e, t, n, r, i) {
        if (/^(?:script|textarea)$/i.test(n)) {
            var a = e.indexOf("</" + n + ">", t),
                o = e.substring(t + 1, a);
            if (/[&<]/.test(o)) return /^script$/i.test(n) ? (i.characters(o, 0, o.length), a) : (o = o.replace(/&#?\w+;/g, r), i.characters(o, 0, o.length), a)
        }
        return t + 1
    }

    function gl(e, t, n, r) {
        var i = r[n];
        return null == i && ((i = e.lastIndexOf("</" + n + ">")) < t && (i = e.lastIndexOf("</" + n)), r[n] = i), i < t
    }

    function yl(e, t) {
        for (var n in e) t[n] = e[n]
    }

    function vl(e, t, n, r) {
        switch (e.charAt(t + 2)) {
            case "-":
                return "-" === e.charAt(t + 3) ? (i = e.indexOf("--\x3e", t + 4)) > t ? (n.comment(e, t + 4, i - t - 4), i + 3) : (r.error("Unclosed comment"), -1) : -1;
            default:
                if ("CDATA[" == e.substr(t + 3, 6)) {
                    var i = e.indexOf("]]>", t + 9);
                    return n.startCDATA(), n.characters(e, t + 9, i - t - 9), n.endCDATA(), i + 3
                }
                var a = function(e, t) {
                        var n, r = [],
                            i = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                        i.lastIndex = t, i.exec(e);
                        for (; n = i.exec(e);)
                            if (r.push(n), n[1]) return r
                    }(e, t),
                    o = a.length;
                if (o > 1 && /!doctype/i.test(a[0][0])) {
                    var s = a[1][0],
                        u = !1,
                        l = !1;
                    o > 3 && (/^public$/i.test(a[2][0]) ? (u = a[3][0], l = o > 4 && a[4][0]) : /^system$/i.test(a[2][0]) && (l = a[3][0]));
                    var c = a[o - 1];
                    return n.startDTD(s, u, l), n.endDTD(), c.index + c[0].length
                }
        }
        return -1
    }

    function bl(e, t, n) {
        var r = e.indexOf("?>", t);
        if (r) {
            var i = e.substring(t, r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);
            return i ? (i[0].length, n.processingInstruction(i[1], i[2]), r + 2) : -1
        }
        return -1
    }

    function Tl() {
        this.attributeNames = {}
    }
    cl.prototype = new Error, cl.prototype.name = cl.name, dl.prototype = {
        parse: function(e, t, n) {
            var r = this.domBuilder;
            r.startDocument(), yl(t, t = {}),
                function(e, t, n, r, i) {
                    function a(e) {
                        if (e > 65535) {
                            var t = 55296 + ((e -= 65536) >> 10),
                                n = 56320 + (1023 & e);
                            return String.fromCharCode(t, n)
                        }
                        return String.fromCharCode(e)
                    }

                    function o(e) {
                        var t = e.slice(1, -1);
                        return t in n ? n[t] : "#" === t.charAt(0) ? a(parseInt(t.substr(1).replace("x", "0x"))) : (i.error("entity not found:" + e), e)
                    }

                    function s(t) {
                        if (t > m) {
                            var n = e.substring(m, t).replace(/&#?\w+;/g, o);
                            h && u(m), r.characters(n, 0, t - m), m = t
                        }
                    }

                    function u(t, n) {
                        for (; t >= c && (n = d.exec(e));) l = n.index, c = l + n[0].length, h.lineNumber++;
                        h.columnNumber = t - l + 1
                    }
                    var l = 0,
                        c = 0,
                        d = /.*(?:\r\n?|\n)|.*$/g,
                        h = r.locator,
                        p = [{
                            currentNSMap: t
                        }],
                        f = {},
                        m = 0;
                    for (;;) {
                        try {
                            var g = e.indexOf("<", m);
                            if (g < 0) {
                                if (!e.substr(m).match(/^\s*$/)) {
                                    var y = r.doc,
                                        v = y.createTextNode(e.substr(m));
                                    y.appendChild(v), r.currentElement = v
                                }
                                return
                            }
                            switch (g > m && s(g), e.charAt(g + 1)) {
                                case "/":
                                    var b = e.indexOf(">", g + 3),
                                        T = e.substring(g + 2, b),
                                        _ = p.pop();
                                    b < 0 ? (T = e.substring(g + 2).replace(/[\s<].*/, ""), i.error("end tag name: " + T + " is not complete:" + _.tagName), b = g + 1 + T.length) : T.match(/\s</) && (T = T.replace(/[\s<].*/, ""), i.error("end tag name: " + T + " maybe not complete"), b = g + 1 + T.length);
                                    var S = _.localNSMap,
                                        w = _.tagName == T;
                                    if (w || _.tagName && _.tagName.toLowerCase() == T.toLowerCase()) {
                                        if (r.endElement(_.uri, _.localName, T), S)
                                            for (var A in S) r.endPrefixMapping(A);
                                        w || i.fatalError("end tag name: " + T + " is not match the current start tagName:" + _.tagName)
                                    } else p.push(_);
                                    b++;
                                    break;
                                case "?":
                                    h && u(g), b = bl(e, g, r);
                                    break;
                                case "!":
                                    h && u(g), b = vl(e, g, r, i);
                                    break;
                                default:
                                    h && u(g);
                                    var E = new Tl,
                                        C = p[p.length - 1].currentNSMap,
                                        P = (b = pl(e, g, E, C, o, i), E.length);
                                    if (!E.closed && gl(e, b, E.tagName, f) && (E.closed = !0, n.nbsp || i.warning("unclosed xml attribute")), h && P) {
                                        for (var k = hl(h, {}), x = 0; x < P; x++) {
                                            var I = E[x];
                                            u(I.offset), I.locator = hl(h, {})
                                        }
                                        r.locator = k, fl(E, r, C) && p.push(E), r.locator = h
                                    } else fl(E, r, C) && p.push(E);
                                    "http://www.w3.org/1999/xhtml" !== E.uri || E.closed ? b++ : b = ml(e, b, E.tagName, o, r)
                            }
                        } catch (e) {
                            if (e instanceof cl) throw e;
                            i.error("element parse error: " + e), b = -1
                        }
                        b > m ? m = b : s(Math.max(g, m) + 1)
                    }
                }(e, t, n, r, this.errorHandler), r.endDocument()
        }
    }, Tl.prototype = {
        setTagName: function(e) {
            if (!ll.test(e)) throw new Error("invalid tagName:" + e);
            this.tagName = e
        },
        addValue: function(e, t, n) {
            if (!ll.test(e)) throw new Error("invalid attribute:" + e);
            this.attributeNames[e] = this.length, this[this.length++] = {
                qName: e,
                value: t,
                offset: n
            }
        },
        length: 0,
        getLocalName: function(e) {
            return this[e].localName
        },
        getLocator: function(e) {
            return this[e].locator
        },
        getQName: function(e) {
            return this[e].qName
        },
        getURI: function(e) {
            return this[e].uri
        },
        getValue: function(e) {
            return this[e].value
        }
    }, ol.XMLReader = dl, ol.ParseError = cl;
    var _l = {};

    function Sl(e, t) {
        for (var n in e) t[n] = e[n]
    }

    function wl(e, t) {
        var n = e.prototype;
        if (!(n instanceof t)) {
            function r() {}
            r.prototype = t.prototype, Sl(n, r = new r), e.prototype = n = r
        }
        n.constructor != e && ("function" != typeof e && console.error("unknow Class:" + e), n.constructor = e)
    }
    var Al = {},
        El = Al.ELEMENT_NODE = 1,
        Cl = Al.ATTRIBUTE_NODE = 2,
        Pl = Al.TEXT_NODE = 3,
        kl = Al.CDATA_SECTION_NODE = 4,
        xl = Al.ENTITY_REFERENCE_NODE = 5,
        Il = Al.ENTITY_NODE = 6,
        Ml = Al.PROCESSING_INSTRUCTION_NODE = 7,
        Ll = Al.COMMENT_NODE = 8,
        Dl = Al.DOCUMENT_NODE = 9,
        Ol = Al.DOCUMENT_TYPE_NODE = 10,
        Rl = Al.DOCUMENT_FRAGMENT_NODE = 11,
        Nl = Al.NOTATION_NODE = 12,
        Bl = {},
        Ul = {};
    Bl.INDEX_SIZE_ERR = (Ul[1] = "Index size error", 1), Bl.DOMSTRING_SIZE_ERR = (Ul[2] = "DOMString size error", 2);
    var Fl = Bl.HIERARCHY_REQUEST_ERR = (Ul[3] = "Hierarchy request error", 3);
    Bl.WRONG_DOCUMENT_ERR = (Ul[4] = "Wrong document", 4), Bl.INVALID_CHARACTER_ERR = (Ul[5] = "Invalid character", 5), Bl.NO_DATA_ALLOWED_ERR = (Ul[6] = "No data allowed", 6), Bl.NO_MODIFICATION_ALLOWED_ERR = (Ul[7] = "No modification allowed", 7);
    var jl = Bl.NOT_FOUND_ERR = (Ul[8] = "Not found", 8);
    Bl.NOT_SUPPORTED_ERR = (Ul[9] = "Not supported", 9);
    var Hl = Bl.INUSE_ATTRIBUTE_ERR = (Ul[10] = "Attribute in use", 10);

    function Gl(e, t) {
        if (t instanceof Error) var n = t;
        else n = this, Error.call(this, Ul[e]), this.message = Ul[e], Error.captureStackTrace && Error.captureStackTrace(this, Gl);
        return n.code = e, t && (this.message = this.message + ": " + t), n
    }

    function Vl() {}

    function Wl(e, t) {
        this._node = e, this._refresh = t, ql(this)
    }

    function ql(e) {
        var t = e._node._inc || e._node.ownerDocument._inc;
        if (e._inc != t) {
            var n = e._refresh(e._node);
            wc(e, "length", n.length), Sl(n, e), e._inc = t
        }
    }

    function zl() {}

    function Xl(e, t) {
        for (var n = e.length; n--;)
            if (e[n] === t) return n
    }

    function Kl(e, t, n, r) {
        if (r ? t[Xl(t, r)] = n : t[t.length++] = n, e) {
            n.ownerElement = e;
            var i = e.ownerDocument;
            i && (r && tc(i, e, r), function(e, t, n) {
                e && e._inc++, "http://www.w3.org/2000/xmlns/" == n.namespaceURI && (t._nsMap[n.prefix ? n.localName : ""] = n.value)
            }(i, e, n))
        }
    }

    function Yl(e, t, n) {
        var r = Xl(t, n);
        if (!(r >= 0)) throw Gl(jl, new Error(e.tagName + "@" + n));
        for (var i = t.length - 1; r < i;) t[r] = t[++r];
        if (t.length = i, e) {
            var a = e.ownerDocument;
            a && (tc(a, e, n), n.ownerElement = null)
        }
    }

    function Ql(e) {
        if (this._features = {}, e)
            for (var t in e) this._features = e[t]
    }

    function $l() {}

    function Jl(e) {
        return ("<" == e ? "&lt;" : ">" == e && "&gt;") || "&" == e && "&amp;" || '"' == e && "&quot;" || "&#" + e.charCodeAt() + ";"
    }

    function Zl(e, t) {
        if (t(e)) return !0;
        if (e = e.firstChild)
            do {
                if (Zl(e, t)) return !0
            } while (e = e.nextSibling)
    }

    function ec() {}

    function tc(e, t, n, r) {
        e && e._inc++, "http://www.w3.org/2000/xmlns/" == n.namespaceURI && delete t._nsMap[n.prefix ? n.localName : ""]
    }

    function nc(e, t, n) {
        if (e && e._inc) {
            e._inc++;
            var r = t.childNodes;
            if (n) r[r.length++] = n;
            else {
                for (var i = t.firstChild, a = 0; i;) r[a++] = i, i = i.nextSibling;
                r.length = a
            }
        }
    }

    function rc(e, t) {
        var n = t.previousSibling,
            r = t.nextSibling;
        return n ? n.nextSibling = r : e.firstChild = r, r ? r.previousSibling = n : e.lastChild = n, nc(e.ownerDocument, e), t
    }

    function ic(e, t, n) {
        var r = t.parentNode;
        if (r && r.removeChild(t), t.nodeType === Rl) {
            var i = t.firstChild;
            if (null == i) return t;
            var a = t.lastChild
        } else i = a = t;
        var o = n ? n.previousSibling : e.lastChild;
        i.previousSibling = o, a.nextSibling = n, o ? o.nextSibling = i : e.firstChild = i, null == n ? e.lastChild = a : n.previousSibling = a;
        do {
            i.parentNode = e
        } while (i !== a && (i = i.nextSibling));
        return nc(e.ownerDocument || e, e), t.nodeType == Rl && (t.firstChild = t.lastChild = null), t
    }

    function ac() {
        this._nsMap = {}
    }

    function oc() {}

    function sc() {}

    function uc() {}

    function lc() {}

    function cc() {}

    function dc() {}

    function hc() {}

    function pc() {}

    function fc() {}

    function mc() {}

    function gc() {}

    function yc() {}

    function vc(e, t) {
        var n = [],
            r = 9 == this.nodeType && this.documentElement || this,
            i = r.prefix,
            a = r.namespaceURI;
        if (a && null == i && null == (i = r.lookupPrefix(a))) var o = [{
            namespace: a,
            prefix: null
        }];
        return Tc(this, n, e, t, o), n.join("")
    }

    function bc(e, t, n) {
        var r = e.prefix || "",
            i = e.namespaceURI;
        if (!r && !i) return !1;
        if ("xml" === r && "http://www.w3.org/XML/1998/namespace" === i || "http://www.w3.org/2000/xmlns/" == i) return !1;
        for (var a = n.length; a--;) {
            var o = n[a];
            if (o.prefix == r) return o.namespace != i
        }
        return !0
    }

    function Tc(e, t, n, r, i) {
        if (r) {
            if (!(e = r(e))) return;
            if ("string" == typeof e) return void t.push(e)
        }
        switch (e.nodeType) {
            case El:
                i || (i = []), i.length;
                var a = e.attributes,
                    o = a.length,
                    s = e.firstChild,
                    u = e.tagName;
                n = "http://www.w3.org/1999/xhtml" === e.namespaceURI || n, t.push("<", u);
                for (var l = 0; l < o; l++) {
                    "xmlns" == (c = a.item(l)).prefix ? i.push({
                        prefix: c.localName,
                        namespace: c.value
                    }) : "xmlns" == c.nodeName && i.push({
                        prefix: "",
                        namespace: c.value
                    })
                }
                for (l = 0; l < o; l++) {
                    var c;
                    if (bc(c = a.item(l), 0, i)) {
                        var d = c.prefix || "",
                            h = c.namespaceURI,
                            p = d ? " xmlns:" + d : " xmlns";
                        t.push(p, '="', h, '"'), i.push({
                            prefix: d,
                            namespace: h
                        })
                    }
                    Tc(c, t, n, r, i)
                }
                if (bc(e, 0, i)) {
                    d = e.prefix || "", h = e.namespaceURI, p = d ? " xmlns:" + d : " xmlns";
                    t.push(p, '="', h, '"'), i.push({
                        prefix: d,
                        namespace: h
                    })
                }
                if (s || n && !/^(?:meta|link|img|br|hr|input)$/i.test(u)) {
                    if (t.push(">"), n && /^script$/i.test(u))
                        for (; s;) s.data ? t.push(s.data) : Tc(s, t, n, r, i), s = s.nextSibling;
                    else
                        for (; s;) Tc(s, t, n, r, i), s = s.nextSibling;
                    t.push("</", u, ">")
                } else t.push("/>");
                return;
            case Dl:
            case Rl:
                for (s = e.firstChild; s;) Tc(s, t, n, r, i), s = s.nextSibling;
                return;
            case Cl:
                return t.push(" ", e.name, '="', e.value.replace(/[&"]/g, Jl), '"');
            case Pl:
                return t.push(e.data.replace(/[<&]/g, Jl).replace(/]]>/g, "]]&gt;"));
            case kl:
                return t.push("<![CDATA[", e.data, "]]>");
            case Ll:
                return t.push("\x3c!--", e.data, "--\x3e");
            case Ol:
                var f = e.publicId,
                    m = e.systemId;
                if (t.push("<!DOCTYPE ", e.name), f) t.push(" PUBLIC ", f), m && "." != m && t.push(" ", m), t.push(">");
                else if (m && "." != m) t.push(" SYSTEM ", m, ">");
                else {
                    var g = e.internalSubset;
                    g && t.push(" [", g, "]"), t.push(">")
                }
                return;
            case Ml:
                return t.push("<?", e.target, " ", e.data, "?>");
            case xl:
                return t.push("&", e.nodeName, ";");
            default:
                t.push("??", e.nodeName)
        }
    }

    function _c(e, t, n) {
        var r;
        switch (t.nodeType) {
            case El:
                (r = t.cloneNode(!1)).ownerDocument = e;
            case Rl:
                break;
            case Cl:
                n = !0
        }
        if (r || (r = t.cloneNode(!1)), r.ownerDocument = e, r.parentNode = null, n)
            for (var i = t.firstChild; i;) r.appendChild(_c(e, i, n)), i = i.nextSibling;
        return r
    }

    function Sc(e, t, n) {
        var r = new t.constructor;
        for (var i in t) {
            var a = t[i];
            "object" != typeof a && a != r[i] && (r[i] = a)
        }
        switch (t.childNodes && (r.childNodes = new Vl), r.ownerDocument = e, r.nodeType) {
            case El:
                var o = t.attributes,
                    s = r.attributes = new zl,
                    u = o.length;
                s._ownerElement = r;
                for (var l = 0; l < u; l++) r.setAttributeNode(Sc(e, o.item(l), !0));
                break;
            case Cl:
                n = !0
        }
        if (n)
            for (var c = t.firstChild; c;) r.appendChild(Sc(e, c, n)), c = c.nextSibling;
        return r
    }

    function wc(e, t, n) {
        e[t] = n
    }
    Bl.INVALID_STATE_ERR = (Ul[11] = "Invalid state", 11), Bl.SYNTAX_ERR = (Ul[12] = "Syntax error", 12), Bl.INVALID_MODIFICATION_ERR = (Ul[13] = "Invalid modification", 13), Bl.NAMESPACE_ERR = (Ul[14] = "Invalid namespace", 14), Bl.INVALID_ACCESS_ERR = (Ul[15] = "Invalid access", 15), Gl.prototype = Error.prototype, Sl(Bl, Gl), Vl.prototype = {
        length: 0,
        item: function(e) {
            return this[e] || null
        },
        toString: function(e, t) {
            for (var n = [], r = 0; r < this.length; r++) Tc(this[r], n, e, t);
            return n.join("")
        }
    }, Wl.prototype.item = function(e) {
        return ql(this), this[e]
    }, wl(Wl, Vl), zl.prototype = {
        length: 0,
        item: Vl.prototype.item,
        getNamedItem: function(e) {
            for (var t = this.length; t--;) {
                var n = this[t];
                if (n.nodeName == e) return n
            }
        },
        setNamedItem: function(e) {
            var t = e.ownerElement;
            if (t && t != this._ownerElement) throw new Gl(Hl);
            var n = this.getNamedItem(e.nodeName);
            return Kl(this._ownerElement, this, e, n), n
        },
        setNamedItemNS: function(e) {
            var t, n = e.ownerElement;
            if (n && n != this._ownerElement) throw new Gl(Hl);
            return t = this.getNamedItemNS(e.namespaceURI, e.localName), Kl(this._ownerElement, this, e, t), t
        },
        removeNamedItem: function(e) {
            var t = this.getNamedItem(e);
            return Yl(this._ownerElement, this, t), t
        },
        removeNamedItemNS: function(e, t) {
            var n = this.getNamedItemNS(e, t);
            return Yl(this._ownerElement, this, n), n
        },
        getNamedItemNS: function(e, t) {
            for (var n = this.length; n--;) {
                var r = this[n];
                if (r.localName == t && r.namespaceURI == e) return r
            }
            return null
        }
    }, Ql.prototype = {
        hasFeature: function(e, t) {
            var n = this._features[e.toLowerCase()];
            return !(!n || t && !(t in n))
        },
        createDocument: function(e, t, n) {
            var r = new ec;
            if (r.implementation = this, r.childNodes = new Vl, r.doctype = n, n && r.appendChild(n), t) {
                var i = r.createElementNS(e, t);
                r.appendChild(i)
            }
            return r
        },
        createDocumentType: function(e, t, n) {
            var r = new dc;
            return r.name = e, r.nodeName = e, r.publicId = t, r.systemId = n, r
        }
    }, $l.prototype = {
        firstChild: null,
        lastChild: null,
        previousSibling: null,
        nextSibling: null,
        attributes: null,
        parentNode: null,
        childNodes: null,
        ownerDocument: null,
        nodeValue: null,
        namespaceURI: null,
        prefix: null,
        localName: null,
        insertBefore: function(e, t) {
            return ic(this, e, t)
        },
        replaceChild: function(e, t) {
            this.insertBefore(e, t), t && this.removeChild(t)
        },
        removeChild: function(e) {
            return rc(this, e)
        },
        appendChild: function(e) {
            return this.insertBefore(e, null)
        },
        hasChildNodes: function() {
            return null != this.firstChild
        },
        cloneNode: function(e) {
            return Sc(this.ownerDocument || this, this, e)
        },
        normalize: function() {
            for (var e = this.firstChild; e;) {
                var t = e.nextSibling;
                t && t.nodeType == Pl && e.nodeType == Pl ? (this.removeChild(t), e.appendData(t.data)) : (e.normalize(), e = t)
            }
        },
        isSupported: function(e, t) {
            return this.ownerDocument.implementation.hasFeature(e, t)
        },
        hasAttributes: function() {
            return this.attributes.length > 0
        },
        lookupPrefix: function(e) {
            for (var t = this; t;) {
                var n = t._nsMap;
                if (n)
                    for (var r in n)
                        if (n[r] == e) return r;
                t = t.nodeType == Cl ? t.ownerDocument : t.parentNode
            }
            return null
        },
        lookupNamespaceURI: function(e) {
            for (var t = this; t;) {
                var n = t._nsMap;
                if (n && e in n) return n[e];
                t = t.nodeType == Cl ? t.ownerDocument : t.parentNode
            }
            return null
        },
        isDefaultNamespace: function(e) {
            return null == this.lookupPrefix(e)
        }
    }, Sl(Al, $l), Sl(Al, $l.prototype), ec.prototype = {
        nodeName: "#document",
        nodeType: Dl,
        doctype: null,
        documentElement: null,
        _inc: 1,
        insertBefore: function(e, t) {
            if (e.nodeType == Rl) {
                for (var n = e.firstChild; n;) {
                    var r = n.nextSibling;
                    this.insertBefore(n, t), n = r
                }
                return e
            }
            return null == this.documentElement && e.nodeType == El && (this.documentElement = e), ic(this, e, t), e.ownerDocument = this, e
        },
        removeChild: function(e) {
            return this.documentElement == e && (this.documentElement = null), rc(this, e)
        },
        importNode: function(e, t) {
            return _c(this, e, t)
        },
        getElementById: function(e) {
            var t = null;
            return Zl(this.documentElement, (function(n) {
                if (n.nodeType == El && n.getAttribute("id") == e) return t = n, !0
            })), t
        },
        getElementsByClassName: function(e) {
            var t = new RegExp("(^|\\s)" + e + "(\\s|$)");
            return new Wl(this, (function(e) {
                var n = [];
                return Zl(e.documentElement, (function(r) {
                    r !== e && r.nodeType == El && t.test(r.getAttribute("class")) && n.push(r)
                })), n
            }))
        },
        createElement: function(e) {
            var t = new ac;
            return t.ownerDocument = this, t.nodeName = e, t.tagName = e, t.childNodes = new Vl, (t.attributes = new zl)._ownerElement = t, t
        },
        createDocumentFragment: function() {
            var e = new mc;
            return e.ownerDocument = this, e.childNodes = new Vl, e
        },
        createTextNode: function(e) {
            var t = new uc;
            return t.ownerDocument = this, t.appendData(e), t
        },
        createComment: function(e) {
            var t = new lc;
            return t.ownerDocument = this, t.appendData(e), t
        },
        createCDATASection: function(e) {
            var t = new cc;
            return t.ownerDocument = this, t.appendData(e), t
        },
        createProcessingInstruction: function(e, t) {
            var n = new gc;
            return n.ownerDocument = this, n.tagName = n.target = e, n.nodeValue = n.data = t, n
        },
        createAttribute: function(e) {
            var t = new oc;
            return t.ownerDocument = this, t.name = e, t.nodeName = e, t.localName = e, t.specified = !0, t
        },
        createEntityReference: function(e) {
            var t = new fc;
            return t.ownerDocument = this, t.nodeName = e, t
        },
        createElementNS: function(e, t) {
            var n = new ac,
                r = t.split(":"),
                i = n.attributes = new zl;
            return n.childNodes = new Vl, n.ownerDocument = this, n.nodeName = t, n.tagName = t, n.namespaceURI = e, 2 == r.length ? (n.prefix = r[0], n.localName = r[1]) : n.localName = t, i._ownerElement = n, n
        },
        createAttributeNS: function(e, t) {
            var n = new oc,
                r = t.split(":");
            return n.ownerDocument = this, n.nodeName = t, n.name = t, n.namespaceURI = e, n.specified = !0, 2 == r.length ? (n.prefix = r[0], n.localName = r[1]) : n.localName = t, n
        }
    }, wl(ec, $l), ac.prototype = {
        nodeType: El,
        hasAttribute: function(e) {
            return null != this.getAttributeNode(e)
        },
        getAttribute: function(e) {
            var t = this.getAttributeNode(e);
            return t && t.value || ""
        },
        getAttributeNode: function(e) {
            return this.attributes.getNamedItem(e)
        },
        setAttribute: function(e, t) {
            var n = this.ownerDocument.createAttribute(e);
            n.value = n.nodeValue = "" + t, this.setAttributeNode(n)
        },
        removeAttribute: function(e) {
            var t = this.getAttributeNode(e);
            t && this.removeAttributeNode(t)
        },
        appendChild: function(e) {
            return e.nodeType === Rl ? this.insertBefore(e, null) : function(e, t) {
                var n = t.parentNode;
                if (n) {
                    var r = e.lastChild;
                    n.removeChild(t), r = e.lastChild
                }
                return r = e.lastChild, t.parentNode = e, t.previousSibling = r, t.nextSibling = null, r ? r.nextSibling = t : e.firstChild = t, e.lastChild = t, nc(e.ownerDocument, e, t), t
            }(this, e)
        },
        setAttributeNode: function(e) {
            return this.attributes.setNamedItem(e)
        },
        setAttributeNodeNS: function(e) {
            return this.attributes.setNamedItemNS(e)
        },
        removeAttributeNode: function(e) {
            return this.attributes.removeNamedItem(e.nodeName)
        },
        removeAttributeNS: function(e, t) {
            var n = this.getAttributeNodeNS(e, t);
            n && this.removeAttributeNode(n)
        },
        hasAttributeNS: function(e, t) {
            return null != this.getAttributeNodeNS(e, t)
        },
        getAttributeNS: function(e, t) {
            var n = this.getAttributeNodeNS(e, t);
            return n && n.value || ""
        },
        setAttributeNS: function(e, t, n) {
            var r = this.ownerDocument.createAttributeNS(e, t);
            r.value = r.nodeValue = "" + n, this.setAttributeNode(r)
        },
        getAttributeNodeNS: function(e, t) {
            return this.attributes.getNamedItemNS(e, t)
        },
        getElementsByTagName: function(e) {
            return new Wl(this, (function(t) {
                var n = [];
                return Zl(t, (function(r) {
                    r === t || r.nodeType != El || "*" !== e && r.tagName != e || n.push(r)
                })), n
            }))
        },
        getElementsByTagNameNS: function(e, t) {
            return new Wl(this, (function(n) {
                var r = [];
                return Zl(n, (function(i) {
                    i === n || i.nodeType !== El || "*" !== e && i.namespaceURI !== e || "*" !== t && i.localName != t || r.push(i)
                })), r
            }))
        }
    }, ec.prototype.getElementsByTagName = ac.prototype.getElementsByTagName, ec.prototype.getElementsByTagNameNS = ac.prototype.getElementsByTagNameNS, wl(ac, $l), oc.prototype.nodeType = Cl, wl(oc, $l), sc.prototype = {
        data: "",
        substringData: function(e, t) {
            return this.data.substring(e, e + t)
        },
        appendData: function(e) {
            e = this.data + e, this.nodeValue = this.data = e, this.length = e.length
        },
        insertData: function(e, t) {
            this.replaceData(e, 0, t)
        },
        appendChild: function(e) {
            throw new Error(Ul[Fl])
        },
        deleteData: function(e, t) {
            this.replaceData(e, t, "")
        },
        replaceData: function(e, t, n) {
            n = this.data.substring(0, e) + n + this.data.substring(e + t), this.nodeValue = this.data = n, this.length = n.length
        }
    }, wl(sc, $l), uc.prototype = {
        nodeName: "#text",
        nodeType: Pl,
        splitText: function(e) {
            var t = this.data,
                n = t.substring(e);
            t = t.substring(0, e), this.data = this.nodeValue = t, this.length = t.length;
            var r = this.ownerDocument.createTextNode(n);
            return this.parentNode && this.parentNode.insertBefore(r, this.nextSibling), r
        }
    }, wl(uc, sc), lc.prototype = {
        nodeName: "#comment",
        nodeType: Ll
    }, wl(lc, sc), cc.prototype = {
        nodeName: "#cdata-section",
        nodeType: kl
    }, wl(cc, sc), dc.prototype.nodeType = Ol, wl(dc, $l), hc.prototype.nodeType = Nl, wl(hc, $l), pc.prototype.nodeType = Il, wl(pc, $l), fc.prototype.nodeType = xl, wl(fc, $l), mc.prototype.nodeName = "#document-fragment", mc.prototype.nodeType = Rl, wl(mc, $l), gc.prototype.nodeType = Ml, wl(gc, $l), yc.prototype.serializeToString = function(e, t, n) {
        return vc.call(e, t, n)
    }, $l.prototype.toString = vc;
    try {
        if (Object.defineProperty) {
            function e(t) {
                switch (t.nodeType) {
                    case El:
                    case Rl:
                        var n = [];
                        for (t = t.firstChild; t;) 7 !== t.nodeType && 8 !== t.nodeType && n.push(e(t)), t = t.nextSibling;
                        return n.join("");
                    default:
                        return t.nodeValue
                }
            }
            Object.defineProperty(Wl.prototype, "length", {
                get: function() {
                    return ql(this), this.$$length
                }
            }), Object.defineProperty($l.prototype, "textContent", {
                get: function() {
                    return e(this)
                },
                set: function(e) {
                    switch (this.nodeType) {
                        case El:
                        case Rl:
                            for (; this.firstChild;) this.removeChild(this.firstChild);
                            (e || String(e)) && this.appendChild(this.ownerDocument.createTextNode(e));
                            break;
                        default:
                            this.data = e, this.value = e, this.nodeValue = e
                    }
                }
            }), wc = function(e, t, n) {
                e["$$" + t] = n
            }
        }
    } catch (e) {}

    function Ac(e) {
        this.options = e || {
            locator: {}
        }
    }

    function Ec() {
        this.cdata = !1
    }

    function Cc(e, t) {
        t.lineNumber = e.lineNumber, t.columnNumber = e.columnNumber
    }

    function Pc(e) {
        if (e) return "\n@" + (e.systemId || "") + "#[line:" + e.lineNumber + ",col:" + e.columnNumber + "]"
    }

    function kc(e, t, n) {
        return "string" == typeof e ? e.substr(t, n) : e.length >= t + n || t ? new java.lang.String(e, t, n) + "" : e
    }

    function xc(e, t) {
        e.currentElement ? e.currentElement.appendChild(t) : e.doc.appendChild(t)
    }
    _l.Node = $l, _l.DOMException = Gl, _l.DOMImplementation = Ql, _l.XMLSerializer = yc, Ac.prototype.parseFromString = function(e, t) {
        var n = this.options,
            r = new Lc,
            i = n.domBuilder || new Ec,
            a = n.errorHandler,
            o = n.locator,
            s = n.xmlns || {},
            u = /\/x?html?$/.test(t),
            l = u ? Ic.entityMap : {
                lt: "<",
                gt: ">",
                amp: "&",
                quot: '"',
                apos: "'"
            };
        return o && i.setDocumentLocator(o), r.errorHandler = function(e, t, n) {
            if (!e) {
                if (t instanceof Ec) return t;
                e = t
            }
            var r = {},
                i = e instanceof Function;

            function a(t) {
                var a = e[t];
                !a && i && (a = 2 == e.length ? function(n) {
                    e(t, n)
                } : e), r[t] = a && function(e) {
                    a("[xmldom " + t + "]\t" + e + Pc(n))
                } || function() {}
            }
            return n = n || {}, a("warning"), a("error"), a("fatalError"), r
        }(a, i, o), r.domBuilder = n.domBuilder || i, u && (s[""] = "http://www.w3.org/1999/xhtml"), s.xml = s.xml || "http://www.w3.org/XML/1998/namespace", e && "string" == typeof e ? r.parse(e, s, l) : r.errorHandler.error("invalid doc source"), i.doc
    }, Ec.prototype = {
        startDocument: function() {
            this.doc = (new Oc).createDocument(null, null, null), this.locator && (this.doc.documentURI = this.locator.systemId)
        },
        startElement: function(e, t, n, r) {
            var i = this.doc,
                a = i.createElementNS(e, n || t),
                o = r.length;
            xc(this, a), this.currentElement = a, this.locator && Cc(this.locator, a);
            for (var s = 0; s < o; s++) {
                e = r.getURI(s);
                var u = r.getValue(s),
                    l = (n = r.getQName(s), i.createAttributeNS(e, n));
                this.locator && Cc(r.getLocator(s), l), l.value = l.nodeValue = u, a.setAttributeNode(l)
            }
        },
        endElement: function(e, t, n) {
            var r = this.currentElement;
            r.tagName, this.currentElement = r.parentNode
        },
        startPrefixMapping: function(e, t) {},
        endPrefixMapping: function(e) {},
        processingInstruction: function(e, t) {
            var n = this.doc.createProcessingInstruction(e, t);
            this.locator && Cc(this.locator, n), xc(this, n)
        },
        ignorableWhitespace: function(e, t, n) {},
        characters: function(e, t, n) {
            if (e = kc.apply(this, arguments)) {
                if (this.cdata) var r = this.doc.createCDATASection(e);
                else r = this.doc.createTextNode(e);
                this.currentElement ? this.currentElement.appendChild(r) : /^\s*$/.test(e) && this.doc.appendChild(r), this.locator && Cc(this.locator, r)
            }
        },
        skippedEntity: function(e) {},
        endDocument: function() {
            this.doc.normalize()
        },
        setDocumentLocator: function(e) {
            (this.locator = e) && (e.lineNumber = 0)
        },
        comment: function(e, t, n) {
            e = kc.apply(this, arguments);
            var r = this.doc.createComment(e);
            this.locator && Cc(this.locator, r), xc(this, r)
        },
        startCDATA: function() {
            this.cdata = !0
        },
        endCDATA: function() {
            this.cdata = !1
        },
        startDTD: function(e, t, n) {
            var r = this.doc.implementation;
            if (r && r.createDocumentType) {
                var i = r.createDocumentType(e, t, n);
                this.locator && Cc(this.locator, i), xc(this, i)
            }
        },
        warning: function(e) {
            console.warn("[xmldom warning]\t" + e, Pc(this.locator))
        },
        error: function(e) {
            console.error("[xmldom error]\t" + e, Pc(this.locator))
        },
        fatalError: function(e) {
            throw new Dc(e, this.locator)
        }
    }, "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g, (function(e) {
        Ec.prototype[e] = function() {
            return null
        }
    }));
    var Ic = al,
        Mc = ol,
        Lc = Mc.XMLReader,
        Dc = Mc.ParseError,
        Oc = _l.DOMImplementation,
        Rc = Ac,
        Nc = function(e) {
            return !!e && "object" == typeof e
        },
        Bc = function e() {
            for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
            return n.reduce((function(t, n) {
                return "object" != typeof n || Object.keys(n).forEach((function(r) {
                    Array.isArray(t[r]) && Array.isArray(n[r]) ? t[r] = t[r].concat(n[r]) : Nc(t[r]) && Nc(n[r]) ? t[r] = e(t[r], n[r]) : t[r] = n[r]
                })), t
            }), {})
        },
        Uc = function(e) {
            return e.reduce((function(e, t) {
                return e.concat(t)
            }), [])
        },
        Fc = function(e) {
            if (!e.length) return [];
            for (var t = [], n = 0; n < e.length; n++) t.push(e[n]);
            return t
        },
        jc = "INVALID_NUMBER_OF_PERIOD",
        Hc = "DASH_EMPTY_MANIFEST",
        Gc = "DASH_INVALID_XML",
        Vc = "NO_BASE_URL",
        Wc = "SEGMENT_TIME_UNSPECIFIED",
        qc = "UNSUPPORTED_UTC_TIMING_SCHEME",
        zc = function(e) {
            var t = e.baseUrl,
                n = void 0 === t ? "" : t,
                r = e.source,
                i = void 0 === r ? "" : r,
                a = e.range,
                o = void 0 === a ? "" : a,
                s = e.indexRange,
                u = void 0 === s ? "" : s,
                l = {
                    uri: i,
                    resolvedUri: Ru(n || "", i)
                };
            if (o || u) {
                var c = (o || u).split("-"),
                    d = parseInt(c[0], 10),
                    h = parseInt(c[1], 10);
                l.byterange = {
                    length: h - d + 1,
                    offset: d
                }
            }
            return l
        },
        Xc = function(e) {
            return e && "number" != typeof e && (e = parseInt(e, 10)), isNaN(e) ? null : e
        },
        Kc = {
            static: function(e) {
                var t = e.duration,
                    n = e.timescale,
                    r = void 0 === n ? 1 : n,
                    i = e.sourceDuration,
                    a = Xc(e.endNumber);
                return {
                    start: 0,
                    end: "number" == typeof a ? a : Math.ceil(i / (t / r))
                }
            },
            dynamic: function(e) {
                var t = e.NOW,
                    n = e.clientOffset,
                    r = e.availabilityStartTime,
                    i = e.timescale,
                    a = void 0 === i ? 1 : i,
                    o = e.duration,
                    s = e.start,
                    u = void 0 === s ? 0 : s,
                    l = e.minimumUpdatePeriod,
                    c = void 0 === l ? 0 : l,
                    d = e.timeShiftBufferDepth,
                    h = void 0 === d ? 1 / 0 : d,
                    p = Xc(e.endNumber),
                    f = (t + n) / 1e3,
                    m = r + u,
                    g = f + c - m,
                    y = Math.ceil(g * a / o),
                    v = Math.floor((f - m - h) * a / o),
                    b = Math.floor((f - m) * a / o);
                return {
                    start: Math.max(0, v),
                    end: "number" == typeof p ? p : Math.min(y, b)
                }
            }
        },
        Yc = function(e) {
            var t = e.type,
                n = void 0 === t ? "static" : t,
                r = e.duration,
                i = e.timescale,
                a = void 0 === i ? 1 : i,
                o = e.sourceDuration,
                s = Kc[n](e),
                u = function(e, t) {
                    for (var n = [], r = e; r < t; r++) n.push(r);
                    return n
                }(s.start, s.end).map(function(e) {
                    return function(t, n) {
                        var r = e.duration,
                            i = e.timescale,
                            a = void 0 === i ? 1 : i,
                            o = e.periodIndex,
                            s = e.startNumber;
                        return {
                            number: (void 0 === s ? 1 : s) + t,
                            duration: r / a,
                            timeline: o,
                            time: n * r
                        }
                    }
                }(e));
            if ("static" === n) {
                var l = u.length - 1;
                u[l].duration = o - r / a * l
            }
            return u
        },
        Qc = function(e) {
            var t = e.baseUrl,
                n = e.initialization,
                r = void 0 === n ? {} : n,
                i = e.sourceDuration,
                a = e.indexRange,
                o = void 0 === a ? "" : a,
                s = e.duration;
            if (!t) throw new Error(Vc);
            var u = zc({
                    baseUrl: t,
                    source: r.sourceURL,
                    range: r.range
                }),
                l = zc({
                    baseUrl: t,
                    source: t,
                    indexRange: o
                });
            if (l.map = u, s) {
                var c = Yc(e);
                c.length && (l.duration = c[0].duration, l.timeline = c[0].timeline)
            } else i && (l.duration = i, l.timeline = 0);
            return l.number = 0, [l]
        },
        $c = function(e, t, n) {
            for (var r = e.sidx.map ? e.sidx.map : null, i = e.sidx.duration, a = e.timeline || 0, o = e.sidx.byterange, s = o.offset + o.length, u = t.timescale, l = t.references.filter((function(e) {
                    return 1 !== e.referenceType
                })), c = [], d = s + t.firstOffset, h = 0; h < l.length; h++) {
                var p = t.references[h],
                    f = p.referencedSize,
                    m = p.subsegmentDuration,
                    g = Qc({
                        baseUrl: n,
                        timescale: u,
                        timeline: a,
                        periodIndex: a,
                        duration: m,
                        sourceDuration: i,
                        indexRange: d + "-" + (d + f - 1)
                    })[0];
                r && (g.map = r), c.push(g), d += f
            }
            return e.segments = c, e
        },
        Jc = function(e) {
            return e && e.uri + "-" + (t = e.byterange, n = t.offset + t.length - 1, t.offset + "-" + n);
            var t, n
        },
        Zc = function(e) {
            var t;
            return (t = e.reduce((function(e, t) {
                var n, r = t.attributes.id + (t.attributes.lang || "");
                return e[r] ? (t.segments[0] && (t.segments[0].discontinuity = !0), (n = e[r].segments).push.apply(n, t.segments), t.attributes.contentProtection && (e[r].attributes.contentProtection = t.attributes.contentProtection)) : e[r] = t, e
            }), {}), Object.keys(t).map((function(e) {
                return t[e]
            }))).map((function(e) {
                return e.discontinuityStarts = function(e, t) {
                    return e.reduce((function(e, n, r) {
                        return n[t] && e.push(r), e
                    }), [])
                }(e.segments, "discontinuity"), e
            }))
        },
        ed = function(e, t) {
            var n = Jc(e.sidx),
                r = n && t[n] && t[n].sidx;
            return r && $c(e, r, e.sidx.resolvedUri), e
        },
        td = function(e, t) {
            if (void 0 === t && (t = {}), !Object.keys(t).length) return e;
            for (var n in e) e[n] = ed(e[n], t);
            return e
        },
        nd = function(e) {
            var t, n = e.attributes,
                r = e.segments,
                i = e.sidx,
                a = {
                    attributes: (t = {
                        NAME: n.id,
                        AUDIO: "audio",
                        SUBTITLES: "subs",
                        RESOLUTION: {
                            width: n.width,
                            height: n.height
                        },
                        CODECS: n.codecs,
                        BANDWIDTH: n.bandwidth
                    }, t["PROGRAM-ID"] = 1, t),
                    uri: "",
                    endList: "static" === (n.type || "static"),
                    timeline: n.periodIndex,
                    resolvedUri: "",
                    targetDuration: n.duration,
                    segments: r,
                    mediaSequence: r.length ? r[0].number : 1
                };
            return n.contentProtection && (a.contentProtection = n.contentProtection), i && (a.sidx = i), a
        },
        rd = function(e) {
            var t = e.attributes;
            return "video/mp4" === t.mimeType || "video/webm" === t.mimeType || "video" === t.contentType
        },
        id = function(e) {
            var t = e.attributes;
            return "audio/mp4" === t.mimeType || "audio/webm" === t.mimeType || "audio" === t.contentType
        },
        ad = function(e) {
            var t = e.attributes;
            return "text/vtt" === t.mimeType || "text" === t.contentType
        },
        od = function(e, t, n) {
            var r;
            if (void 0 === n && (n = {}), !e.length) return {};
            var i = e[0].attributes,
                a = i.sourceDuration,
                o = i.type,
                s = void 0 === o ? "static" : o,
                u = i.suggestedPresentationDelay,
                l = i.minimumUpdatePeriod,
                c = Zc(e.filter(rd)).map(nd),
                d = Zc(e.filter(id)),
                h = e.filter(ad),
                p = e.map((function(e) {
                    return e.attributes.captionServices
                })).filter(Boolean),
                f = {
                    allowCache: !0,
                    discontinuityStarts: [],
                    segments: [],
                    endList: !0,
                    mediaGroups: (r = {
                        AUDIO: {},
                        VIDEO: {}
                    }, r["CLOSED-CAPTIONS"] = {}, r.SUBTITLES = {}, r),
                    uri: "",
                    duration: a,
                    playlists: td(c, n)
                };
            l >= 0 && (f.minimumUpdatePeriod = 1e3 * l), t && (f.locations = t), "dynamic" === s && (f.suggestedPresentationDelay = u);
            var m = 0 === f.playlists.length;
            return d.length && (f.mediaGroups.AUDIO.audio = function(e, t, n) {
                var r;
                void 0 === t && (t = {}), void 0 === n && (n = !1);
                var i = e.reduce((function(e, i) {
                    var a = i.attributes.role && i.attributes.role.value || "",
                        o = i.attributes.lang || "",
                        s = i.attributes.label || "main";
                    if (o && !i.attributes.label) {
                        var u = a ? " (" + a + ")" : "";
                        s = "" + i.attributes.lang + u
                    }
                    e[s] || (e[s] = {
                        language: o,
                        autoselect: !0,
                        default: "main" === a,
                        playlists: [],
                        uri: ""
                    });
                    var l = ed(function(e, t) {
                        var n, r = e.attributes,
                            i = e.segments,
                            a = e.sidx,
                            o = {
                                attributes: (n = {
                                    NAME: r.id,
                                    BANDWIDTH: r.bandwidth,
                                    CODECS: r.codecs
                                }, n["PROGRAM-ID"] = 1, n),
                                uri: "",
                                endList: "static" === (r.type || "static"),
                                timeline: r.periodIndex,
                                resolvedUri: "",
                                targetDuration: r.duration,
                                segments: i,
                                mediaSequence: i.length ? i[0].number : 1
                            };
                        return r.contentProtection && (o.contentProtection = r.contentProtection), a && (o.sidx = a), t && (o.attributes.AUDIO = "audio", o.attributes.SUBTITLES = "subs"), o
                    }(i, n), t);
                    return e[s].playlists.push(l), void 0 === r && "main" === a && ((r = i).default = !0), e
                }), {});
                return r || (i[Object.keys(i)[0]].default = !0), i
            }(d, n, m)), h.length && (f.mediaGroups.SUBTITLES.subs = function(e, t) {
                return void 0 === t && (t = {}), e.reduce((function(e, n) {
                    var r = n.attributes.lang || "text";
                    return e[r] || (e[r] = {
                        language: r,
                        default: !1,
                        autoselect: !1,
                        playlists: [],
                        uri: ""
                    }), e[r].playlists.push(ed(function(e) {
                        var t, n = e.attributes,
                            r = e.segments;
                        void 0 === r && (r = [{
                            uri: n.baseUrl,
                            timeline: n.periodIndex,
                            resolvedUri: n.baseUrl || "",
                            duration: n.sourceDuration,
                            number: 0
                        }], n.duration = n.sourceDuration);
                        var i = ((t = {
                            NAME: n.id,
                            BANDWIDTH: n.bandwidth
                        })["PROGRAM-ID"] = 1, t);
                        return n.codecs && (i.CODECS = n.codecs), {
                            attributes: i,
                            uri: "",
                            endList: "static" === (n.type || "static"),
                            timeline: n.periodIndex,
                            resolvedUri: n.baseUrl || "",
                            targetDuration: n.duration,
                            segments: r,
                            mediaSequence: r.length ? r[0].number : 1
                        }
                    }(n), t)), e
                }), {})
            }(h, n)), p.length && (f.mediaGroups["CLOSED-CAPTIONS"].cc = p.reduce((function(e, t) {
                return t ? (t.forEach((function(t) {
                    var n = t.channel,
                        r = t.language;
                    e[r] = {
                        autoselect: !1,
                        default: !1,
                        instreamId: n,
                        language: r
                    }, t.hasOwnProperty("aspectRatio") && (e[r].aspectRatio = t.aspectRatio), t.hasOwnProperty("easyReader") && (e[r].easyReader = t.easyReader), t.hasOwnProperty("3D") && (e[r]["3D"] = t["3D"])
                })), e) : e
            }), {})), f
        },
        sd = function(e, t, n) {
            var r = e.NOW,
                i = e.clientOffset,
                a = e.availabilityStartTime,
                o = e.timescale,
                s = void 0 === o ? 1 : o,
                u = e.start,
                l = void 0 === u ? 0 : u,
                c = e.minimumUpdatePeriod,
                d = (r + i) / 1e3 + (void 0 === c ? 0 : c) - (a + l);
            return Math.ceil((d * s - t) / n)
        },
        ud = function(e, t) {
            for (var n = e.type, r = void 0 === n ? "static" : n, i = e.minimumUpdatePeriod, a = void 0 === i ? 0 : i, o = e.media, s = void 0 === o ? "" : o, u = e.sourceDuration, l = e.timescale, c = void 0 === l ? 1 : l, d = e.startNumber, h = void 0 === d ? 1 : d, p = e.periodIndex, f = [], m = -1, g = 0; g < t.length; g++) {
                var y = t[g],
                    v = y.d,
                    b = y.r || 0,
                    T = y.t || 0;
                m < 0 && (m = T), T && T > m && (m = T);
                var _ = void 0;
                if (b < 0) {
                    var S = g + 1;
                    _ = S === t.length ? "dynamic" === r && a > 0 && s.indexOf("$Number$") > 0 ? sd(e, m, v) : (u * c - m) / v : (t[S].t - m) / v
                } else _ = b + 1;
                for (var w = h + f.length + _, A = h + f.length; A < w;) f.push({
                    number: A,
                    duration: v / c,
                    time: m,
                    timeline: p
                }), m += v, A++
            }
            return f
        },
        ld = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
        cd = function(e, t) {
            return e.replace(ld, function(e) {
                return function(t, n, r, i) {
                    if ("$$" === t) return "$";
                    if (void 0 === e[n]) return t;
                    var a = "" + e[n];
                    return "RepresentationID" === n ? a : (i = r ? parseInt(i, 10) : 1, a.length >= i ? a : "" + new Array(i - a.length + 1).join("0") + a)
                }
            }(t))
        },
        dd = function(e, t) {
            var n = {
                    RepresentationID: e.id,
                    Bandwidth: e.bandwidth || 0
                },
                r = e.initialization,
                i = void 0 === r ? {
                    sourceURL: "",
                    range: ""
                } : r,
                a = zc({
                    baseUrl: e.baseUrl,
                    source: cd(i.sourceURL, n),
                    range: i.range
                });
            return function(e, t) {
                return e.duration || t ? e.duration ? Yc(e) : ud(e, t) : [{
                    number: e.startNumber || 1,
                    duration: e.sourceDuration,
                    time: 0,
                    timeline: e.periodIndex
                }]
            }(e, t).map((function(t) {
                n.Number = t.number, n.Time = t.time;
                var r = cd(e.media || "", n),
                    i = {
                        uri: r,
                        timeline: t.timeline,
                        duration: t.duration,
                        resolvedUri: Ru(e.baseUrl || "", r),
                        map: a,
                        number: t.number
                    };
                return e.presentationTimeOffset && (i.presentationTimeOffset = e.presentationTimeOffset), i
            }))
        },
        hd = function(e, t) {
            var n = e.duration,
                r = e.segmentUrls,
                i = void 0 === r ? [] : r;
            if (!n && !t || n && t) throw new Error(Wc);
            var a, o = i.map((function(t) {
                return function(e, t) {
                    var n = e.baseUrl,
                        r = e.initialization,
                        i = void 0 === r ? {} : r,
                        a = zc({
                            baseUrl: n,
                            source: i.sourceURL,
                            range: i.range
                        }),
                        o = zc({
                            baseUrl: n,
                            source: t.media,
                            range: t.mediaRange
                        });
                    return o.map = a, o
                }(e, t)
            }));
            return n && (a = Yc(e)), t && (a = ud(e, t)), a.map((function(e, t) {
                if (o[t]) {
                    var n = o[t];
                    return n.timeline = e.timeline, n.duration = e.duration, n.number = e.number, n
                }
            })).filter((function(e) {
                return e
            }))
        },
        pd = function(e) {
            var t, n, r = e.attributes,
                i = e.segmentInfo;
            i.template ? (n = dd, t = Bc(r, i.template), i.template.presentationTimeOffset && (t.presentationTimeOffset = i.template.presentationTimeOffset / i.template.timescale)) : i.base ? (n = Qc, t = Bc(r, i.base)) : i.list && (n = hd, t = Bc(r, i.list));
            var a = {
                attributes: r
            };
            if (!n) return a;
            var o = n(t, i.timeline);
            if (t.duration) {
                var s = t,
                    u = s.duration,
                    l = s.timescale,
                    c = void 0 === l ? 1 : l;
                t.duration = u / c
            } else o.length ? t.duration = o.reduce((function(e, t) {
                return Math.max(e, Math.ceil(t.duration))
            }), 0) : t.duration = 0;
            return a.attributes = t, a.segments = o, i.base && t.indexRange && (a.sidx = o[0], a.segments = []), a
        },
        fd = function(e, t) {
            return Fc(e.childNodes).filter((function(e) {
                return e.tagName === t
            }))
        },
        md = function(e) {
            return e.textContent.trim()
        },
        gd = function(e) {
            var t = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);
            if (!t) return 0;
            var n = t.slice(1),
                r = n[0],
                i = n[1],
                a = n[2],
                o = n[3],
                s = n[4],
                u = n[5];
            return 31536e3 * parseFloat(r || 0) + 2592e3 * parseFloat(i || 0) + 86400 * parseFloat(a || 0) + 3600 * parseFloat(o || 0) + 60 * parseFloat(s || 0) + parseFloat(u || 0)
        },
        yd = {
            mediaPresentationDuration: function(e) {
                return gd(e)
            },
            availabilityStartTime: function(e) {
                return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t = e) && (t += "Z"), Date.parse(t) / 1e3;
                var t
            },
            minimumUpdatePeriod: function(e) {
                return gd(e)
            },
            suggestedPresentationDelay: function(e) {
                return gd(e)
            },
            type: function(e) {
                return e
            },
            timeShiftBufferDepth: function(e) {
                return gd(e)
            },
            start: function(e) {
                return gd(e)
            },
            width: function(e) {
                return parseInt(e, 10)
            },
            height: function(e) {
                return parseInt(e, 10)
            },
            bandwidth: function(e) {
                return parseInt(e, 10)
            },
            startNumber: function(e) {
                return parseInt(e, 10)
            },
            timescale: function(e) {
                return parseInt(e, 10)
            },
            presentationTimeOffset: function(e) {
                return parseInt(e, 10)
            },
            duration: function(e) {
                var t = parseInt(e, 10);
                return isNaN(t) ? gd(e) : t
            },
            d: function(e) {
                return parseInt(e, 10)
            },
            t: function(e) {
                return parseInt(e, 10)
            },
            r: function(e) {
                return parseInt(e, 10)
            },
            DEFAULT: function(e) {
                return e
            }
        },
        vd = function(e) {
            return e && e.attributes ? Fc(e.attributes).reduce((function(e, t) {
                var n = yd[t.name] || yd.DEFAULT;
                return e[t.name] = n(t.value), e
            }), {}) : {}
        },
        bd = {
            "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
            "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
            "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
            "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
        },
        Td = function(e, t) {
            return t.length ? Uc(e.map((function(e) {
                return t.map((function(t) {
                    return Ru(e, md(t))
                }))
            }))) : e
        },
        _d = function(e) {
            var t = fd(e, "SegmentTemplate")[0],
                n = fd(e, "SegmentList")[0],
                r = n && fd(n, "SegmentURL").map((function(e) {
                    return Bc({
                        tag: "SegmentURL"
                    }, vd(e))
                })),
                i = fd(e, "SegmentBase")[0],
                a = n || t,
                o = a && fd(a, "SegmentTimeline")[0],
                s = n || i || t,
                u = s && fd(s, "Initialization")[0],
                l = t && vd(t);
            l && u ? l.initialization = u && vd(u) : l && l.initialization && (l.initialization = {
                sourceURL: l.initialization
            });
            var c = {
                template: l,
                timeline: o && fd(o, "S").map((function(e) {
                    return vd(e)
                })),
                list: n && Bc(vd(n), {
                    segmentUrls: r,
                    initialization: vd(u)
                }),
                base: i && Bc(vd(i), {
                    initialization: vd(u)
                })
            };
            return Object.keys(c).forEach((function(e) {
                c[e] || delete c[e]
            })), c
        },
        Sd = function(e, t, n) {
            return function(r) {
                var i, a = vd(r),
                    o = Td(t, fd(r, "BaseURL")),
                    s = fd(r, "Role")[0],
                    u = {
                        role: vd(s)
                    },
                    l = Bc(e, a, u),
                    c = fd(r, "Accessibility")[0],
                    d = "urn:scte:dash:cc:cea-608:2015" === (i = vd(c)).schemeIdUri ? i.value.split(";").map((function(e) {
                        var t, n;
                        if (n = e, /^CC\d=/.test(e)) {
                            var r = e.split("=");
                            t = r[0], n = r[1]
                        } else /^CC\d$/.test(e) && (t = e);
                        return {
                            channel: t,
                            language: n
                        }
                    })) : "urn:scte:dash:cc:cea-708:2015" === i.schemeIdUri ? i.value.split(";").map((function(e) {
                        var t = {
                            channel: void 0,
                            language: void 0,
                            aspectRatio: 1,
                            easyReader: 0,
                            "3D": 0
                        };
                        if (/=/.test(e)) {
                            var n = e.split("="),
                                r = n[0],
                                i = n[1],
                                a = void 0 === i ? "" : i;
                            t.channel = r, t.language = e, a.split(",").forEach((function(e) {
                                var n = e.split(":"),
                                    r = n[0],
                                    i = n[1];
                                "lang" === r ? t.language = i : "er" === r ? t.easyReader = Number(i) : "war" === r ? t.aspectRatio = Number(i) : "3D" === r && (t["3D"] = Number(i))
                            }))
                        } else t.language = e;
                        return t.channel && (t.channel = "SERVICE" + t.channel), t
                    })) : void 0;
                d && (l = Bc(l, {
                    captionServices: d
                }));
                var h = fd(r, "Label")[0];
                if (h && h.childNodes.length) {
                    var p = h.childNodes[0].nodeValue.trim();
                    l = Bc(l, {
                        label: p
                    })
                }
                var f = fd(r, "ContentProtection").reduce((function(e, t) {
                    var n = vd(t),
                        r = bd[n.schemeIdUri];
                    if (r) {
                        e[r] = {
                            attributes: n
                        };
                        var i = fd(t, "cenc:pssh")[0];
                        if (i) {
                            var a = md(i),
                                o = a && Bu(a);
                            e[r].pssh = o
                        }
                    }
                    return e
                }), {});
                Object.keys(f).length && (l = Bc(l, {
                    contentProtection: f
                }));
                var m = _d(r),
                    g = fd(r, "Representation"),
                    y = Bc(n, m);
                return Uc(g.map(function(e, t, n) {
                    return function(r) {
                        var i = fd(r, "BaseURL"),
                            a = Td(t, i),
                            o = Bc(e, vd(r)),
                            s = _d(r);
                        return a.map((function(e) {
                            return {
                                segmentInfo: Bc(n, s),
                                attributes: Bc(o, {
                                    baseUrl: e
                                })
                            }
                        }))
                    }
                }(l, o, y)))
            }
        },
        wd = function(e, t) {
            return function(n, r) {
                var i = Td(t, fd(n, "BaseURL")),
                    a = vd(n),
                    o = parseInt(a.id, 10),
                    s = m.isNaN(o) ? r : o,
                    u = Bc(e, {
                        periodIndex: s
                    }),
                    l = fd(n, "AdaptationSet"),
                    c = _d(n);
                return Uc(l.map(Sd(u, i, c)))
            }
        },
        Ad = function(e) {
            if ("" === e) throw new Error(Hc);
            var t, n, r = new Rc;
            try {
                n = (t = r.parseFromString(e, "application/xml")) && "MPD" === t.documentElement.tagName ? t.documentElement : null
            } catch (e) {}
            if (!n || n && n.getElementsByTagName("parsererror").length > 0) throw new Error(Gc);
            return n
        },
        Ed = function(e, t) {
            void 0 === t && (t = {});
            var n = function(e, t) {
                    void 0 === t && (t = {});
                    var n = t,
                        r = n.manifestUri,
                        i = void 0 === r ? "" : r,
                        a = n.NOW,
                        o = void 0 === a ? Date.now() : a,
                        s = n.clientOffset,
                        u = void 0 === s ? 0 : s,
                        l = fd(e, "Period");
                    if (!l.length) throw new Error(jc);
                    var c = fd(e, "Location"),
                        d = vd(e),
                        h = Td([i], fd(e, "BaseURL"));
                    return d.sourceDuration = d.mediaPresentationDuration || 0, d.NOW = o, d.clientOffset = u, c.length && (d.locations = c.map(md)), {
                        locations: d.locations,
                        representationInfo: Uc(l.map(wd(d, h)))
                    }
                }(Ad(e), t),
                r = n.representationInfo.map(pd);
            return od(r, n.locations, t.sidxMapping)
        },
        Cd = function(e) {
            return function(e) {
                var t = fd(e, "UTCTiming")[0];
                if (!t) return null;
                var n = vd(t);
                switch (n.schemeIdUri) {
                    case "urn:mpeg:dash:utc:http-head:2014":
                    case "urn:mpeg:dash:utc:http-head:2012":
                        n.method = "HEAD";
                        break;
                    case "urn:mpeg:dash:utc:http-xsdate:2014":
                    case "urn:mpeg:dash:utc:http-iso:2014":
                    case "urn:mpeg:dash:utc:http-xsdate:2012":
                    case "urn:mpeg:dash:utc:http-iso:2012":
                        n.method = "GET";
                        break;
                    case "urn:mpeg:dash:utc:direct:2014":
                    case "urn:mpeg:dash:utc:direct:2012":
                        n.method = "DIRECT", n.value = Date.parse(n.value);
                        break;
                    case "urn:mpeg:dash:utc:http-ntp:2014":
                    case "urn:mpeg:dash:utc:ntp:2014":
                    case "urn:mpeg:dash:utc:sntp:2014":
                    default:
                        throw new Error(qc)
                }
                return n
            }(Ad(e))
        },
        Pd = Math.pow(2, 32),
        kd = function(e) {
            var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                n = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    references: [],
                    referenceId: t.getUint32(4),
                    timescale: t.getUint32(8)
                },
                r = 12;
            0 === n.version ? (n.earliestPresentationTime = t.getUint32(r), n.firstOffset = t.getUint32(r + 4), r += 8) : (n.earliestPresentationTime = t.getUint32(r) * Pd + t.getUint32(r + 4), n.firstOffset = t.getUint32(r + 8) * Pd + t.getUint32(r + 12), r += 16), r += 2;
            var i = t.getUint16(r);
            for (r += 2; i > 0; r += 12, i--) n.references.push({
                referenceType: (128 & e[r]) >>> 7,
                referencedSize: 2147483647 & t.getUint32(r),
                subsegmentDuration: t.getUint32(r + 4),
                startsWithSap: !!(128 & e[r + 8]),
                sapType: (112 & e[r + 8]) >>> 4,
                sapDeltaTime: 268435455 & t.getUint32(r + 8)
            });
            return n
        },
        xd = function(e) {
            return e instanceof Uint8Array ? e : (Array.isArray(e) || function(e) {
                return ArrayBuffer.isView(e)
            }(e) || e instanceof ArrayBuffer || (e = "number" != typeof e || "number" == typeof e && e != e ? 0 : [e]), new Uint8Array(e && e.buffer || e, e && e.byteOffset || 0, e && e.byteLength || 0))
        },
        Id = m.BigInt || Number,
        Md = [Id("0x1"), Id("0x100"), Id("0x10000"), Id("0x1000000"), Id("0x100000000"), Id("0x10000000000"), Id("0x1000000000000"), Id("0x100000000000000"), Id("0x10000000000000000")];
    ! function() {
        var e = new Uint16Array([65484]),
            t = new Uint8Array(e.buffer, e.byteOffset, e.byteLength);
        255 === t[0] || t[0]
    }();
    var Ld = function(e, t) {
            var n = void 0 === t ? {} : t,
                r = n.signed,
                i = void 0 !== r && r,
                a = n.le,
                o = void 0 !== a && a;
            e = xd(e);
            var s = o ? "reduce" : "reduceRight",
                u = (e[s] ? e[s] : Array.prototype[s]).call(e, (function(t, n, r) {
                    var i = o ? r : Math.abs(r + 1 - e.length);
                    return t + Id(n) * Md[i]
                }), Id(0));
            if (i) {
                var l = Md[e.length] / Id(2) - Id(1);
                (u = Id(u)) > l && (u -= l, u -= l, u -= Id(2))
            }
            return Number(u)
        },
        Dd = function(e, t) {
            var n = (void 0 === t ? {} : t).le,
                r = void 0 !== n && n;
            ("bigint" != typeof e && "number" != typeof e || "number" == typeof e && e != e) && (e = 0);
            for (var i = function(e) {
                    return Math.ceil(function(e) {
                        return e.toString(2).length
                    }(e) / 8)
                }(e = Id(e)), a = new Uint8Array(new ArrayBuffer(i)), o = 0; o < i; o++) {
                var s = r ? o : Math.abs(o + 1 - a.length);
                a[s] = Number(e / Md[o] & Id(255)), e < 0 && (a[s] = Math.abs(~a[s]), a[s] -= 0 === o ? 1 : 2)
            }
            return a
        },
        Od = function(e, t) {
            if ("string" != typeof e && e && "function" == typeof e.toString && (e = e.toString()), "string" != typeof e) return new Uint8Array;
            t || (e = unescape(encodeURIComponent(e)));
            for (var n = new Uint8Array(e.length), r = 0; r < e.length; r++) n[r] = e.charCodeAt(r);
            return n
        },
        Rd = function(e, t, n) {
            var r = void 0 === n ? {} : n,
                i = r.offset,
                a = void 0 === i ? 0 : i,
                o = r.mask,
                s = void 0 === o ? [] : o;
            e = xd(e);
            var u = (t = xd(t)).every ? t.every : Array.prototype.every;
            return t.length && e.length - a >= t.length && u.call(t, (function(t, n) {
                return t === (s[n] ? s[n] & e[a + n] : e[a + n])
            }))
        },
        Nd = xd([73, 68, 51]),
        Bd = function e(t, n) {
            return void 0 === n && (n = 0), (t = xd(t)).length - n < 10 || !Rd(t, Nd, {
                offset: n
            }) ? n : (n += function(e, t) {
                void 0 === t && (t = 0);
                var n = (e = xd(e))[t + 5],
                    r = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                return (16 & n) >> 4 ? r + 20 : r + 10
            }(t, n), e(t, n))
        },
        Ud = function(e) {
            return "string" == typeof e ? Od(e) : e
        },
        Fd = function e(t, n, r) {
            void 0 === r && (r = !1), n = function(e) {
                return Array.isArray(e) ? e.map((function(e) {
                    return Ud(e)
                })) : [Ud(e)]
            }(n), t = xd(t);
            var i = [];
            if (!n.length) return i;
            for (var a = 0; a < t.length;) {
                var o = (t[a] << 24 | t[a + 1] << 16 | t[a + 2] << 8 | t[a + 3]) >>> 0,
                    s = t.subarray(a + 4, a + 8);
                if (0 === o) break;
                var u = a + o;
                if (u > t.length) {
                    if (r) break;
                    u = t.length
                }
                var l = t.subarray(a + 8, u);
                Rd(s, n[0]) && (1 === n.length ? i.push(l) : i.push.apply(i, e(l, n.slice(1), r))), a = u
            }
            return i
        },
        jd = {
            EBML: xd([26, 69, 223, 163]),
            DocType: xd([66, 130]),
            Segment: xd([24, 83, 128, 103]),
            SegmentInfo: xd([21, 73, 169, 102]),
            Tracks: xd([22, 84, 174, 107]),
            Track: xd([174]),
            TrackNumber: xd([215]),
            DefaultDuration: xd([35, 227, 131]),
            TrackEntry: xd([174]),
            TrackType: xd([131]),
            FlagDefault: xd([136]),
            CodecID: xd([134]),
            CodecPrivate: xd([99, 162]),
            VideoTrack: xd([224]),
            AudioTrack: xd([225]),
            Cluster: xd([31, 67, 182, 117]),
            Timestamp: xd([231]),
            TimestampScale: xd([42, 215, 177]),
            BlockGroup: xd([160]),
            BlockDuration: xd([155]),
            Block: xd([161]),
            SimpleBlock: xd([163])
        },
        Hd = [128, 64, 32, 16, 8, 4, 2, 1],
        Gd = function(e, t, n, r) {
            void 0 === n && (n = !0), void 0 === r && (r = !1);
            var i = function(e) {
                    for (var t = 1, n = 0; n < Hd.length && !(e & Hd[n]); n++) t++;
                    return t
                }(e[t]),
                a = e.subarray(t, t + i);
            return n && ((a = Array.prototype.slice.call(e, t, t + i))[0] ^= Hd[i - 1]), {
                length: i,
                value: Ld(a, {
                    signed: r
                }),
                bytes: a
            }
        },
        Vd = function e(t) {
            return "string" == typeof t ? t.match(/.{1,2}/g).map((function(t) {
                return e(t)
            })) : "number" == typeof t ? Dd(t) : t
        },
        Wd = function e(t, n, r) {
            if (r >= n.length) return n.length;
            var i = Gd(n, r, !1);
            if (Rd(t.bytes, i.bytes)) return r;
            var a = Gd(n, r + i.length);
            return e(t, n, r + a.length + a.value + i.length)
        },
        qd = function e(t, n) {
            n = function(e) {
                return Array.isArray(e) ? e.map((function(e) {
                    return Vd(e)
                })) : [Vd(e)]
            }(n), t = xd(t);
            var r = [];
            if (!n.length) return r;
            for (var i = 0; i < t.length;) {
                var a = Gd(t, i, !1),
                    o = Gd(t, i + a.length),
                    s = i + a.length + o.length;
                127 === o.value && (o.value = Wd(a, t, s), o.value !== t.length && (o.value -= s));
                var u = s + o.value > t.length ? t.length : s + o.value,
                    l = t.subarray(s, u);
                Rd(n[0], a.bytes) && (1 === n.length ? r.push(l) : r = r.concat(e(l, n.slice(1)))), i += a.length + o.length + l.length
            }
            return r
        },
        zd = xd([0, 0, 0, 1]),
        Xd = xd([0, 0, 1]),
        Kd = xd([0, 0, 3]),
        Yd = function(e) {
            for (var t = [], n = 1; n < e.length - 2;) Rd(e.subarray(n, n + 3), Kd) && (t.push(n + 2), n++), n++;
            if (0 === t.length) return e;
            var r = e.length - t.length,
                i = new Uint8Array(r),
                a = 0;
            for (n = 0; n < r; a++, n++) a === t[0] && (a++, t.shift()), i[n] = e[a];
            return i
        },
        Qd = function(e, t, n, r) {
            void 0 === r && (r = 1 / 0), e = xd(e), n = [].concat(n);
            for (var i, a = 0, o = 0; a < e.length && (o < r || i);) {
                var s = void 0;
                if (Rd(e.subarray(a), zd) ? s = 4 : Rd(e.subarray(a), Xd) && (s = 3), s) {
                    if (o++, i) return Yd(e.subarray(i, a));
                    var u = void 0;
                    "h264" === t ? u = 31 & e[a + s] : "h265" === t && (u = e[a + s] >> 1 & 63), -1 !== n.indexOf(u) && (i = a + s), a += s + ("h264" === t ? 1 : 2)
                } else a++
            }
            return e.subarray(0, 0)
        },
        $d = {
            webm: xd([119, 101, 98, 109]),
            matroska: xd([109, 97, 116, 114, 111, 115, 107, 97]),
            flac: xd([102, 76, 97, 67]),
            ogg: xd([79, 103, 103, 83]),
            ac3: xd([11, 119]),
            riff: xd([82, 73, 70, 70]),
            avi: xd([65, 86, 73]),
            wav: xd([87, 65, 86, 69]),
            "3gp": xd([102, 116, 121, 112, 51, 103]),
            mp4: xd([102, 116, 121, 112]),
            fmp4: xd([115, 116, 121, 112]),
            mov: xd([102, 116, 121, 112, 113, 116]),
            moov: xd([109, 111, 111, 118]),
            moof: xd([109, 111, 111, 102])
        },
        Jd = {
            aac: function(e) {
                var t = Bd(e);
                return Rd(e, [255, 16], {
                    offset: t,
                    mask: [255, 22]
                })
            },
            mp3: function(e) {
                var t = Bd(e);
                return Rd(e, [255, 2], {
                    offset: t,
                    mask: [255, 6]
                })
            },
            webm: function(e) {
                var t = qd(e, [jd.EBML, jd.DocType])[0];
                return Rd(t, $d.webm)
            },
            mkv: function(e) {
                var t = qd(e, [jd.EBML, jd.DocType])[0];
                return Rd(t, $d.matroska)
            },
            mp4: function(e) {
                return !Jd["3gp"](e) && !Jd.mov(e) && (!(!Rd(e, $d.mp4, {
                    offset: 4
                }) && !Rd(e, $d.fmp4, {
                    offset: 4
                })) || (!(!Rd(e, $d.moof, {
                    offset: 4
                }) && !Rd(e, $d.moov, {
                    offset: 4
                })) || void 0))
            },
            mov: function(e) {
                return Rd(e, $d.mov, {
                    offset: 4
                })
            },
            "3gp": function(e) {
                return Rd(e, $d["3gp"], {
                    offset: 4
                })
            },
            ac3: function(e) {
                var t = Bd(e);
                return Rd(e, $d.ac3, {
                    offset: t
                })
            },
            ts: function(e) {
                if (e.length < 189 && e.length >= 1) return 71 === e[0];
                for (var t = 0; t + 188 < e.length && t < 188;) {
                    if (71 === e[t] && 71 === e[t + 188]) return !0;
                    t += 1
                }
                return !1
            },
            flac: function(e) {
                var t = Bd(e);
                return Rd(e, $d.flac, {
                    offset: t
                })
            },
            ogg: function(e) {
                return Rd(e, $d.ogg)
            },
            avi: function(e) {
                return Rd(e, $d.riff) && Rd(e, $d.avi, {
                    offset: 8
                })
            },
            wav: function(e) {
                return Rd(e, $d.riff) && Rd(e, $d.wav, {
                    offset: 8
                })
            },
            h264: function(e) {
                return function(e, t, n) {
                    return Qd(e, "h264", t, n)
                }(e, 7, 3).length
            },
            h265: function(e) {
                return function(e, t, n) {
                    return Qd(e, "h265", t, n)
                }(e, [32, 33], 3).length
            }
        },
        Zd = Object.keys(Jd).filter((function(e) {
            return "ts" !== e && "h264" !== e && "h265" !== e
        })).concat(["ts", "h264", "h265"]);
    Zd.forEach((function(e) {
        var t = Jd[e];
        Jd[e] = function(e) {
            return t(xd(e))
        }
    }));
    var eh, th, nh, rh, ih = Jd,
        ah = function(e) {
            e = xd(e);
            for (var t = 0; t < Zd.length; t++) {
                var n = Zd[t];
                if (ih[n](e)) return n
            }
            return ""
        },
        oh = 9e4;
    for (var sh, uh = oh, lh = (eh = function(e) {
            return e * oh
        }, th = function(e, t) {
            return e * t
        }, nh = function(e) {
            return e / oh
        }, rh = function(e, t) {
            return e / t
        }, "7.14.3"), ch = {
            prefixed: !0
        }, dh = [
            ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror", "fullscreen"],
            ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror", "-webkit-full-screen"],
            ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror", "-moz-full-screen"],
            ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError", "-ms-fullscreen"]
        ], hh = dh[0], ph = 0
        /**
         * @license
         * Video.js 7.14.3 <http://videojs.com/>
         * Copyright Brightcove, Inc. <https://www.brightcove.com/>
         * Available under Apache License Version 2.0
         * <https://github.com/videojs/video.js/blob/main/LICENSE>
         *
         * Includes vtt.js <https://github.com/mozilla/vtt.js>
         * Available under Apache License Version 2.0
         * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
         */
        ; ph < dh.length; ph++)
        if (dh[ph][1] in Ps) {
            sh = dh[ph];
            break
        } if (sh) {
        for (var fh = 0; fh < sh.length; fh++) ch[hh[fh]] = sh[fh];
        ch.prefixed = sh[0] !== hh[0]
    }
    var mh = [];
    var gh = function e(t) {
            var n, r = "info",
                i = function() {
                    for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                    n("log", r, t)
                };
            return n = function(e, t) {
                return function(n, r, i) {
                    var a = t.levels[r],
                        o = new RegExp("^(" + a + ")$");
                    if ("log" !== n && i.unshift(n.toUpperCase() + ":"), i.unshift(e + ":"), mh) {
                        mh.push([].concat(i));
                        var s = mh.length - 1e3;
                        mh.splice(0, s > 0 ? s : 0)
                    }
                    if (m.console) {
                        var u = m.console[n];
                        u || "debug" !== n || (u = m.console.info || m.console.log), u && a && o.test(n) && u[Array.isArray(i) ? "apply" : "call"](m.console, i)
                    }
                }
            }(t, i), i.createLogger = function(n) {
                return e(t + ": " + n)
            }, i.levels = {
                all: "debug|log|warn|error",
                off: "",
                debug: "debug|log|warn|error",
                info: "log|warn|error",
                warn: "warn|error",
                error: "error",
                DEFAULT: r
            }, i.level = function(e) {
                if ("string" == typeof e) {
                    if (!i.levels.hasOwnProperty(e)) throw new Error('"' + e + '" in not a valid log level');
                    r = e
                }
                return r
            }, (i.history = function() {
                return mh ? [].concat(mh) : []
            }).filter = function(e) {
                return (mh || []).filter((function(t) {
                    return new RegExp(".*" + e + ".*").test(t[0])
                }))
            }, i.history.clear = function() {
                mh && (mh.length = 0)
            }, i.history.disable = function() {
                null !== mh && (mh.length = 0, mh = null)
            }, i.history.enable = function() {
                null === mh && (mh = [])
            }, i.error = function() {
                for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                return n("error", r, t)
            }, i.warn = function() {
                for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                return n("warn", r, t)
            }, i.debug = function() {
                for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                return n("debug", r, t)
            }, i
        }("VIDEOJS"),
        yh = gh.createLogger,
        vh = Object.prototype.toString,
        bh = function(e) {
            return Sh(e) ? Object.keys(e) : []
        };

    function Th(e, t) {
        bh(e).forEach((function(n) {
            return t(e[n], n)
        }))
    }

    function _h(e) {
        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
        return Object.assign ? ks.apply(void 0, [e].concat(n)) : (n.forEach((function(t) {
            t && Th(t, (function(t, n) {
                e[n] = t
            }))
        })), e)
    }

    function Sh(e) {
        return !!e && "object" == typeof e
    }

    function wh(e) {
        return Sh(e) && "[object Object]" === vh.call(e) && e.constructor === Object
    }

    function Ah(e, t) {
        if (!e || !t) return "";
        if ("function" == typeof m.getComputedStyle) {
            var n;
            try {
                n = m.getComputedStyle(e)
            } catch (e) {
                return ""
            }
            return n ? n.getPropertyValue(t) || n[t] : ""
        }
        return ""
    }
    var Eh = m.navigator && m.navigator.userAgent || "",
        Ch = /AppleWebKit\/([\d.]+)/i.exec(Eh),
        Ph = Ch ? parseFloat(Ch.pop()) : null,
        kh = /iPod/i.test(Eh),
        xh = function() {
            var e = Eh.match(/OS (\d+)_/i);
            return e && e[1] ? e[1] : null
        }(),
        Ih = /Android/i.test(Eh),
        Mh = function() {
            var e = Eh.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
            if (!e) return null;
            var t = e[1] && parseFloat(e[1]),
                n = e[2] && parseFloat(e[2]);
            return t && n ? parseFloat(e[1] + "." + e[2]) : t || null
        }(),
        Lh = Ih && Mh < 5 && Ph < 537,
        Dh = /Firefox/i.test(Eh),
        Oh = /Edg/i.test(Eh),
        Rh = !Oh && (/Chrome/i.test(Eh) || /CriOS/i.test(Eh)),
        Nh = function() {
            var e = Eh.match(/(Chrome|CriOS)\/(\d+)/);
            return e && e[2] ? parseFloat(e[2]) : null
        }(),
        Bh = function() {
            var e = /MSIE\s(\d+)\.\d/.exec(Eh),
                t = e && parseFloat(e[1]);
            return !t && /Trident\/7.0/i.test(Eh) && /rv:11.0/.test(Eh) && (t = 11), t
        }(),
        Uh = /Safari/i.test(Eh) && !Rh && !Ih && !Oh,
        Fh = /Windows/i.test(Eh),
        jh = Boolean(Kh() && ("ontouchstart" in m || m.navigator.maxTouchPoints || m.DocumentTouch && m.document instanceof m.DocumentTouch)),
        Hh = /iPad/i.test(Eh) || Uh && jh && !/iPhone/i.test(Eh),
        Gh = /iPhone/i.test(Eh) && !Hh,
        Vh = Gh || Hh || kh,
        Wh = (Uh || Vh) && !Rh,
        qh = Object.freeze({
            __proto__: null,
            IS_IPOD: kh,
            IOS_VERSION: xh,
            IS_ANDROID: Ih,
            ANDROID_VERSION: Mh,
            IS_NATIVE_ANDROID: Lh,
            IS_FIREFOX: Dh,
            IS_EDGE: Oh,
            IS_CHROME: Rh,
            CHROME_VERSION: Nh,
            IE_VERSION: Bh,
            IS_SAFARI: Uh,
            IS_WINDOWS: Fh,
            TOUCH_ENABLED: jh,
            IS_IPAD: Hh,
            IS_IPHONE: Gh,
            IS_IOS: Vh,
            IS_ANY_SAFARI: Wh
        });

    function zh(e) {
        return "string" == typeof e && Boolean(e.trim())
    }

    function Xh(e) {
        if (e.indexOf(" ") >= 0) throw new Error("class has illegal whitespace characters")
    }

    function Kh() {
        return Ps === m.document
    }

    function Yh(e) {
        return Sh(e) && 1 === e.nodeType
    }

    function Qh() {
        try {
            return m.parent !== m.self
        } catch (e) {
            return !0
        }
    }

    function $h(e) {
        return function(t, n) {
            if (!zh(t)) return Ps[e](null);
            zh(n) && (n = Ps.querySelector(n));
            var r = Yh(n) ? n : Ps;
            return r[e] && r[e](t)
        }
    }

    function Jh(e, t, n, r) {
        void 0 === e && (e = "div"), void 0 === t && (t = {}), void 0 === n && (n = {});
        var i = Ps.createElement(e);
        return Object.getOwnPropertyNames(t).forEach((function(e) {
            var n = t[e]; - 1 !== e.indexOf("aria-") || "role" === e || "type" === e ? (gh.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set " + e + " to " + n + "."), i.setAttribute(e, n)) : "textContent" === e ? Zh(i, n) : i[e] === n && "tabIndex" !== e || (i[e] = n)
        })), Object.getOwnPropertyNames(n).forEach((function(e) {
            i.setAttribute(e, n[e])
        })), r && vp(i, r), i
    }

    function Zh(e, t) {
        return void 0 === e.textContent ? e.innerText = t : e.textContent = t, e
    }

    function ep(e, t) {
        t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e)
    }

    function tp(e, t) {
        return Xh(t), e.classList ? e.classList.contains(t) : (n = t, new RegExp("(^|\\s)" + n + "($|\\s)")).test(e.className);
        var n
    }

    function np(e, t) {
        return e.classList ? e.classList.add(t) : tp(e, t) || (e.className = (e.className + " " + t).trim()), e
    }

    function rp(e, t) {
        return e ? (e.classList ? e.classList.remove(t) : (Xh(t), e.className = e.className.split(/\s+/).filter((function(e) {
            return e !== t
        })).join(" ")), e) : (gh.warn("removeClass was called with an element that doesn't exist"), null)
    }

    function ip(e, t, n) {
        var r = tp(e, t);
        if ("function" == typeof n && (n = n(e, t)), "boolean" != typeof n && (n = !r), n !== r) return n ? np(e, t) : rp(e, t), e
    }

    function ap(e, t) {
        Object.getOwnPropertyNames(t).forEach((function(n) {
            var r = t[n];
            null == r || !1 === r ? e.removeAttribute(n) : e.setAttribute(n, !0 === r ? "" : r)
        }))
    }

    function op(e) {
        var t = {},
            n = ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";
        if (e && e.attributes && e.attributes.length > 0)
            for (var r = e.attributes, i = r.length - 1; i >= 0; i--) {
                var a = r[i].name,
                    o = r[i].value;
                "boolean" != typeof e[a] && -1 === n.indexOf("," + a + ",") || (o = null !== o), t[a] = o
            }
        return t
    }

    function sp(e, t) {
        return e.getAttribute(t)
    }

    function up(e, t, n) {
        e.setAttribute(t, n)
    }

    function lp(e, t) {
        e.removeAttribute(t)
    }

    function cp() {
        Ps.body.focus(), Ps.onselectstart = function() {
            return !1
        }
    }

    function dp() {
        Ps.onselectstart = function() {
            return !0
        }
    }

    function hp(e) {
        if (e && e.getBoundingClientRect && e.parentNode) {
            var t = e.getBoundingClientRect(),
                n = {};
            return ["bottom", "height", "left", "right", "top", "width"].forEach((function(e) {
                void 0 !== t[e] && (n[e] = t[e])
            })), n.height || (n.height = parseFloat(Ah(e, "height"))), n.width || (n.width = parseFloat(Ah(e, "width"))), n
        }
    }

    function pp(e) {
        if (!e || e && !e.offsetParent) return {
            left: 0,
            top: 0,
            width: 0,
            height: 0
        };
        for (var t = e.offsetWidth, n = e.offsetHeight, r = 0, i = 0; e.offsetParent && e !== Ps[ch.fullscreenElement];) r += e.offsetLeft, i += e.offsetTop, e = e.offsetParent;
        return {
            left: r,
            top: i,
            width: t,
            height: n
        }
    }

    function fp(e, t) {
        var n = {
            x: 0,
            y: 0
        };
        if (Vh)
            for (var r = e; r && "html" !== r.nodeName.toLowerCase();) {
                var i = Ah(r, "transform");
                if (/^matrix/.test(i)) {
                    var a = i.slice(7, -1).split(/,\s/).map(Number);
                    n.x += a[4], n.y += a[5]
                } else if (/^matrix3d/.test(i)) {
                    var o = i.slice(9, -1).split(/,\s/).map(Number);
                    n.x += o[12], n.y += o[13]
                }
                r = r.parentNode
            }
        var s = {},
            u = pp(t.target),
            l = pp(e),
            c = l.width,
            d = l.height,
            h = t.offsetY - (l.top - u.top),
            p = t.offsetX - (l.left - u.left);
        return t.changedTouches && (p = t.changedTouches[0].pageX - l.left, h = t.changedTouches[0].pageY + l.top, Vh && (p -= n.x, h -= n.y)), s.y = 1 - Math.max(0, Math.min(1, h / d)), s.x = Math.max(0, Math.min(1, p / c)), s
    }

    function mp(e) {
        return Sh(e) && 3 === e.nodeType
    }

    function gp(e) {
        for (; e.firstChild;) e.removeChild(e.firstChild);
        return e
    }

    function yp(e) {
        return "function" == typeof e && (e = e()), (Array.isArray(e) ? e : [e]).map((function(e) {
            return "function" == typeof e && (e = e()), Yh(e) || mp(e) ? e : "string" == typeof e && /\S/.test(e) ? Ps.createTextNode(e) : void 0
        })).filter((function(e) {
            return e
        }))
    }

    function vp(e, t) {
        return yp(t).forEach((function(t) {
            return e.appendChild(t)
        })), e
    }

    function bp(e, t) {
        return vp(gp(e), t)
    }

    function Tp(e) {
        return void 0 === e.button && void 0 === e.buttons || (0 === e.button && void 0 === e.buttons || ("mouseup" === e.type && 0 === e.button && 0 === e.buttons || 0 === e.button && 1 === e.buttons))
    }
    var _p, Sp = $h("querySelector"),
        wp = $h("querySelectorAll"),
        Ap = Object.freeze({
            __proto__: null,
            isReal: Kh,
            isEl: Yh,
            isInFrame: Qh,
            createEl: Jh,
            textContent: Zh,
            prependTo: ep,
            hasClass: tp,
            addClass: np,
            removeClass: rp,
            toggleClass: ip,
            setAttributes: ap,
            getAttributes: op,
            getAttribute: sp,
            setAttribute: up,
            removeAttribute: lp,
            blockTextSelection: cp,
            unblockTextSelection: dp,
            getBoundingClientRect: hp,
            findPosition: pp,
            getPointerPosition: fp,
            isTextNode: mp,
            emptyEl: gp,
            normalizeContent: yp,
            appendContent: vp,
            insertContent: bp,
            isSingleLeftClick: Tp,
            $: Sp,
            $$: wp
        }),
        Ep = !1,
        Cp = function() {
            if (!1 !== _p.options.autoSetup) {
                var e = Array.prototype.slice.call(Ps.getElementsByTagName("video")),
                    t = Array.prototype.slice.call(Ps.getElementsByTagName("audio")),
                    n = Array.prototype.slice.call(Ps.getElementsByTagName("video-js")),
                    r = e.concat(t, n);
                if (r && r.length > 0)
                    for (var i = 0, a = r.length; i < a; i++) {
                        var o = r[i];
                        if (!o || !o.getAttribute) {
                            Pp(1);
                            break
                        }
                        void 0 === o.player && null !== o.getAttribute("data-setup") && _p(o)
                    } else Ep || Pp(1)
            }
        };

    function Pp(e, t) {
        Kh() && (t && (_p = t), m.setTimeout(Cp, e))
    }

    function kp() {
        Ep = !0, m.removeEventListener("load", kp)
    }
    Kh() && ("complete" === Ps.readyState ? kp() : m.addEventListener("load", kp));
    var xp, Ip = function(e) {
            var t = Ps.createElement("style");
            return t.className = e, t
        },
        Mp = function(e, t) {
            e.styleSheet ? e.styleSheet.cssText = t : e.textContent = t
        },
        Lp = 3;

    function Dp() {
        return Lp++
    }
    m.WeakMap || (xp = function() {
        function e() {
            this.vdata = "vdata" + Math.floor(m.performance && m.performance.now() || Date.now()), this.data = {}
        }
        var t = e.prototype;
        return t.set = function(e, t) {
            var n = e[this.vdata] || Dp();
            return e[this.vdata] || (e[this.vdata] = n), this.data[n] = t, this
        }, t.get = function(e) {
            var t = e[this.vdata];
            if (t) return this.data[t];
            gh("We have no data for this element", e)
        }, t.has = function(e) {
            return e[this.vdata] in this.data
        }, t.delete = function(e) {
            var t = e[this.vdata];
            t && (delete this.data[t], delete e[this.vdata])
        }, e
    }());
    var Op, Rp = m.WeakMap ? new WeakMap : new xp;

    function Np(e, t) {
        if (Rp.has(e)) {
            var n = Rp.get(e);
            0 === n.handlers[t].length && (delete n.handlers[t], e.removeEventListener ? e.removeEventListener(t, n.dispatcher, !1) : e.detachEvent && e.detachEvent("on" + t, n.dispatcher)), Object.getOwnPropertyNames(n.handlers).length <= 0 && (delete n.handlers, delete n.dispatcher, delete n.disabled), 0 === Object.getOwnPropertyNames(n).length && Rp.delete(e)
        }
    }

    function Bp(e, t, n, r) {
        n.forEach((function(n) {
            e(t, n, r)
        }))
    }

    function Up(e) {
        if (e.fixed_) return e;

        function t() {
            return !0
        }

        function n() {
            return !1
        }
        if (!e || !e.isPropagationStopped || !e.isImmediatePropagationStopped) {
            var r = e || m.event;
            for (var i in e = {}, r) "layerX" !== i && "layerY" !== i && "keyLocation" !== i && "webkitMovementX" !== i && "webkitMovementY" !== i && ("returnValue" === i && r.preventDefault || (e[i] = r[i]));
            if (e.target || (e.target = e.srcElement || Ps), e.relatedTarget || (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement), e.preventDefault = function() {
                    r.preventDefault && r.preventDefault(), e.returnValue = !1, r.returnValue = !1, e.defaultPrevented = !0
                }, e.defaultPrevented = !1, e.stopPropagation = function() {
                    r.stopPropagation && r.stopPropagation(), e.cancelBubble = !0, r.cancelBubble = !0, e.isPropagationStopped = t
                }, e.isPropagationStopped = n, e.stopImmediatePropagation = function() {
                    r.stopImmediatePropagation && r.stopImmediatePropagation(), e.isImmediatePropagationStopped = t, e.stopPropagation()
                }, e.isImmediatePropagationStopped = n, null !== e.clientX && void 0 !== e.clientX) {
                var a = Ps.documentElement,
                    o = Ps.body;
                e.pageX = e.clientX + (a && a.scrollLeft || o && o.scrollLeft || 0) - (a && a.clientLeft || o && o.clientLeft || 0), e.pageY = e.clientY + (a && a.scrollTop || o && o.scrollTop || 0) - (a && a.clientTop || o && o.clientTop || 0)
            }
            e.which = e.charCode || e.keyCode, null !== e.button && void 0 !== e.button && (e.button = 1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0)
        }
        return e.fixed_ = !0, e
    }
    var Fp = ["touchstart", "touchmove"];

    function jp(e, t, n) {
        if (Array.isArray(t)) return Bp(jp, e, t, n);
        Rp.has(e) || Rp.set(e, {});
        var r = Rp.get(e);
        if (r.handlers || (r.handlers = {}), r.handlers[t] || (r.handlers[t] = []), n.guid || (n.guid = Dp()), r.handlers[t].push(n), r.dispatcher || (r.disabled = !1, r.dispatcher = function(t, n) {
                if (!r.disabled) {
                    t = Up(t);
                    var i = r.handlers[t.type];
                    if (i)
                        for (var a = i.slice(0), o = 0, s = a.length; o < s && !t.isImmediatePropagationStopped(); o++) try {
                            a[o].call(e, t, n)
                        } catch (e) {
                            gh.error(e)
                        }
                }
            }), 1 === r.handlers[t].length)
            if (e.addEventListener) {
                var i = !1;
                (function() {
                    if ("boolean" != typeof Op) {
                        Op = !1;
                        try {
                            var e = Object.defineProperty({}, "passive", {
                                get: function() {
                                    Op = !0
                                }
                            });
                            m.addEventListener("test", null, e), m.removeEventListener("test", null, e)
                        } catch (e) {}
                    }
                    return Op
                })() && Fp.indexOf(t) > -1 && (i = {
                    passive: !0
                }), e.addEventListener(t, r.dispatcher, i)
            } else e.attachEvent && e.attachEvent("on" + t, r.dispatcher)
    }

    function Hp(e, t, n) {
        if (Rp.has(e)) {
            var r = Rp.get(e);
            if (r.handlers) {
                if (Array.isArray(t)) return Bp(Hp, e, t, n);
                var i = function(e, t) {
                    r.handlers[t] = [], Np(e, t)
                };
                if (void 0 !== t) {
                    var a = r.handlers[t];
                    if (a)
                        if (n) {
                            if (n.guid)
                                for (var o = 0; o < a.length; o++) a[o].guid === n.guid && a.splice(o--, 1);
                            Np(e, t)
                        } else i(e, t)
                } else
                    for (var s in r.handlers) Object.prototype.hasOwnProperty.call(r.handlers || {}, s) && i(e, s)
            }
        }
    }

    function Gp(e, t, n) {
        var r = Rp.has(e) ? Rp.get(e) : {},
            i = e.parentNode || e.ownerDocument;
        if ("string" == typeof t ? t = {
                type: t,
                target: e
            } : t.target || (t.target = e), t = Up(t), r.dispatcher && r.dispatcher.call(e, t, n), i && !t.isPropagationStopped() && !0 === t.bubbles) Gp.call(null, i, t, n);
        else if (!i && !t.defaultPrevented && t.target && t.target[t.type]) {
            Rp.has(t.target) || Rp.set(t.target, {});
            var a = Rp.get(t.target);
            t.target[t.type] && (a.disabled = !0, "function" == typeof t.target[t.type] && t.target[t.type](), a.disabled = !1)
        }
        return !t.defaultPrevented
    }

    function Vp(e, t, n) {
        if (Array.isArray(t)) return Bp(Vp, e, t, n);
        var r = function r() {
            Hp(e, t, r), n.apply(this, arguments)
        };
        r.guid = n.guid = n.guid || Dp(), jp(e, t, r)
    }

    function Wp(e, t, n) {
        var r = function r() {
            Hp(e, t, r), n.apply(this, arguments)
        };
        r.guid = n.guid = n.guid || Dp(), jp(e, t, r)
    }
    var qp, zp = Object.freeze({
            __proto__: null,
            fixEvent: Up,
            on: jp,
            off: Hp,
            trigger: Gp,
            one: Vp,
            any: Wp
        }),
        Xp = 30,
        Kp = function(e, t, n) {
            t.guid || (t.guid = Dp());
            var r = t.bind(e);
            return r.guid = n ? n + "_" + t.guid : t.guid, r
        },
        Yp = function(e, t) {
            var n = m.performance.now();
            return function() {
                var r = m.performance.now();
                r - n >= t && (e.apply(void 0, arguments), n = r)
            }
        },
        Qp = function() {};
    Qp.prototype.allowedEvents_ = {}, Qp.prototype.on = function(e, t) {
        var n = this.addEventListener;
        this.addEventListener = function() {}, jp(this, e, t), this.addEventListener = n
    }, Qp.prototype.addEventListener = Qp.prototype.on, Qp.prototype.off = function(e, t) {
        Hp(this, e, t)
    }, Qp.prototype.removeEventListener = Qp.prototype.off, Qp.prototype.one = function(e, t) {
        var n = this.addEventListener;
        this.addEventListener = function() {}, Vp(this, e, t), this.addEventListener = n
    }, Qp.prototype.any = function(e, t) {
        var n = this.addEventListener;
        this.addEventListener = function() {}, Wp(this, e, t), this.addEventListener = n
    }, Qp.prototype.trigger = function(e) {
        var t = e.type || e;
        "string" == typeof e && (e = {
            type: t
        }), e = Up(e), this.allowedEvents_[t] && this["on" + t] && this["on" + t](e), Gp(this, e)
    }, Qp.prototype.dispatchEvent = Qp.prototype.trigger, Qp.prototype.queueTrigger = function(e) {
        var t = this;
        qp || (qp = new Map);
        var n = e.type || e,
            r = qp.get(this);
        r || (r = new Map, qp.set(this, r));
        var i = r.get(n);
        r.delete(n), m.clearTimeout(i);
        var a = m.setTimeout((function() {
            0 === r.size && (r = null, qp.delete(t)), t.trigger(e)
        }), 0);
        r.set(n, a)
    };
    var $p = function(e) {
            return "function" == typeof e.name ? e.name() : "string" == typeof e.name ? e.name : e.name_ ? e.name_ : e.constructor && e.constructor.name ? e.constructor.name : typeof e
        },
        Jp = function(e) {
            return e instanceof Qp || !!e.eventBusEl_ && ["on", "one", "off", "trigger"].every((function(t) {
                return "function" == typeof e[t]
            }))
        },
        Zp = function(e) {
            return "string" == typeof e && /\S/.test(e) || Array.isArray(e) && !!e.length
        },
        ef = function(e, t, n) {
            if (!e || !e.nodeName && !Jp(e)) throw new Error("Invalid target for " + $p(t) + "#" + n + "; must be a DOM node or evented object.")
        },
        tf = function(e, t, n) {
            if (!Zp(e)) throw new Error("Invalid event type for " + $p(t) + "#" + n + "; must be a non-empty string or array.")
        },
        nf = function(e, t, n) {
            if ("function" != typeof e) throw new Error("Invalid listener for " + $p(t) + "#" + n + "; must be a function.")
        },
        rf = function(e, t, n) {
            var r, i, a, o = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
            return o ? (r = e.eventBusEl_, t.length >= 3 && t.shift(), i = t[0], a = t[1]) : (r = t[0], i = t[1], a = t[2]), ef(r, e, n), tf(i, e, n), nf(a, e, n), {
                isTargetingSelf: o,
                target: r,
                type: i,
                listener: a = Kp(e, a)
            }
        },
        af = function(e, t, n, r) {
            ef(e, e, t), e.nodeName ? zp[t](e, n, r) : e[t](n, r)
        },
        of = {
            on: function() {
                for (var e = this, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                var i = rf(this, n, "on"),
                    a = i.isTargetingSelf,
                    o = i.target,
                    s = i.type,
                    u = i.listener;
                if (af(o, "on", s, u), !a) {
                    var l = function() {
                        return e.off(o, s, u)
                    };
                    l.guid = u.guid;
                    var c = function() {
                        return e.off("dispose", l)
                    };
                    c.guid = u.guid, af(this, "on", "dispose", l), af(o, "on", "dispose", c)
                }
            },
            one: function() {
                for (var e = this, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                var i = rf(this, n, "one"),
                    a = i.isTargetingSelf,
                    o = i.target,
                    s = i.type,
                    u = i.listener;
                if (a) af(o, "one", s, u);
                else {
                    var l = function t() {
                        e.off(o, s, t);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        u.apply(null, r)
                    };
                    l.guid = u.guid, af(o, "one", s, l)
                }
            },
            any: function() {
                for (var e = this, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                var i = rf(this, n, "any"),
                    a = i.isTargetingSelf,
                    o = i.target,
                    s = i.type,
                    u = i.listener;
                if (a) af(o, "any", s, u);
                else {
                    var l = function t() {
                        e.off(o, s, t);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        u.apply(null, r)
                    };
                    l.guid = u.guid, af(o, "any", s, l)
                }
            },
            off: function(e, t, n) {
                if (!e || Zp(e)) Hp(this.eventBusEl_, e, t);
                else {
                    var r = e,
                        i = t;
                    ef(r, this, "off"), tf(i, this, "off"), nf(n, this, "off"), n = Kp(this, n), this.off("dispose", n), r.nodeName ? (Hp(r, i, n), Hp(r, "dispose", n)) : Jp(r) && (r.off(i, n), r.off("dispose", n))
                }
            },
            trigger: function(e, t) {
                ef(this.eventBusEl_, this, "trigger");
                var n = e && "string" != typeof e ? e.type : e;
                if (!Zp(n)) {
                    var r = "Invalid event type for " + $p(this) + "#trigger; must be a non-empty string or object with a type key that has a non-empty value.";
                    if (!e) throw new Error(r);
                    (this.log || gh).error(r)
                }
                return Gp(this.eventBusEl_, e, t)
            }
        };

    function sf(e, t) {
        void 0 === t && (t = {});
        var n = t.eventBusKey;
        if (n) {
            if (!e[n].nodeName) throw new Error('The eventBusKey "' + n + '" does not refer to an element.');
            e.eventBusEl_ = e[n]
        } else e.eventBusEl_ = Jh("span", {
            className: "vjs-event-bus"
        });
        return _h(e, of ), e.eventedCallbacks && e.eventedCallbacks.forEach((function(e) {
            e()
        })), e.on("dispose", (function() {
            e.off(), m.setTimeout((function() {
                e.eventBusEl_ = null
            }), 0)
        })), e
    }
    var uf = {
        state: {},
        setState: function(e) {
            var t, n = this;
            return "function" == typeof e && (e = e()), Th(e, (function(e, r) {
                n.state[r] !== e && ((t = t || {})[r] = {
                    from: n.state[r],
                    to: e
                }), n.state[r] = e
            })), t && Jp(this) && this.trigger({
                changes: t,
                type: "statechanged"
            }), t
        }
    };

    function lf(e, t) {
        return _h(e, uf), e.state = _h({}, e.state, t), "function" == typeof e.handleStateChanged && Jp(e) && e.on("statechanged", e.handleStateChanged), e
    }
    var cf = function(e) {
            return "string" != typeof e ? e : e.replace(/./, (function(e) {
                return e.toLowerCase()
            }))
        },
        df = function(e) {
            return "string" != typeof e ? e : e.replace(/./, (function(e) {
                return e.toUpperCase()
            }))
        };

    function hf() {
        for (var e = {}, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
        return n.forEach((function(t) {
            t && Th(t, (function(t, n) {
                wh(t) ? (wh(e[n]) || (e[n] = {}), e[n] = hf(e[n], t)) : e[n] = t
            }))
        })), e
    }
    var pf = function() {
            function e() {
                this.map_ = {}
            }
            var t = e.prototype;
            return t.has = function(e) {
                return e in this.map_
            }, t.delete = function(e) {
                var t = this.has(e);
                return delete this.map_[e], t
            }, t.set = function(e, t) {
                return this.map_[e] = t, this
            }, t.forEach = function(e, t) {
                for (var n in this.map_) e.call(t, this.map_[n], n, this)
            }, e
        }(),
        ff = m.Map ? m.Map : pf,
        mf = function() {
            function e() {
                this.set_ = {}
            }
            var t = e.prototype;
            return t.has = function(e) {
                return e in this.set_
            }, t.delete = function(e) {
                var t = this.has(e);
                return delete this.set_[e], t
            }, t.add = function(e) {
                return this.set_[e] = 1, this
            }, t.forEach = function(e, t) {
                for (var n in this.set_) e.call(t, n, n, this)
            }, e
        }(),
        gf = m.Set ? m.Set : mf,
        yf = function() {
            function e(e, t, n) {
                if (!e && this.play ? this.player_ = e = this : this.player_ = e, this.isDisposed_ = !1, this.parentComponent_ = null, this.options_ = hf({}, this.options_), t = this.options_ = hf(this.options_, t), this.id_ = t.id || t.el && t.el.id, !this.id_) {
                    var r = e && e.id && e.id() || "no_player";
                    this.id_ = r + "_component_" + Dp()
                }
                this.name_ = t.name || null, t.el ? this.el_ = t.el : !1 !== t.createEl && (this.el_ = this.createEl()), !1 !== t.evented && (sf(this, {
                    eventBusKey: this.el_ ? "el_" : null
                }), this.handleLanguagechange = this.handleLanguagechange.bind(this), this.on(this.player_, "languagechange", this.handleLanguagechange)), lf(this, this.constructor.defaultState), this.children_ = [], this.childIndex_ = {}, this.childNameIndex_ = {}, this.setTimeoutIds_ = new gf, this.setIntervalIds_ = new gf, this.rafIds_ = new gf, this.namedRafs_ = new ff, this.clearingTimersOnDispose_ = !1, !1 !== t.initChildren && this.initChildren(), this.ready(n), !1 !== t.reportTouchActivity && this.enableTouchActivity()
            }
            var t = e.prototype;
            return t.dispose = function() {
                if (!this.isDisposed_) {
                    if (this.readyQueue_ && (this.readyQueue_.length = 0), this.trigger({
                            type: "dispose",
                            bubbles: !1
                        }), this.isDisposed_ = !0, this.children_)
                        for (var e = this.children_.length - 1; e >= 0; e--) this.children_[e].dispose && this.children_[e].dispose();
                    this.children_ = null, this.childIndex_ = null, this.childNameIndex_ = null, this.parentComponent_ = null, this.el_ && (this.el_.parentNode && this.el_.parentNode.removeChild(this.el_), Rp.has(this.el_) && Rp.delete(this.el_), this.el_ = null), this.player_ = null
                }
            }, t.isDisposed = function() {
                return Boolean(this.isDisposed_)
            }, t.player = function() {
                return this.player_
            }, t.options = function(e) {
                return e ? (this.options_ = hf(this.options_, e), this.options_) : this.options_
            }, t.el = function() {
                return this.el_
            }, t.createEl = function(e, t, n) {
                return Jh(e, t, n)
            }, t.localize = function(e, t, n) {
                void 0 === n && (n = e);
                var r = this.player_.language && this.player_.language(),
                    i = this.player_.languages && this.player_.languages(),
                    a = i && i[r],
                    o = r && r.split("-")[0],
                    s = i && i[o],
                    u = n;
                return a && a[e] ? u = a[e] : s && s[e] && (u = s[e]), t && (u = u.replace(/\{(\d+)\}/g, (function(e, n) {
                    var r = t[n - 1],
                        i = r;
                    return void 0 === r && (i = e), i
                }))), u
            }, t.handleLanguagechange = function() {}, t.contentEl = function() {
                return this.contentEl_ || this.el_
            }, t.id = function() {
                return this.id_
            }, t.name = function() {
                return this.name_
            }, t.children = function() {
                return this.children_
            }, t.getChildById = function(e) {
                return this.childIndex_[e]
            }, t.getChild = function(e) {
                if (e) return this.childNameIndex_[e]
            }, t.getDescendant = function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                t = t.reduce((function(e, t) {
                    return e.concat(t)
                }), []);
                for (var r = this, i = 0; i < t.length; i++)
                    if (!(r = r.getChild(t[i])) || !r.getChild) return;
                return r
            }, t.addChild = function(t, n, r) {
                var i, a;
                if (void 0 === n && (n = {}), void 0 === r && (r = this.children_.length), "string" == typeof t) {
                    a = df(t);
                    var o = n.componentClass || a;
                    n.name = a;
                    var s = e.getComponent(o);
                    if (!s) throw new Error("Component " + o + " does not exist");
                    if ("function" != typeof s) return null;
                    i = new s(this.player_ || this, n)
                } else i = t;
                if (i.parentComponent_ && i.parentComponent_.removeChild(i), this.children_.splice(r, 0, i), i.parentComponent_ = this, "function" == typeof i.id && (this.childIndex_[i.id()] = i), (a = a || i.name && df(i.name())) && (this.childNameIndex_[a] = i, this.childNameIndex_[cf(a)] = i), "function" == typeof i.el && i.el()) {
                    var u = null;
                    this.children_[r + 1] && (this.children_[r + 1].el_ ? u = this.children_[r + 1].el_ : Yh(this.children_[r + 1]) && (u = this.children_[r + 1])), this.contentEl().insertBefore(i.el(), u)
                }
                return i
            }, t.removeChild = function(e) {
                if ("string" == typeof e && (e = this.getChild(e)), e && this.children_) {
                    for (var t = !1, n = this.children_.length - 1; n >= 0; n--)
                        if (this.children_[n] === e) {
                            t = !0, this.children_.splice(n, 1);
                            break
                        } if (t) {
                        e.parentComponent_ = null, this.childIndex_[e.id()] = null, this.childNameIndex_[df(e.name())] = null, this.childNameIndex_[cf(e.name())] = null;
                        var r = e.el();
                        r && r.parentNode === this.contentEl() && this.contentEl().removeChild(e.el())
                    }
                }
            }, t.initChildren = function() {
                var t = this,
                    n = this.options_.children;
                if (n) {
                    var r, i = this.options_,
                        a = e.getComponent("Tech");
                    (r = Array.isArray(n) ? n : Object.keys(n)).concat(Object.keys(this.options_).filter((function(e) {
                        return !r.some((function(t) {
                            return "string" == typeof t ? e === t : e === t.name
                        }))
                    }))).map((function(e) {
                        var r, i;
                        return "string" == typeof e ? i = n[r = e] || t.options_[r] || {} : (r = e.name, i = e), {
                            name: r,
                            opts: i
                        }
                    })).filter((function(t) {
                        var n = e.getComponent(t.opts.componentClass || df(t.name));
                        return n && !a.isTech(n)
                    })).forEach((function(e) {
                        var n = e.name,
                            r = e.opts;
                        if (void 0 !== i[n] && (r = i[n]), !1 !== r) {
                            !0 === r && (r = {}), r.playerOptions = t.options_.playerOptions;
                            var a = t.addChild(n, r);
                            a && (t[n] = a)
                        }
                    }))
                }
            }, t.buildCSSClass = function() {
                return ""
            }, t.ready = function(e, t) {
                if (void 0 === t && (t = !1), e) return this.isReady_ ? void(t ? e.call(this) : this.setTimeout(e, 1)) : (this.readyQueue_ = this.readyQueue_ || [], void this.readyQueue_.push(e))
            }, t.triggerReady = function() {
                this.isReady_ = !0, this.setTimeout((function() {
                    var e = this.readyQueue_;
                    this.readyQueue_ = [], e && e.length > 0 && e.forEach((function(e) {
                        e.call(this)
                    }), this), this.trigger("ready")
                }), 1)
            }, t.$ = function(e, t) {
                return Sp(e, t || this.contentEl())
            }, t.$$ = function(e, t) {
                return wp(e, t || this.contentEl())
            }, t.hasClass = function(e) {
                return tp(this.el_, e)
            }, t.addClass = function(e) {
                np(this.el_, e)
            }, t.removeClass = function(e) {
                rp(this.el_, e)
            }, t.toggleClass = function(e, t) {
                ip(this.el_, e, t)
            }, t.show = function() {
                this.removeClass("vjs-hidden")
            }, t.hide = function() {
                this.addClass("vjs-hidden")
            }, t.lockShowing = function() {
                this.addClass("vjs-lock-showing")
            }, t.unlockShowing = function() {
                this.removeClass("vjs-lock-showing")
            }, t.getAttribute = function(e) {
                return sp(this.el_, e)
            }, t.setAttribute = function(e, t) {
                up(this.el_, e, t)
            }, t.removeAttribute = function(e) {
                lp(this.el_, e)
            }, t.width = function(e, t) {
                return this.dimension("width", e, t)
            }, t.height = function(e, t) {
                return this.dimension("height", e, t)
            }, t.dimensions = function(e, t) {
                this.width(e, !0), this.height(t)
            }, t.dimension = function(e, t, n) {
                if (void 0 !== t) return null !== t && t == t || (t = 0), -1 !== ("" + t).indexOf("%") || -1 !== ("" + t).indexOf("px") ? this.el_.style[e] = t : this.el_.style[e] = "auto" === t ? "" : t + "px", void(n || this.trigger("componentresize"));
                if (!this.el_) return 0;
                var r = this.el_.style[e],
                    i = r.indexOf("px");
                return -1 !== i ? parseInt(r.slice(0, i), 10) : parseInt(this.el_["offset" + df(e)], 10)
            }, t.currentDimension = function(e) {
                var t = 0;
                if ("width" !== e && "height" !== e) throw new Error("currentDimension only accepts width or height value");
                if (t = Ah(this.el_, e), 0 === (t = parseFloat(t)) || isNaN(t)) {
                    var n = "offset" + df(e);
                    t = this.el_[n]
                }
                return t
            }, t.currentDimensions = function() {
                return {
                    width: this.currentDimension("width"),
                    height: this.currentDimension("height")
                }
            }, t.currentWidth = function() {
                return this.currentDimension("width")
            }, t.currentHeight = function() {
                return this.currentDimension("height")
            }, t.focus = function() {
                this.el_.focus()
            }, t.blur = function() {
                this.el_.blur()
            }, t.handleKeyDown = function(e) {
                this.player_ && (e.stopPropagation(), this.player_.handleKeyDown(e))
            }, t.handleKeyPress = function(e) {
                this.handleKeyDown(e)
            }, t.emitTapEvents = function() {
                var e, t = 0,
                    n = null;
                this.on("touchstart", (function(r) {
                    1 === r.touches.length && (n = {
                        pageX: r.touches[0].pageX,
                        pageY: r.touches[0].pageY
                    }, t = m.performance.now(), e = !0)
                })), this.on("touchmove", (function(t) {
                    if (t.touches.length > 1) e = !1;
                    else if (n) {
                        var r = t.touches[0].pageX - n.pageX,
                            i = t.touches[0].pageY - n.pageY;
                        Math.sqrt(r * r + i * i) > 10 && (e = !1)
                    }
                }));
                var r = function() {
                    e = !1
                };
                this.on("touchleave", r), this.on("touchcancel", r), this.on("touchend", (function(r) {
                    (n = null, !0 === e) && (m.performance.now() - t < 200 && (r.preventDefault(), this.trigger("tap")))
                }))
            }, t.enableTouchActivity = function() {
                if (this.player() && this.player().reportUserActivity) {
                    var e, t = Kp(this.player(), this.player().reportUserActivity);
                    this.on("touchstart", (function() {
                        t(), this.clearInterval(e), e = this.setInterval(t, 250)
                    }));
                    var n = function(n) {
                        t(), this.clearInterval(e)
                    };
                    this.on("touchmove", t), this.on("touchend", n), this.on("touchcancel", n)
                }
            }, t.setTimeout = function(e, t) {
                var n, r = this;
                return e = Kp(this, e), this.clearTimersOnDispose_(), n = m.setTimeout((function() {
                    r.setTimeoutIds_.has(n) && r.setTimeoutIds_.delete(n), e()
                }), t), this.setTimeoutIds_.add(n), n
            }, t.clearTimeout = function(e) {
                return this.setTimeoutIds_.has(e) && (this.setTimeoutIds_.delete(e), m.clearTimeout(e)), e
            }, t.setInterval = function(e, t) {
                e = Kp(this, e), this.clearTimersOnDispose_();
                var n = m.setInterval(e, t);
                return this.setIntervalIds_.add(n), n
            }, t.clearInterval = function(e) {
                return this.setIntervalIds_.has(e) && (this.setIntervalIds_.delete(e), m.clearInterval(e)), e
            }, t.requestAnimationFrame = function(e) {
                var t, n = this;
                return this.supportsRaf_ ? (this.clearTimersOnDispose_(), e = Kp(this, e), t = m.requestAnimationFrame((function() {
                    n.rafIds_.has(t) && n.rafIds_.delete(t), e()
                })), this.rafIds_.add(t), t) : this.setTimeout(e, 1e3 / 60)
            }, t.requestNamedAnimationFrame = function(e, t) {
                var n = this;
                if (!this.namedRafs_.has(e)) {
                    this.clearTimersOnDispose_(), t = Kp(this, t);
                    var r = this.requestAnimationFrame((function() {
                        t(), n.namedRafs_.has(e) && n.namedRafs_.delete(e)
                    }));
                    return this.namedRafs_.set(e, r), e
                }
            }, t.cancelNamedAnimationFrame = function(e) {
                this.namedRafs_.has(e) && (this.cancelAnimationFrame(this.namedRafs_.get(e)), this.namedRafs_.delete(e))
            }, t.cancelAnimationFrame = function(e) {
                return this.supportsRaf_ ? (this.rafIds_.has(e) && (this.rafIds_.delete(e), m.cancelAnimationFrame(e)), e) : this.clearTimeout(e)
            }, t.clearTimersOnDispose_ = function() {
                var e = this;
                this.clearingTimersOnDispose_ || (this.clearingTimersOnDispose_ = !0, this.one("dispose", (function() {
                    [
                        ["namedRafs_", "cancelNamedAnimationFrame"],
                        ["rafIds_", "cancelAnimationFrame"],
                        ["setTimeoutIds_", "clearTimeout"],
                        ["setIntervalIds_", "clearInterval"]
                    ].forEach((function(t) {
                        var n = t[0],
                            r = t[1];
                        e[n].forEach((function(t, n) {
                            return e[r](n)
                        }))
                    })), e.clearingTimersOnDispose_ = !1
                })))
            }, e.registerComponent = function(t, n) {
                if ("string" != typeof t || !t) throw new Error('Illegal component name, "' + t + '"; must be a non-empty string.');
                var r, i = e.getComponent("Tech"),
                    a = i && i.isTech(n),
                    o = e === n || e.prototype.isPrototypeOf(n.prototype);
                if (a || !o) throw r = a ? "techs must be registered using Tech.registerTech()" : "must be a Component subclass", new Error('Illegal component, "' + t + '"; ' + r + ".");
                t = df(t), e.components_ || (e.components_ = {});
                var s = e.getComponent("Player");
                if ("Player" === t && s && s.players) {
                    var u = s.players,
                        l = Object.keys(u);
                    if (u && l.length > 0 && l.map((function(e) {
                            return u[e]
                        })).every(Boolean)) throw new Error("Can not register Player component after player has been created.")
                }
                return e.components_[t] = n, e.components_[cf(t)] = n, n
            }, e.getComponent = function(t) {
                if (t && e.components_) return e.components_[t]
            }, e
        }();

    function vf(e, t, n, r) {
        return function(e, t, n) {
            if ("number" != typeof t || t < 0 || t > n) throw new Error("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + t + ") is non-numeric or out of bounds (0-" + n + ").")
        }(e, r, n.length - 1), n[r][t]
    }

    function bf(e) {
        return void 0 === e || 0 === e.length ? {
            length: 0,
            start: function() {
                throw new Error("This TimeRanges object is empty")
            },
            end: function() {
                throw new Error("This TimeRanges object is empty")
            }
        } : {
            length: e.length,
            start: vf.bind(null, "start", 0, e),
            end: vf.bind(null, "end", 1, e)
        }
    }

    function Tf(e, t) {
        return Array.isArray(e) ? bf(e) : void 0 === e || void 0 === t ? bf() : bf([
            [e, t]
        ])
    }

    function _f(e, t) {
        var n, r, i = 0;
        if (!t) return 0;
        e && e.length || (e = Tf(0, 0));
        for (var a = 0; a < e.length; a++) n = e.start(a), (r = e.end(a)) > t && (r = t), i += r - n;
        return i / t
    }

    function Sf(e) {
        if (e instanceof Sf) return e;
        "number" == typeof e ? this.code = e : "string" == typeof e ? this.message = e : Sh(e) && ("number" == typeof e.code && (this.code = e.code), _h(this, e)), this.message || (this.message = Sf.defaultMessages[this.code] || "")
    }
    yf.prototype.supportsRaf_ = "function" == typeof m.requestAnimationFrame && "function" == typeof m.cancelAnimationFrame, yf.registerComponent("Component", yf), Sf.prototype.code = 0, Sf.prototype.message = "", Sf.prototype.status = null, Sf.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"], Sf.defaultMessages = {
        1: "You aborted the media playback",
        2: "A network error caused the media download to fail part-way.",
        3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
        4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
        5: "The media is encrypted and we do not have the keys to decrypt it."
    };
    for (var wf = 0; wf < Sf.errorTypes.length; wf++) Sf[Sf.errorTypes[wf]] = wf, Sf.prototype[Sf.errorTypes[wf]] = wf;

    function Af(e) {
        return null != e && "function" == typeof e.then
    }

    function Ef(e) {
        Af(e) && e.then(null, (function(e) {}))
    }
    var Cf = function(e) {
            return ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce((function(t, n, r) {
                return e[n] && (t[n] = e[n]), t
            }), {
                cues: e.cues && Array.prototype.map.call(e.cues, (function(e) {
                    return {
                        startTime: e.startTime,
                        endTime: e.endTime,
                        text: e.text,
                        id: e.id
                    }
                }))
            })
        },
        Pf = function(e) {
            var t = e.$$("track"),
                n = Array.prototype.map.call(t, (function(e) {
                    return e.track
                }));
            return Array.prototype.map.call(t, (function(e) {
                var t = Cf(e.track);
                return e.src && (t.src = e.src), t
            })).concat(Array.prototype.filter.call(e.textTracks(), (function(e) {
                return -1 === n.indexOf(e)
            })).map(Cf))
        },
        kf = function(e, t) {
            return e.forEach((function(e) {
                var n = t.addRemoteTextTrack(e).track;
                !e.src && e.cues && e.cues.forEach((function(e) {
                    return n.addCue(e)
                }))
            })), t.textTracks()
        },
        xf = function(e) {
            function t(t, n) {
                var r;
                return (r = e.call(this, t, n) || this).handleKeyDown_ = function(e) {
                    return r.handleKeyDown(e)
                }, r.close_ = function(e) {
                    return r.close(e)
                }, r.opened_ = r.hasBeenOpened_ = r.hasBeenFilled_ = !1, r.closeable(!r.options_.uncloseable), r.content(r.options_.content), r.contentEl_ = Jh("div", {
                    className: "vjs-modal-dialog-content"
                }, {
                    role: "document"
                }), r.descEl_ = Jh("p", {
                    className: "vjs-modal-dialog-description vjs-control-text",
                    id: r.el().getAttribute("aria-describedby")
                }), Zh(r.descEl_, r.description()), r.el_.appendChild(r.descEl_), r.el_.appendChild(r.contentEl_), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: this.buildCSSClass(),
                    tabIndex: -1
                }, {
                    "aria-describedby": this.id() + "_description",
                    "aria-hidden": "true",
                    "aria-label": this.label(),
                    role: "dialog"
                })
            }, n.dispose = function() {
                this.contentEl_ = null, this.descEl_ = null, this.previouslyActiveEl_ = null, e.prototype.dispose.call(this)
            }, n.buildCSSClass = function() {
                return "vjs-modal-dialog vjs-hidden " + e.prototype.buildCSSClass.call(this)
            }, n.label = function() {
                return this.localize(this.options_.label || "Modal Window")
            }, n.description = function() {
                var e = this.options_.description || this.localize("This is a modal window.");
                return this.closeable() && (e += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")), e
            }, n.open = function() {
                if (!this.opened_) {
                    var e = this.player();
                    this.trigger("beforemodalopen"), this.opened_ = !0, (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) && this.fill(), this.wasPlaying_ = !e.paused(), this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(), this.on("keydown", this.handleKeyDown_), this.hadControls_ = e.controls(), e.controls(!1), this.show(), this.conditionalFocus_(), this.el().setAttribute("aria-hidden", "false"), this.trigger("modalopen"), this.hasBeenOpened_ = !0
                }
            }, n.opened = function(e) {
                return "boolean" == typeof e && this[e ? "open" : "close"](), this.opened_
            }, n.close = function() {
                if (this.opened_) {
                    var e = this.player();
                    this.trigger("beforemodalclose"), this.opened_ = !1, this.wasPlaying_ && this.options_.pauseOnOpen && e.play(), this.off("keydown", this.handleKeyDown_), this.hadControls_ && e.controls(!0), this.hide(), this.el().setAttribute("aria-hidden", "true"), this.trigger("modalclose"), this.conditionalBlur_(), this.options_.temporary && this.dispose()
                }
            }, n.closeable = function(e) {
                if ("boolean" == typeof e) {
                    var t = this.closeable_ = !!e,
                        n = this.getChild("closeButton");
                    if (t && !n) {
                        var r = this.contentEl_;
                        this.contentEl_ = this.el_, n = this.addChild("closeButton", {
                            controlText: "Close Modal Dialog"
                        }), this.contentEl_ = r, this.on(n, "close", this.close_)
                    }!t && n && (this.off(n, "close", this.close_), this.removeChild(n), n.dispose())
                }
                return this.closeable_
            }, n.fill = function() {
                this.fillWith(this.content())
            }, n.fillWith = function(e) {
                var t = this.contentEl(),
                    n = t.parentNode,
                    r = t.nextSibling;
                this.trigger("beforemodalfill"), this.hasBeenFilled_ = !0, n.removeChild(t), this.empty(), bp(t, e), this.trigger("modalfill"), r ? n.insertBefore(t, r) : n.appendChild(t);
                var i = this.getChild("closeButton");
                i && n.appendChild(i.el_)
            }, n.empty = function() {
                this.trigger("beforemodalempty"), gp(this.contentEl()), this.trigger("modalempty")
            }, n.content = function(e) {
                return void 0 !== e && (this.content_ = e), this.content_
            }, n.conditionalFocus_ = function() {
                var e = Ps.activeElement,
                    t = this.player_.el_;
                this.previouslyActiveEl_ = null, (t.contains(e) || t === e) && (this.previouslyActiveEl_ = e, this.focus())
            }, n.conditionalBlur_ = function() {
                this.previouslyActiveEl_ && (this.previouslyActiveEl_.focus(), this.previouslyActiveEl_ = null)
            }, n.handleKeyDown = function(e) {
                if (e.stopPropagation(), Os.isEventKey(e, "Escape") && this.closeable()) return e.preventDefault(), void this.close();
                if (Os.isEventKey(e, "Tab")) {
                    for (var t, n = this.focusableEls_(), r = this.el_.querySelector(":focus"), i = 0; i < n.length; i++)
                        if (r === n[i]) {
                            t = i;
                            break
                        } Ps.activeElement === this.el_ && (t = 0), e.shiftKey && 0 === t ? (n[n.length - 1].focus(), e.preventDefault()) : e.shiftKey || t !== n.length - 1 || (n[0].focus(), e.preventDefault())
                }
            }, n.focusableEls_ = function() {
                var e = this.el_.querySelectorAll("*");
                return Array.prototype.filter.call(e, (function(e) {
                    return (e instanceof m.HTMLAnchorElement || e instanceof m.HTMLAreaElement) && e.hasAttribute("href") || (e instanceof m.HTMLInputElement || e instanceof m.HTMLSelectElement || e instanceof m.HTMLTextAreaElement || e instanceof m.HTMLButtonElement) && !e.hasAttribute("disabled") || e instanceof m.HTMLIFrameElement || e instanceof m.HTMLObjectElement || e instanceof m.HTMLEmbedElement || e.hasAttribute("tabindex") && -1 !== e.getAttribute("tabindex") || e.hasAttribute("contenteditable")
                }))
            }, t
        }(yf);
    xf.prototype.options_ = {
        pauseOnOpen: !0,
        temporary: !0
    }, yf.registerComponent("ModalDialog", xf);
    var If = function(e) {
        function t(t) {
            var n;
            void 0 === t && (t = []), (n = e.call(this) || this).tracks_ = [], Object.defineProperty(xs(n), "length", {
                get: function() {
                    return this.tracks_.length
                }
            });
            for (var r = 0; r < t.length; r++) n.addTrack(t[r]);
            return n
        }
        Ms(t, e);
        var n = t.prototype;
        return n.addTrack = function(e) {
            var t = this,
                n = this.tracks_.length;
            "" + n in this || Object.defineProperty(this, n, {
                get: function() {
                    return this.tracks_[n]
                }
            }), -1 === this.tracks_.indexOf(e) && (this.tracks_.push(e), this.trigger({
                track: e,
                type: "addtrack",
                target: this
            })), e.labelchange_ = function() {
                t.trigger({
                    track: e,
                    type: "labelchange",
                    target: t
                })
            }, Jp(e) && e.addEventListener("labelchange", e.labelchange_)
        }, n.removeTrack = function(e) {
            for (var t, n = 0, r = this.length; n < r; n++)
                if (this[n] === e) {
                    (t = this[n]).off && t.off(), this.tracks_.splice(n, 1);
                    break
                } t && this.trigger({
                track: t,
                type: "removetrack",
                target: this
            })
        }, n.getTrackById = function(e) {
            for (var t = null, n = 0, r = this.length; n < r; n++) {
                var i = this[n];
                if (i.id === e) {
                    t = i;
                    break
                }
            }
            return t
        }, t
    }(Qp);
    for (var Mf in If.prototype.allowedEvents_ = {
            change: "change",
            addtrack: "addtrack",
            removetrack: "removetrack",
            labelchange: "labelchange"
        }, If.prototype.allowedEvents_) If.prototype["on" + Mf] = null;
    var Lf = function(e, t) {
            for (var n = 0; n < e.length; n++) Object.keys(e[n]).length && t.id !== e[n].id && (e[n].enabled = !1)
        },
        Df = function(e) {
            function t(t) {
                var n;
                void 0 === t && (t = []);
                for (var r = t.length - 1; r >= 0; r--)
                    if (t[r].enabled) {
                        Lf(t, t[r]);
                        break
                    } return (n = e.call(this, t) || this).changing_ = !1, n
            }
            Ms(t, e);
            var n = t.prototype;
            return n.addTrack = function(t) {
                var n = this;
                t.enabled && Lf(this, t), e.prototype.addTrack.call(this, t), t.addEventListener && (t.enabledChange_ = function() {
                    n.changing_ || (n.changing_ = !0, Lf(n, t), n.changing_ = !1, n.trigger("change"))
                }, t.addEventListener("enabledchange", t.enabledChange_))
            }, n.removeTrack = function(t) {
                e.prototype.removeTrack.call(this, t), t.removeEventListener && t.enabledChange_ && (t.removeEventListener("enabledchange", t.enabledChange_), t.enabledChange_ = null)
            }, t
        }(If),
        Of = function(e, t) {
            for (var n = 0; n < e.length; n++) Object.keys(e[n]).length && t.id !== e[n].id && (e[n].selected = !1)
        },
        Rf = function(e) {
            function t(t) {
                var n;
                void 0 === t && (t = []);
                for (var r = t.length - 1; r >= 0; r--)
                    if (t[r].selected) {
                        Of(t, t[r]);
                        break
                    } return (n = e.call(this, t) || this).changing_ = !1, Object.defineProperty(xs(n), "selectedIndex", {
                    get: function() {
                        for (var e = 0; e < this.length; e++)
                            if (this[e].selected) return e;
                        return -1
                    },
                    set: function() {}
                }), n
            }
            Ms(t, e);
            var n = t.prototype;
            return n.addTrack = function(t) {
                var n = this;
                t.selected && Of(this, t), e.prototype.addTrack.call(this, t), t.addEventListener && (t.selectedChange_ = function() {
                    n.changing_ || (n.changing_ = !0, Of(n, t), n.changing_ = !1, n.trigger("change"))
                }, t.addEventListener("selectedchange", t.selectedChange_))
            }, n.removeTrack = function(t) {
                e.prototype.removeTrack.call(this, t), t.removeEventListener && t.selectedChange_ && (t.removeEventListener("selectedchange", t.selectedChange_), t.selectedChange_ = null)
            }, t
        }(If),
        Nf = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            Ms(t, e);
            var n = t.prototype;
            return n.addTrack = function(t) {
                var n = this;
                e.prototype.addTrack.call(this, t), this.queueChange_ || (this.queueChange_ = function() {
                    return n.queueTrigger("change")
                }), this.triggerSelectedlanguagechange || (this.triggerSelectedlanguagechange_ = function() {
                    return n.trigger("selectedlanguagechange")
                }), t.addEventListener("modechange", this.queueChange_); - 1 === ["metadata", "chapters"].indexOf(t.kind) && t.addEventListener("modechange", this.triggerSelectedlanguagechange_)
            }, n.removeTrack = function(t) {
                e.prototype.removeTrack.call(this, t), t.removeEventListener && (this.queueChange_ && t.removeEventListener("modechange", this.queueChange_), this.selectedlanguagechange_ && t.removeEventListener("modechange", this.triggerSelectedlanguagechange_))
            }, t
        }(If),
        Bf = function() {
            function e(e) {
                void 0 === e && (e = []), this.trackElements_ = [], Object.defineProperty(this, "length", {
                    get: function() {
                        return this.trackElements_.length
                    }
                });
                for (var t = 0, n = e.length; t < n; t++) this.addTrackElement_(e[t])
            }
            var t = e.prototype;
            return t.addTrackElement_ = function(e) {
                var t = this.trackElements_.length;
                "" + t in this || Object.defineProperty(this, t, {
                    get: function() {
                        return this.trackElements_[t]
                    }
                }), -1 === this.trackElements_.indexOf(e) && this.trackElements_.push(e)
            }, t.getTrackElementByTrack_ = function(e) {
                for (var t, n = 0, r = this.trackElements_.length; n < r; n++)
                    if (e === this.trackElements_[n].track) {
                        t = this.trackElements_[n];
                        break
                    } return t
            }, t.removeTrackElement_ = function(e) {
                for (var t = 0, n = this.trackElements_.length; t < n; t++)
                    if (e === this.trackElements_[t]) {
                        this.trackElements_[t].track && "function" == typeof this.trackElements_[t].track.off && this.trackElements_[t].track.off(), "function" == typeof this.trackElements_[t].off && this.trackElements_[t].off(), this.trackElements_.splice(t, 1);
                        break
                    }
            }, e
        }(),
        Uf = function() {
            function e(t) {
                e.prototype.setCues_.call(this, t), Object.defineProperty(this, "length", {
                    get: function() {
                        return this.length_
                    }
                })
            }
            var t = e.prototype;
            return t.setCues_ = function(e) {
                var t = this.length || 0,
                    n = 0,
                    r = e.length;
                this.cues_ = e, this.length_ = e.length;
                var i = function(e) {
                    "" + e in this || Object.defineProperty(this, "" + e, {
                        get: function() {
                            return this.cues_[e]
                        }
                    })
                };
                if (t < r)
                    for (n = t; n < r; n++) i.call(this, n)
            }, t.getCueById = function(e) {
                for (var t = null, n = 0, r = this.length; n < r; n++) {
                    var i = this[n];
                    if (i.id === e) {
                        t = i;
                        break
                    }
                }
                return t
            }, e
        }(),
        Ff = {
            alternative: "alternative",
            captions: "captions",
            main: "main",
            sign: "sign",
            subtitles: "subtitles",
            commentary: "commentary"
        },
        jf = {
            alternative: "alternative",
            descriptions: "descriptions",
            main: "main",
            "main-desc": "main-desc",
            translation: "translation",
            commentary: "commentary"
        },
        Hf = {
            subtitles: "subtitles",
            captions: "captions",
            descriptions: "descriptions",
            chapters: "chapters",
            metadata: "metadata"
        },
        Gf = {
            disabled: "disabled",
            hidden: "hidden",
            showing: "showing"
        },
        Vf = function(e) {
            function t(t) {
                var n;
                void 0 === t && (t = {}), n = e.call(this) || this;
                var r = {
                        id: t.id || "vjs_track_" + Dp(),
                        kind: t.kind || "",
                        language: t.language || ""
                    },
                    i = t.label || "",
                    a = function(e) {
                        Object.defineProperty(xs(n), e, {
                            get: function() {
                                return r[e]
                            },
                            set: function() {}
                        })
                    };
                for (var o in r) a(o);
                return Object.defineProperty(xs(n), "label", {
                    get: function() {
                        return i
                    },
                    set: function(e) {
                        e !== i && (i = e, this.trigger("labelchange"))
                    }
                }), n
            }
            return Ms(t, e), t
        }(Qp),
        Wf = function(e) {
            var t = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"],
                n = Ps.createElement("a");
            n.href = e;
            for (var r = {}, i = 0; i < t.length; i++) r[t[i]] = n[t[i]];
            return "http:" === r.protocol && (r.host = r.host.replace(/:80$/, "")), "https:" === r.protocol && (r.host = r.host.replace(/:443$/, "")), r.protocol || (r.protocol = m.location.protocol), r.host || (r.host = m.location.host), r
        },
        qf = function(e) {
            if (!e.match(/^https?:\/\//)) {
                var t = Ps.createElement("a");
                t.href = e, e = t.href
            }
            return e
        },
        zf = function(e) {
            if ("string" == typeof e) {
                var t = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);
                if (t) return t.pop().toLowerCase()
            }
            return ""
        },
        Xf = function(e, t) {
            void 0 === t && (t = m.location);
            var n = Wf(e);
            return (":" === n.protocol ? t.protocol : n.protocol) + n.host !== t.protocol + t.host
        },
        Kf = Object.freeze({
            __proto__: null,
            parseUrl: Wf,
            getAbsoluteURL: qf,
            getFileExtension: zf,
            isCrossOrigin: Xf
        }),
        Yf = function(e, t) {
            var n = new m.WebVTT.Parser(m, m.vttjs, m.WebVTT.StringDecoder()),
                r = [];
            n.oncue = function(e) {
                t.addCue(e)
            }, n.onparsingerror = function(e) {
                r.push(e)
            }, n.onflush = function() {
                t.trigger({
                    type: "loadeddata",
                    target: t
                })
            }, n.parse(e), r.length > 0 && (m.console && m.console.groupCollapsed && m.console.groupCollapsed("Text Track parsing errors for " + t.src), r.forEach((function(e) {
                return gh.error(e)
            })), m.console && m.console.groupEnd && m.console.groupEnd()), n.flush()
        },
        Qf = function(e, t) {
            var n = {
                    uri: e
                },
                r = Xf(e);
            r && (n.cors = r);
            var i = "use-credentials" === t.tech_.crossOrigin();
            i && (n.withCredentials = i), qs(n, Kp(this, (function(e, n, r) {
                if (e) return gh.error(e, n);
                t.loaded_ = !0, "function" != typeof m.WebVTT ? t.tech_ && t.tech_.any(["vttjsloaded", "vttjserror"], (function(e) {
                    if ("vttjserror" !== e.type) return Yf(r, t);
                    gh.error("vttjs failed to load, stopping trying to process " + t.src)
                })) : Yf(r, t)
            })))
        },
        $f = function(e) {
            function t(t) {
                var n;
                if (void 0 === t && (t = {}), !t.tech) throw new Error("A tech was not provided.");
                var r = hf(t, {
                        kind: Hf[t.kind] || "subtitles",
                        language: t.language || t.srclang || ""
                    }),
                    i = Gf[r.mode] || "disabled",
                    a = r.default;
                "metadata" !== r.kind && "chapters" !== r.kind || (i = "hidden"), (n = e.call(this, r) || this).tech_ = r.tech, n.cues_ = [], n.activeCues_ = [], n.preload_ = !1 !== n.tech_.preloadTextTracks;
                var o = new Uf(n.cues_),
                    s = new Uf(n.activeCues_),
                    u = !1,
                    l = Kp(xs(n), (function() {
                        this.tech_.isReady_ && !this.tech_.isDisposed() && (this.activeCues = this.activeCues, u && (this.trigger("cuechange"), u = !1))
                    }));
                return n.tech_.one("dispose", (function() {
                    n.tech_.off("timeupdate", l)
                })), "disabled" !== i && n.tech_.on("timeupdate", l), Object.defineProperties(xs(n), {
                    default: {
                        get: function() {
                            return a
                        },
                        set: function() {}
                    },
                    mode: {
                        get: function() {
                            return i
                        },
                        set: function(e) {
                            Gf[e] && i !== e && (i = e, this.preload_ || "disabled" === i || 0 !== this.cues.length || Qf(this.src, this), this.tech_.off("timeupdate", l), "disabled" !== i && this.tech_.on("timeupdate", l), this.trigger("modechange"))
                        }
                    },
                    cues: {
                        get: function() {
                            return this.loaded_ ? o : null
                        },
                        set: function() {}
                    },
                    activeCues: {
                        get: function() {
                            if (!this.loaded_) return null;
                            if (0 === this.cues.length) return s;
                            for (var e = this.tech_.currentTime(), t = [], n = 0, r = this.cues.length; n < r; n++) {
                                var i = this.cues[n];
                                (i.startTime <= e && i.endTime >= e || i.startTime === i.endTime && i.startTime <= e && i.startTime + .5 >= e) && t.push(i)
                            }
                            if (u = !1, t.length !== this.activeCues_.length) u = !0;
                            else
                                for (var a = 0; a < t.length; a++) - 1 === this.activeCues_.indexOf(t[a]) && (u = !0);
                            return this.activeCues_ = t, s.setCues_(this.activeCues_), s
                        },
                        set: function() {}
                    }
                }), r.src ? (n.src = r.src, n.preload_ || (n.loaded_ = !0), (n.preload_ || "subtitles" !== r.kind && "captions" !== r.kind) && Qf(n.src, xs(n))) : n.loaded_ = !0, n
            }
            Ms(t, e);
            var n = t.prototype;
            return n.addCue = function(e) {
                var t = e;
                if (m.vttjs && !(e instanceof m.vttjs.VTTCue)) {
                    for (var n in t = new m.vttjs.VTTCue(e.startTime, e.endTime, e.text), e) n in t || (t[n] = e[n]);
                    t.id = e.id, t.originalCue_ = e
                }
                for (var r = this.tech_.textTracks(), i = 0; i < r.length; i++) r[i] !== this && r[i].removeCue(t);
                this.cues_.push(t), this.cues.setCues_(this.cues_)
            }, n.removeCue = function(e) {
                for (var t = this.cues_.length; t--;) {
                    var n = this.cues_[t];
                    if (n === e || n.originalCue_ && n.originalCue_ === e) {
                        this.cues_.splice(t, 1), this.cues.setCues_(this.cues_);
                        break
                    }
                }
            }, t
        }(Vf);
    $f.prototype.allowedEvents_ = {
        cuechange: "cuechange"
    };
    var Jf = function(e) {
            function t(t) {
                var n;
                void 0 === t && (t = {});
                var r = hf(t, {
                    kind: jf[t.kind] || ""
                });
                n = e.call(this, r) || this;
                var i = !1;
                return Object.defineProperty(xs(n), "enabled", {
                    get: function() {
                        return i
                    },
                    set: function(e) {
                        "boolean" == typeof e && e !== i && (i = e, this.trigger("enabledchange"))
                    }
                }), r.enabled && (n.enabled = r.enabled), n.loaded_ = !0, n
            }
            return Ms(t, e), t
        }(Vf),
        Zf = function(e) {
            function t(t) {
                var n;
                void 0 === t && (t = {});
                var r = hf(t, {
                    kind: Ff[t.kind] || ""
                });
                n = e.call(this, r) || this;
                var i = !1;
                return Object.defineProperty(xs(n), "selected", {
                    get: function() {
                        return i
                    },
                    set: function(e) {
                        "boolean" == typeof e && e !== i && (i = e, this.trigger("selectedchange"))
                    }
                }), r.selected && (n.selected = r.selected), n
            }
            return Ms(t, e), t
        }(Vf),
        em = function(e) {
            function t(t) {
                var n, r;
                void 0 === t && (t = {}), n = e.call(this) || this;
                var i = new $f(t);
                return n.kind = i.kind, n.src = i.src, n.srclang = i.language, n.label = i.label, n.default = i.default, Object.defineProperties(xs(n), {
                    readyState: {
                        get: function() {
                            return r
                        }
                    },
                    track: {
                        get: function() {
                            return i
                        }
                    }
                }), r = 0, i.addEventListener("loadeddata", (function() {
                    r = 2, n.trigger({
                        type: "load",
                        target: xs(n)
                    })
                })), n
            }
            return Ms(t, e), t
        }(Qp);
    em.prototype.allowedEvents_ = {
        load: "load"
    }, em.NONE = 0, em.LOADING = 1, em.LOADED = 2, em.ERROR = 3;
    var tm = {
        audio: {
            ListClass: Df,
            TrackClass: Jf,
            capitalName: "Audio"
        },
        video: {
            ListClass: Rf,
            TrackClass: Zf,
            capitalName: "Video"
        },
        text: {
            ListClass: Nf,
            TrackClass: $f,
            capitalName: "Text"
        }
    };
    Object.keys(tm).forEach((function(e) {
        tm[e].getterName = e + "Tracks", tm[e].privateName = e + "Tracks_"
    }));
    var nm = {
            remoteText: {
                ListClass: Nf,
                TrackClass: $f,
                capitalName: "RemoteText",
                getterName: "remoteTextTracks",
                privateName: "remoteTextTracks_"
            },
            remoteTextEl: {
                ListClass: Bf,
                TrackClass: em,
                capitalName: "RemoteTextTrackEls",
                getterName: "remoteTextTrackEls",
                privateName: "remoteTextTrackEls_"
            }
        },
        rm = ks({}, tm, nm);
    nm.names = Object.keys(nm), tm.names = Object.keys(tm), rm.names = [].concat(nm.names).concat(tm.names);
    var im = function(e) {
        function t(t, n) {
            var r;
            return void 0 === t && (t = {}), void 0 === n && (n = function() {}), t.reportTouchActivity = !1, (r = e.call(this, null, t, n) || this).onDurationChange_ = function(e) {
                return r.onDurationChange(e)
            }, r.trackProgress_ = function(e) {
                return r.trackProgress(e)
            }, r.trackCurrentTime_ = function(e) {
                return r.trackCurrentTime(e)
            }, r.stopTrackingCurrentTime_ = function(e) {
                return r.stopTrackingCurrentTime(e)
            }, r.disposeSourceHandler_ = function(e) {
                return r.disposeSourceHandler(e)
            }, r.hasStarted_ = !1, r.on("playing", (function() {
                this.hasStarted_ = !0
            })), r.on("loadstart", (function() {
                this.hasStarted_ = !1
            })), rm.names.forEach((function(e) {
                var n = rm[e];
                t && t[n.getterName] && (r[n.privateName] = t[n.getterName])
            })), r.featuresProgressEvents || r.manualProgressOn(), r.featuresTimeupdateEvents || r.manualTimeUpdatesOn(), ["Text", "Audio", "Video"].forEach((function(e) {
                !1 === t["native" + e + "Tracks"] && (r["featuresNative" + e + "Tracks"] = !1)
            })), !1 === t.nativeCaptions || !1 === t.nativeTextTracks ? r.featuresNativeTextTracks = !1 : !0 !== t.nativeCaptions && !0 !== t.nativeTextTracks || (r.featuresNativeTextTracks = !0), r.featuresNativeTextTracks || r.emulateTextTracks(), r.preloadTextTracks = !1 !== t.preloadTextTracks, r.autoRemoteTextTracks_ = new rm.text.ListClass, r.initTrackListeners(), t.nativeControlsForTouch || r.emitTapEvents(), r.constructor && (r.name_ = r.constructor.name || "Unknown Tech"), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.triggerSourceset = function(e) {
            var t = this;
            this.isReady_ || this.one("ready", (function() {
                return t.setTimeout((function() {
                    return t.triggerSourceset(e)
                }), 1)
            })), this.trigger({
                src: e,
                type: "sourceset"
            })
        }, n.manualProgressOn = function() {
            this.on("durationchange", this.onDurationChange_), this.manualProgress = !0, this.one("ready", this.trackProgress_)
        }, n.manualProgressOff = function() {
            this.manualProgress = !1, this.stopTrackingProgress(), this.off("durationchange", this.onDurationChange_)
        }, n.trackProgress = function(e) {
            this.stopTrackingProgress(), this.progressInterval = this.setInterval(Kp(this, (function() {
                var e = this.bufferedPercent();
                this.bufferedPercent_ !== e && this.trigger("progress"), this.bufferedPercent_ = e, 1 === e && this.stopTrackingProgress()
            })), 500)
        }, n.onDurationChange = function(e) {
            this.duration_ = this.duration()
        }, n.buffered = function() {
            return Tf(0, 0)
        }, n.bufferedPercent = function() {
            return _f(this.buffered(), this.duration_)
        }, n.stopTrackingProgress = function() {
            this.clearInterval(this.progressInterval)
        }, n.manualTimeUpdatesOn = function() {
            this.manualTimeUpdates = !0, this.on("play", this.trackCurrentTime_), this.on("pause", this.stopTrackingCurrentTime_)
        }, n.manualTimeUpdatesOff = function() {
            this.manualTimeUpdates = !1, this.stopTrackingCurrentTime(), this.off("play", this.trackCurrentTime_), this.off("pause", this.stopTrackingCurrentTime_)
        }, n.trackCurrentTime = function() {
            this.currentTimeInterval && this.stopTrackingCurrentTime(), this.currentTimeInterval = this.setInterval((function() {
                this.trigger({
                    type: "timeupdate",
                    target: this,
                    manuallyTriggered: !0
                })
            }), 250)
        }, n.stopTrackingCurrentTime = function() {
            this.clearInterval(this.currentTimeInterval), this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            })
        }, n.dispose = function() {
            this.clearTracks(tm.names), this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), e.prototype.dispose.call(this)
        }, n.clearTracks = function(e) {
            var t = this;
            (e = [].concat(e)).forEach((function(e) {
                for (var n = t[e + "Tracks"]() || [], r = n.length; r--;) {
                    var i = n[r];
                    "text" === e && t.removeRemoteTextTrack(i), n.removeTrack(i)
                }
            }))
        }, n.cleanupAutoTextTracks = function() {
            for (var e = this.autoRemoteTextTracks_ || [], t = e.length; t--;) {
                var n = e[t];
                this.removeRemoteTextTrack(n)
            }
        }, n.reset = function() {}, n.crossOrigin = function() {}, n.setCrossOrigin = function() {}, n.error = function(e) {
            return void 0 !== e && (this.error_ = new Sf(e), this.trigger("error")), this.error_
        }, n.played = function() {
            return this.hasStarted_ ? Tf(0, 0) : Tf()
        }, n.play = function() {}, n.setScrubbing = function() {}, n.scrubbing = function() {}, n.setCurrentTime = function() {
            this.manualTimeUpdates && this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            })
        }, n.initTrackListeners = function() {
            var e = this;
            tm.names.forEach((function(t) {
                var n = tm[t],
                    r = function() {
                        e.trigger(t + "trackchange")
                    },
                    i = e[n.getterName]();
                i.addEventListener("removetrack", r), i.addEventListener("addtrack", r), e.on("dispose", (function() {
                    i.removeEventListener("removetrack", r), i.removeEventListener("addtrack", r)
                }))
            }))
        }, n.addWebVttScript_ = function() {
            var e = this;
            if (!m.WebVTT)
                if (Ps.body.contains(this.el())) {
                    if (!this.options_["vtt.js"] && wh(xu) && Object.keys(xu).length > 0) return void this.trigger("vttjsloaded");
                    var t = Ps.createElement("script");
                    t.src = this.options_["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js", t.onload = function() {
                        e.trigger("vttjsloaded")
                    }, t.onerror = function() {
                        e.trigger("vttjserror")
                    }, this.on("dispose", (function() {
                        t.onload = null, t.onerror = null
                    })), m.WebVTT = !0, this.el().parentNode.appendChild(t)
                } else this.ready(this.addWebVttScript_)
        }, n.emulateTextTracks = function() {
            var e = this,
                t = this.textTracks(),
                n = this.remoteTextTracks(),
                r = function(e) {
                    return t.addTrack(e.track)
                },
                i = function(e) {
                    return t.removeTrack(e.track)
                };
            n.on("addtrack", r), n.on("removetrack", i), this.addWebVttScript_();
            var a = function() {
                    return e.trigger("texttrackchange")
                },
                o = function() {
                    a();
                    for (var e = 0; e < t.length; e++) {
                        var n = t[e];
                        n.removeEventListener("cuechange", a), "showing" === n.mode && n.addEventListener("cuechange", a)
                    }
                };
            o(), t.addEventListener("change", o), t.addEventListener("addtrack", o), t.addEventListener("removetrack", o), this.on("dispose", (function() {
                n.off("addtrack", r), n.off("removetrack", i), t.removeEventListener("change", o), t.removeEventListener("addtrack", o), t.removeEventListener("removetrack", o);
                for (var e = 0; e < t.length; e++) {
                    t[e].removeEventListener("cuechange", a)
                }
            }))
        }, n.addTextTrack = function(e, t, n) {
            if (!e) throw new Error("TextTrack kind is required but was not provided");
            return function(e, t, n, r, i) {
                void 0 === i && (i = {});
                var a = e.textTracks();
                i.kind = t, n && (i.label = n), r && (i.language = r), i.tech = e;
                var o = new rm.text.TrackClass(i);
                return a.addTrack(o), o
            }(this, e, t, n)
        }, n.createRemoteTextTrack = function(e) {
            var t = hf(e, {
                tech: this
            });
            return new nm.remoteTextEl.TrackClass(t)
        }, n.addRemoteTextTrack = function(e, t) {
            var n = this;
            void 0 === e && (e = {});
            var r = this.createRemoteTextTrack(e);
            return !0 !== t && !1 !== t && (gh.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'), t = !0), this.remoteTextTrackEls().addTrackElement_(r), this.remoteTextTracks().addTrack(r.track), !0 !== t && this.ready((function() {
                return n.autoRemoteTextTracks_.addTrack(r.track)
            })), r
        }, n.removeRemoteTextTrack = function(e) {
            var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
            this.remoteTextTrackEls().removeTrackElement_(t), this.remoteTextTracks().removeTrack(e), this.autoRemoteTextTracks_.removeTrack(e)
        }, n.getVideoPlaybackQuality = function() {
            return {}
        }, n.requestPictureInPicture = function() {
            var e = this.options_.Promise || m.Promise;
            if (e) return e.reject()
        }, n.disablePictureInPicture = function() {
            return !0
        }, n.setDisablePictureInPicture = function() {}, n.setPoster = function() {}, n.playsinline = function() {}, n.setPlaysinline = function() {}, n.overrideNativeAudioTracks = function() {}, n.overrideNativeVideoTracks = function() {}, n.canPlayType = function() {
            return ""
        }, t.canPlayType = function() {
            return ""
        }, t.canPlaySource = function(e, n) {
            return t.canPlayType(e.type)
        }, t.isTech = function(e) {
            return e.prototype instanceof t || e instanceof t || e === t
        }, t.registerTech = function(e, n) {
            if (t.techs_ || (t.techs_ = {}), !t.isTech(n)) throw new Error("Tech " + e + " must be a Tech");
            if (!t.canPlayType) throw new Error("Techs must have a static canPlayType method on them");
            if (!t.canPlaySource) throw new Error("Techs must have a static canPlaySource method on them");
            return e = df(e), t.techs_[e] = n, t.techs_[cf(e)] = n, "Tech" !== e && t.defaultTechOrder_.push(e), n
        }, t.getTech = function(e) {
            if (e) return t.techs_ && t.techs_[e] ? t.techs_[e] : (e = df(e), m && m.videojs && m.videojs[e] ? (gh.warn("The " + e + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"), m.videojs[e]) : void 0)
        }, t
    }(yf);
    rm.names.forEach((function(e) {
        var t = rm[e];
        im.prototype[t.getterName] = function() {
            return this[t.privateName] = this[t.privateName] || new t.ListClass, this[t.privateName]
        }
    })), im.prototype.featuresVolumeControl = !0, im.prototype.featuresMuteControl = !0, im.prototype.featuresFullscreenResize = !1, im.prototype.featuresPlaybackRate = !1, im.prototype.featuresProgressEvents = !1, im.prototype.featuresSourceset = !1, im.prototype.featuresTimeupdateEvents = !1, im.prototype.featuresNativeTextTracks = !1, im.withSourceHandlers = function(e) {
        e.registerSourceHandler = function(t, n) {
            var r = e.sourceHandlers;
            r || (r = e.sourceHandlers = []), void 0 === n && (n = r.length), r.splice(n, 0, t)
        }, e.canPlayType = function(t) {
            for (var n, r = e.sourceHandlers || [], i = 0; i < r.length; i++)
                if (n = r[i].canPlayType(t)) return n;
            return ""
        }, e.selectSourceHandler = function(t, n) {
            for (var r = e.sourceHandlers || [], i = 0; i < r.length; i++)
                if (r[i].canHandleSource(t, n)) return r[i];
            return null
        }, e.canPlaySource = function(t, n) {
            var r = e.selectSourceHandler(t, n);
            return r ? r.canHandleSource(t, n) : ""
        };
        ["seekable", "seeking", "duration"].forEach((function(e) {
            var t = this[e];
            "function" == typeof t && (this[e] = function() {
                return this.sourceHandler_ && this.sourceHandler_[e] ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments) : t.apply(this, arguments)
            })
        }), e.prototype), e.prototype.setSource = function(t) {
            var n = e.selectSourceHandler(t, this.options_);
            n || (e.nativeSourceHandler ? n = e.nativeSourceHandler : gh.error("No source handler found for the current source.")), this.disposeSourceHandler(), this.off("dispose", this.disposeSourceHandler_), n !== e.nativeSourceHandler && (this.currentSource_ = t), this.sourceHandler_ = n.handleSource(t, this, this.options_), this.one("dispose", this.disposeSourceHandler_)
        }, e.prototype.disposeSourceHandler = function() {
            this.currentSource_ && (this.clearTracks(["audio", "video"]), this.currentSource_ = null), this.cleanupAutoTextTracks(), this.sourceHandler_ && (this.sourceHandler_.dispose && this.sourceHandler_.dispose(), this.sourceHandler_ = null)
        }
    }, yf.registerComponent("Tech", im), im.registerTech("Tech", im), im.defaultTechOrder_ = [];
    var am = {},
        om = {},
        sm = {};

    function um(e, t, n) {
        e.setTimeout((function() {
            return fm(t, am[t.type], n, e)
        }), 1)
    }

    function lm(e, t, n, r) {
        void 0 === r && (r = null);
        var i = "call" + df(n),
            a = e.reduce(pm(i), r),
            o = a === sm,
            s = o ? null : t[n](a);
        return function(e, t, n, r) {
            for (var i = e.length - 1; i >= 0; i--) {
                var a = e[i];
                a[t] && a[t](r, n)
            }
        }(e, n, s, o), s
    }
    var cm = {
            buffered: 1,
            currentTime: 1,
            duration: 1,
            muted: 1,
            played: 1,
            paused: 1,
            seekable: 1,
            volume: 1,
            ended: 1
        },
        dm = {
            setCurrentTime: 1,
            setMuted: 1,
            setVolume: 1
        },
        hm = {
            play: 1,
            pause: 1
        };

    function pm(e) {
        return function(t, n) {
            return t === sm ? sm : n[e] ? n[e](t) : t
        }
    }

    function fm(e, t, n, r, i, a) {
        void 0 === e && (e = {}), void 0 === t && (t = []), void 0 === i && (i = []), void 0 === a && (a = !1);
        var o = t,
            s = o[0],
            u = o.slice(1);
        if ("string" == typeof s) fm(e, am[s], n, r, i, a);
        else if (s) {
            var l = function(e, t) {
                var n = om[e.id()],
                    r = null;
                if (null == n) return r = t(e), om[e.id()] = [
                    [t, r]
                ], r;
                for (var i = 0; i < n.length; i++) {
                    var a = n[i],
                        o = a[0],
                        s = a[1];
                    o === t && (r = s)
                }
                return null === r && (r = t(e), n.push([t, r])), r
            }(r, s);
            if (!l.setSource) return i.push(l), fm(e, u, n, r, i, a);
            l.setSource(_h({}, e), (function(t, o) {
                if (t) return fm(e, u, n, r, i, a);
                i.push(l), fm(o, e.type === o.type ? u : am[o.type], n, r, i, a)
            }))
        } else u.length ? fm(e, u, n, r, i, a) : a ? n(e, i) : fm(e, am["*"], n, r, i, !0)
    }
    var mm = {
            opus: "video/ogg",
            ogv: "video/ogg",
            mp4: "video/mp4",
            mov: "video/mp4",
            m4v: "video/mp4",
            mkv: "video/x-matroska",
            m4a: "audio/mp4",
            mp3: "audio/mpeg",
            aac: "audio/aac",
            caf: "audio/x-caf",
            flac: "audio/flac",
            oga: "audio/ogg",
            wav: "audio/wav",
            m3u8: "application/x-mpegURL",
            jpg: "image/jpeg",
            jpeg: "image/jpeg",
            gif: "image/gif",
            png: "image/png",
            svg: "image/svg+xml",
            webp: "image/webp"
        },
        gm = function(e) {
            void 0 === e && (e = "");
            var t = zf(e);
            return mm[t.toLowerCase()] || ""
        },
        ym = function e(t) {
            if (Array.isArray(t)) {
                var n = [];
                t.forEach((function(t) {
                    t = e(t), Array.isArray(t) ? n = n.concat(t) : Sh(t) && n.push(t)
                })), t = n
            } else t = "string" == typeof t && t.trim() ? [vm({
                src: t
            })] : Sh(t) && "string" == typeof t.src && t.src && t.src.trim() ? [vm(t)] : [];
            return t
        };

    function vm(e) {
        if (!e.type) {
            var t = gm(e.src);
            t && (e.type = t)
        }
        return e
    }
    var bm = function(e) {
        function t(t, n, r) {
            var i, a = hf({
                createEl: !1
            }, n);
            if (i = e.call(this, t, a, r) || this, n.playerOptions.sources && 0 !== n.playerOptions.sources.length) t.src(n.playerOptions.sources);
            else
                for (var o = 0, s = n.playerOptions.techOrder; o < s.length; o++) {
                    var u = df(s[o]),
                        l = im.getTech(u);
                    if (u || (l = yf.getComponent(u)), l && l.isSupported()) {
                        t.loadTech_(u);
                        break
                    }
                }
            return i
        }
        return Ms(t, e), t
    }(yf);
    yf.registerComponent("MediaLoader", bm);
    var Tm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).handleMouseOver_ = function(e) {
                return r.handleMouseOver(e)
            }, r.handleMouseOut_ = function(e) {
                return r.handleMouseOut(e)
            }, r.handleClick_ = function(e) {
                return r.handleClick(e)
            }, r.handleKeyDown_ = function(e) {
                return r.handleKeyDown(e)
            }, r.emitTapEvents(), r.enable(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function(t, n, r) {
            void 0 === t && (t = "div"), void 0 === n && (n = {}), void 0 === r && (r = {}), n = _h({
                innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                className: this.buildCSSClass(),
                tabIndex: 0
            }, n), "button" === t && gh.error("Creating a ClickableComponent with an HTML element of " + t + " is not supported; use a Button instead."), r = _h({
                role: "button"
            }, r), this.tabIndex_ = n.tabIndex;
            var i = e.prototype.createEl.call(this, t, n, r);
            return this.createControlTextEl(i), i
        }, n.dispose = function() {
            this.controlTextEl_ = null, e.prototype.dispose.call(this)
        }, n.createControlTextEl = function(e) {
            return this.controlTextEl_ = Jh("span", {
                className: "vjs-control-text"
            }, {
                "aria-live": "polite"
            }), e && e.appendChild(this.controlTextEl_), this.controlText(this.controlText_, e), this.controlTextEl_
        }, n.controlText = function(e, t) {
            if (void 0 === t && (t = this.el()), void 0 === e) return this.controlText_ || "Need Text";
            var n = this.localize(e);
            this.controlText_ = e, Zh(this.controlTextEl_, n), this.nonIconControl || this.player_.options_.noUITitleAttributes || t.setAttribute("title", n)
        }, n.buildCSSClass = function() {
            return "vjs-control vjs-button " + e.prototype.buildCSSClass.call(this)
        }, n.enable = function() {
            this.enabled_ || (this.enabled_ = !0, this.removeClass("vjs-disabled"), this.el_.setAttribute("aria-disabled", "false"), void 0 !== this.tabIndex_ && this.el_.setAttribute("tabIndex", this.tabIndex_), this.on(["tap", "click"], this.handleClick_), this.on("keydown", this.handleKeyDown_))
        }, n.disable = function() {
            this.enabled_ = !1, this.addClass("vjs-disabled"), this.el_.setAttribute("aria-disabled", "true"), void 0 !== this.tabIndex_ && this.el_.removeAttribute("tabIndex"), this.off("mouseover", this.handleMouseOver_), this.off("mouseout", this.handleMouseOut_), this.off(["tap", "click"], this.handleClick_), this.off("keydown", this.handleKeyDown_)
        }, n.handleLanguagechange = function() {
            this.controlText(this.controlText_)
        }, n.handleClick = function(e) {
            this.options_.clickHandler && this.options_.clickHandler.call(this, arguments)
        }, n.handleKeyDown = function(t) {
            Os.isEventKey(t, "Space") || Os.isEventKey(t, "Enter") ? (t.preventDefault(), t.stopPropagation(), this.trigger("click")) : e.prototype.handleKeyDown.call(this, t)
        }, t
    }(yf);
    yf.registerComponent("ClickableComponent", Tm);
    var _m = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).update(), r.update_ = function(e) {
                return r.update(e)
            }, t.on("posterchange", r.update_), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.dispose = function() {
            this.player().off("posterchange", this.update_), e.prototype.dispose.call(this)
        }, n.createEl = function() {
            return Jh("div", {
                className: "vjs-poster",
                tabIndex: -1
            })
        }, n.update = function(e) {
            var t = this.player().poster();
            this.setSrc(t), t ? this.show() : this.hide()
        }, n.setSrc = function(e) {
            var t = "";
            e && (t = 'url("' + e + '")'), this.el_.style.backgroundImage = t
        }, n.handleClick = function(e) {
            if (this.player_.controls()) {
                var t = this.player_.usingPlugin("eme") && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;
                !this.player_.tech(!0) || (Bh || Oh) && t || this.player_.tech(!0).focus(), this.player_.paused() ? Ef(this.player_.play()) : this.player_.pause()
            }
        }, t
    }(Tm);
    yf.registerComponent("PosterImage", _m);
    var Sm = {
        monospace: "monospace",
        sansSerif: "sans-serif",
        serif: "serif",
        monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
        monospaceSerif: '"Courier New", monospace',
        proportionalSansSerif: "sans-serif",
        proportionalSerif: "serif",
        casual: '"Comic Sans MS", Impact, fantasy',
        script: '"Monotype Corsiva", cursive',
        smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
    };

    function wm(e, t) {
        var n;
        if (4 === e.length) n = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
        else {
            if (7 !== e.length) throw new Error("Invalid color code provided, " + e + "; must be formatted as e.g. #f0e or #f604e2.");
            n = e.slice(1)
        }
        return "rgba(" + parseInt(n.slice(0, 2), 16) + "," + parseInt(n.slice(2, 4), 16) + "," + parseInt(n.slice(4, 6), 16) + "," + t + ")"
    }

    function Am(e, t, n) {
        try {
            e.style[t] = n
        } catch (e) {
            return
        }
    }
    var Em = function(e) {
        function t(t, n, r) {
            var i;
            i = e.call(this, t, n, r) || this;
            var a = function(e) {
                return i.updateDisplay(e)
            };
            return t.on("loadstart", (function(e) {
                return i.toggleDisplay(e)
            })), t.on("texttrackchange", a), t.on("loadedmetadata", (function(e) {
                return i.preselectTrack(e)
            })), t.ready(Kp(xs(i), (function() {
                if (t.tech_ && t.tech_.featuresNativeTextTracks) this.hide();
                else {
                    t.on("fullscreenchange", a), t.on("playerresize", a), m.addEventListener("orientationchange", a), t.on("dispose", (function() {
                        return m.removeEventListener("orientationchange", a)
                    }));
                    for (var e = this.options_.playerOptions.tracks || [], n = 0; n < e.length; n++) this.player_.addRemoteTextTrack(e[n], !0);
                    this.preselectTrack()
                }
            }))), i
        }
        Ms(t, e);
        var n = t.prototype;
        return n.preselectTrack = function() {
            for (var e, t, n, r = {
                    captions: 1,
                    subtitles: 1
                }, i = this.player_.textTracks(), a = this.player_.cache_.selectedLanguage, o = 0; o < i.length; o++) {
                var s = i[o];
                a && a.enabled && a.language && a.language === s.language && s.kind in r ? s.kind === a.kind ? n = s : n || (n = s) : a && !a.enabled ? (n = null, e = null, t = null) : s.default && ("descriptions" !== s.kind || e ? s.kind in r && !t && (t = s) : e = s)
            }
            n ? n.mode = "showing" : t ? t.mode = "showing" : e && (e.mode = "showing")
        }, n.toggleDisplay = function() {
            this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show()
        }, n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-text-track-display"
            }, {
                "aria-live": "off",
                "aria-atomic": "true"
            })
        }, n.clearDisplay = function() {
            "function" == typeof m.WebVTT && m.WebVTT.processCues(m, [], this.el_)
        }, n.updateDisplay = function() {
            var e = this.player_.textTracks(),
                t = this.options_.allowMultipleShowingTracks;
            if (this.clearDisplay(), t) {
                for (var n = [], r = 0; r < e.length; ++r) {
                    var i = e[r];
                    "showing" === i.mode && n.push(i)
                }
                this.updateForTrack(n)
            } else {
                for (var a = null, o = null, s = e.length; s--;) {
                    var u = e[s];
                    "showing" === u.mode && ("descriptions" === u.kind ? a = u : o = u)
                }
                o ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"), this.updateForTrack(o)) : a && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"), this.updateForTrack(a))
            }
        }, n.updateDisplayState = function(e) {
            for (var t = this.player_.textTrackSettings.getValues(), n = e.activeCues, r = n.length; r--;) {
                var i = n[r];
                if (i) {
                    var a = i.displayState;
                    if (t.color && (a.firstChild.style.color = t.color), t.textOpacity && Am(a.firstChild, "color", wm(t.color || "#fff", t.textOpacity)), t.backgroundColor && (a.firstChild.style.backgroundColor = t.backgroundColor), t.backgroundOpacity && Am(a.firstChild, "backgroundColor", wm(t.backgroundColor || "#000", t.backgroundOpacity)), t.windowColor && (t.windowOpacity ? Am(a, "backgroundColor", wm(t.windowColor, t.windowOpacity)) : a.style.backgroundColor = t.windowColor), t.edgeStyle && ("dropshadow" === t.edgeStyle ? a.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222" : "raised" === t.edgeStyle ? a.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px #222" : "depressed" === t.edgeStyle ? a.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222" : "uniform" === t.edgeStyle && (a.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")), t.fontPercent && 1 !== t.fontPercent) {
                        var o = m.parseFloat(a.style.fontSize);
                        a.style.fontSize = o * t.fontPercent + "px", a.style.height = "auto", a.style.top = "auto"
                    }
                    t.fontFamily && "default" !== t.fontFamily && ("small-caps" === t.fontFamily ? a.firstChild.style.fontVariant = "small-caps" : a.firstChild.style.fontFamily = Sm[t.fontFamily])
                }
            }
        }, n.updateForTrack = function(e) {
            if (Array.isArray(e) || (e = [e]), "function" == typeof m.WebVTT && !e.every((function(e) {
                    return !e.activeCues
                }))) {
                for (var t = [], n = 0; n < e.length; ++n)
                    for (var r = e[n], i = 0; i < r.activeCues.length; ++i) t.push(r.activeCues[i]);
                m.WebVTT.processCues(m, t, this.el_);
                for (var a = 0; a < e.length; ++a) {
                    for (var o = e[a], s = 0; s < o.activeCues.length; ++s) {
                        var u = o.activeCues[s].displayState;
                        np(u, "vjs-text-track-cue"), np(u, "vjs-text-track-cue-" + (o.language ? o.language : a))
                    }
                    this.player_.textTrackSettings && this.updateDisplayState(o)
                }
            }
        }, t
    }(yf);
    yf.registerComponent("TextTrackDisplay", Em);
    var Cm = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        return Ms(t, e), t.prototype.createEl = function() {
            var t = this.player_.isAudio(),
                n = this.localize(t ? "Audio Player" : "Video Player"),
                r = Jh("span", {
                    className: "vjs-control-text",
                    innerHTML: this.localize("{1} is loading.", [n])
                }),
                i = e.prototype.createEl.call(this, "div", {
                    className: "vjs-loading-spinner",
                    dir: "ltr"
                });
            return i.appendChild(r), i
        }, t
    }(yf);
    yf.registerComponent("LoadingSpinner", Cm);
    var Pm = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function(e, t, n) {
            void 0 === t && (t = {}), void 0 === n && (n = {}), t = _h({
                innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                className: this.buildCSSClass()
            }, t), n = _h({
                type: "button"
            }, n);
            var r = yf.prototype.createEl.call(this, "button", t, n);
            return this.createControlTextEl(r), r
        }, n.addChild = function(e, t) {
            void 0 === t && (t = {});
            var n = this.constructor.name;
            return gh.warn("Adding an actionable (user controllable) child to a Button (" + n + ") is not supported; use a ClickableComponent instead."), yf.prototype.addChild.call(this, e, t)
        }, n.enable = function() {
            e.prototype.enable.call(this), this.el_.removeAttribute("disabled")
        }, n.disable = function() {
            e.prototype.disable.call(this), this.el_.setAttribute("disabled", "disabled")
        }, n.handleKeyDown = function(t) {
            Os.isEventKey(t, "Space") || Os.isEventKey(t, "Enter") ? t.stopPropagation() : e.prototype.handleKeyDown.call(this, t)
        }, t
    }(Tm);
    yf.registerComponent("Button", Pm);
    var km = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).mouseused_ = !1, r.on("mousedown", (function(e) {
                return r.handleMouseDown(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-big-play-button"
        }, n.handleClick = function(e) {
            var t = this.player_.play();
            if (this.mouseused_ && e.clientX && e.clientY) {
                var n = this.player_.usingPlugin("eme") && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;
                return Ef(t), void(!this.player_.tech(!0) || (Bh || Oh) && n || this.player_.tech(!0).focus())
            }
            var r = this.player_.getChild("controlBar"),
                i = r && r.getChild("playToggle");
            if (i) {
                var a = function() {
                    return i.focus()
                };
                Af(t) ? t.then(a, (function() {})) : this.setTimeout(a, 1)
            } else this.player_.tech(!0).focus()
        }, n.handleKeyDown = function(t) {
            this.mouseused_ = !1, e.prototype.handleKeyDown.call(this, t)
        }, n.handleMouseDown = function(e) {
            this.mouseused_ = !0
        }, t
    }(Pm);
    km.prototype.controlText_ = "Play Video", yf.registerComponent("BigPlayButton", km);
    var xm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).controlText(n && n.controlText || r.localize("Close")), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-close-button " + e.prototype.buildCSSClass.call(this)
        }, n.handleClick = function(e) {
            this.trigger({
                type: "close",
                bubbles: !1
            })
        }, n.handleKeyDown = function(t) {
            Os.isEventKey(t, "Esc") ? (t.preventDefault(), t.stopPropagation(), this.trigger("click")) : e.prototype.handleKeyDown.call(this, t)
        }, t
    }(Pm);
    yf.registerComponent("CloseButton", xm);
    var Im = function(e) {
        function t(t, n) {
            var r;
            return void 0 === n && (n = {}), r = e.call(this, t, n) || this, n.replay = void 0 === n.replay || n.replay, r.on(t, "play", (function(e) {
                return r.handlePlay(e)
            })), r.on(t, "pause", (function(e) {
                return r.handlePause(e)
            })), n.replay && r.on(t, "ended", (function(e) {
                return r.handleEnded(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-play-control " + e.prototype.buildCSSClass.call(this)
        }, n.handleClick = function(e) {
            this.player_.paused() ? Ef(this.player_.play()) : this.player_.pause()
        }, n.handleSeeked = function(e) {
            this.removeClass("vjs-ended"), this.player_.paused() ? this.handlePause(e) : this.handlePlay(e)
        }, n.handlePlay = function(e) {
            this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.controlText("Pause")
        }, n.handlePause = function(e) {
            this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.controlText("Play")
        }, n.handleEnded = function(e) {
            var t = this;
            this.removeClass("vjs-playing"), this.addClass("vjs-ended"), this.controlText("Replay"), this.one(this.player_, "seeked", (function(e) {
                return t.handleSeeked(e)
            }))
        }, t
    }(Pm);
    Im.prototype.controlText_ = "Play", yf.registerComponent("PlayToggle", Im);
    var Mm = function(e, t) {
            e = e < 0 ? 0 : e;
            var n = Math.floor(e % 60),
                r = Math.floor(e / 60 % 60),
                i = Math.floor(e / 3600),
                a = Math.floor(t / 60 % 60),
                o = Math.floor(t / 3600);
            return (isNaN(e) || e === 1 / 0) && (i = r = n = "-"), (i = i > 0 || o > 0 ? i + ":" : "") + (r = ((i || a >= 10) && r < 10 ? "0" + r : r) + ":") + (n = n < 10 ? "0" + n : n)
        },
        Lm = Mm;

    function Dm(e, t) {
        return void 0 === t && (t = e), Lm(e, t)
    }
    var Om = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).on(t, ["timeupdate", "ended"], (function(e) {
                return r.updateContent(e)
            })), r.updateTextNode_(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            var t = this.buildCSSClass(),
                n = e.prototype.createEl.call(this, "div", {
                    className: t + " vjs-time-control vjs-control",
                    innerHTML: '<span class="vjs-control-text" role="presentation">' + this.localize(this.labelText_) + "</span>"
                });
            return this.contentEl_ = Jh("span", {
                className: t + "-display"
            }, {
                "aria-live": "off",
                role: "presentation"
            }), n.appendChild(this.contentEl_), n
        }, n.dispose = function() {
            this.contentEl_ = null, this.textNode_ = null, e.prototype.dispose.call(this)
        }, n.updateTextNode_ = function(e) {
            var t = this;
            void 0 === e && (e = 0), e = Dm(e), this.formattedTime_ !== e && (this.formattedTime_ = e, this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_", (function() {
                if (t.contentEl_) {
                    var e = t.textNode_;
                    e && t.contentEl_.firstChild !== e && (e = null, gh.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")), t.textNode_ = Ps.createTextNode(t.formattedTime_), t.textNode_ && (e ? t.contentEl_.replaceChild(t.textNode_, e) : t.contentEl_.appendChild(t.textNode_))
                }
            })))
        }, n.updateContent = function(e) {}, t
    }(yf);
    Om.prototype.labelText_ = "Time", Om.prototype.controlText_ = "Time", yf.registerComponent("TimeDisplay", Om);
    var Rm = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-current-time"
        }, n.updateContent = function(e) {
            var t;
            t = this.player_.ended() ? this.player_.duration() : this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime(), this.updateTextNode_(t)
        }, t
    }(Om);
    Rm.prototype.labelText_ = "Current Time", Rm.prototype.controlText_ = "Current Time", yf.registerComponent("CurrentTimeDisplay", Rm);
    var Nm = function(e) {
        function t(t, n) {
            var r, i = function(e) {
                return r.updateContent(e)
            };
            return (r = e.call(this, t, n) || this).on(t, "durationchange", i), r.on(t, "loadstart", i), r.on(t, "loadedmetadata", i), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-duration"
        }, n.updateContent = function(e) {
            var t = this.player_.duration();
            this.updateTextNode_(t)
        }, t
    }(Om);
    Nm.prototype.labelText_ = "Duration", Nm.prototype.controlText_ = "Duration", yf.registerComponent("DurationDisplay", Nm);
    var Bm = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        return Ms(t, e), t.prototype.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-time-control vjs-time-divider",
                innerHTML: "<div><span>/</span></div>"
            }, {
                "aria-hidden": !0
            })
        }, t
    }(yf);
    yf.registerComponent("TimeDivider", Bm);
    var Um = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).on(t, "durationchange", (function(e) {
                return r.updateContent(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-remaining-time"
        }, n.createEl = function() {
            var t = e.prototype.createEl.call(this);
            return t.insertBefore(Jh("span", {}, {
                "aria-hidden": !0
            }, "-"), this.contentEl_), t
        }, n.updateContent = function(e) {
            var t;
            "number" == typeof this.player_.duration() && (t = this.player_.ended() ? 0 : this.player_.remainingTimeDisplay ? this.player_.remainingTimeDisplay() : this.player_.remainingTime(), this.updateTextNode_(t))
        }, t
    }(Om);
    Um.prototype.labelText_ = "Remaining Time", Um.prototype.controlText_ = "Remaining Time", yf.registerComponent("RemainingTimeDisplay", Um);
    var Fm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).updateShowing(), r.on(r.player(), "durationchange", (function(e) {
                return r.updateShowing(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            var t = e.prototype.createEl.call(this, "div", {
                className: "vjs-live-control vjs-control"
            });
            return this.contentEl_ = Jh("div", {
                className: "vjs-live-display",
                innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + "</span>" + this.localize("LIVE")
            }, {
                "aria-live": "off"
            }), t.appendChild(this.contentEl_), t
        }, n.dispose = function() {
            this.contentEl_ = null, e.prototype.dispose.call(this)
        }, n.updateShowing = function(e) {
            this.player().duration() === 1 / 0 ? this.show() : this.hide()
        }, t
    }(yf);
    yf.registerComponent("LiveDisplay", Fm);
    var jm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).updateLiveEdgeStatus(), r.player_.liveTracker && (r.updateLiveEdgeStatusHandler_ = function(e) {
                return r.updateLiveEdgeStatus(e)
            }, r.on(r.player_.liveTracker, "liveedgechange", r.updateLiveEdgeStatusHandler_)), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            var t = e.prototype.createEl.call(this, "button", {
                className: "vjs-seek-to-live-control vjs-control"
            });
            return this.textEl_ = Jh("span", {
                className: "vjs-seek-to-live-text",
                innerHTML: this.localize("LIVE")
            }, {
                "aria-hidden": "true"
            }), t.appendChild(this.textEl_), t
        }, n.updateLiveEdgeStatus = function() {
            !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge() ? (this.setAttribute("aria-disabled", !0), this.addClass("vjs-at-live-edge"), this.controlText("Seek to live, currently playing live")) : (this.setAttribute("aria-disabled", !1), this.removeClass("vjs-at-live-edge"), this.controlText("Seek to live, currently behind live"))
        }, n.handleClick = function() {
            this.player_.liveTracker.seekToLiveEdge()
        }, n.dispose = function() {
            this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatusHandler_), this.textEl_ = null, e.prototype.dispose.call(this)
        }, t
    }(Pm);
    jm.prototype.controlText_ = "Seek to live, currently playing live", yf.registerComponent("SeekToLive", jm);
    var Hm = function(e, t, n) {
            return e = Number(e), Math.min(n, Math.max(t, isNaN(e) ? t : e))
        },
        Gm = function(e) {
            function t(t, n) {
                var r;
                return (r = e.call(this, t, n) || this).handleMouseDown_ = function(e) {
                    return r.handleMouseDown(e)
                }, r.handleMouseUp_ = function(e) {
                    return r.handleMouseUp(e)
                }, r.handleKeyDown_ = function(e) {
                    return r.handleKeyDown(e)
                }, r.handleClick_ = function(e) {
                    return r.handleClick(e)
                }, r.handleMouseMove_ = function(e) {
                    return r.handleMouseMove(e)
                }, r.update_ = function(e) {
                    return r.update(e)
                }, r.bar = r.getChild(r.options_.barName), r.vertical(!!r.options_.vertical), r.enable(), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.enabled = function() {
                return this.enabled_
            }, n.enable = function() {
                this.enabled() || (this.on("mousedown", this.handleMouseDown_), this.on("touchstart", this.handleMouseDown_), this.on("keydown", this.handleKeyDown_), this.on("click", this.handleClick_), this.on(this.player_, "controlsvisible", this.update), this.playerEvent && this.on(this.player_, this.playerEvent, this.update), this.removeClass("disabled"), this.setAttribute("tabindex", 0), this.enabled_ = !0)
            }, n.disable = function() {
                if (this.enabled()) {
                    var e = this.bar.el_.ownerDocument;
                    this.off("mousedown", this.handleMouseDown_), this.off("touchstart", this.handleMouseDown_), this.off("keydown", this.handleKeyDown_), this.off("click", this.handleClick_), this.off(this.player_, "controlsvisible", this.update_), this.off(e, "mousemove", this.handleMouseMove_), this.off(e, "mouseup", this.handleMouseUp_), this.off(e, "touchmove", this.handleMouseMove_), this.off(e, "touchend", this.handleMouseUp_), this.removeAttribute("tabindex"), this.addClass("disabled"), this.playerEvent && this.off(this.player_, this.playerEvent, this.update), this.enabled_ = !1
                }
            }, n.createEl = function(t, n, r) {
                return void 0 === n && (n = {}), void 0 === r && (r = {}), n.className = n.className + " vjs-slider", n = _h({
                    tabIndex: 0
                }, n), r = _h({
                    role: "slider",
                    "aria-valuenow": 0,
                    "aria-valuemin": 0,
                    "aria-valuemax": 100,
                    tabIndex: 0
                }, r), e.prototype.createEl.call(this, t, n, r)
            }, n.handleMouseDown = function(e) {
                var t = this.bar.el_.ownerDocument;
                "mousedown" === e.type && e.preventDefault(), "touchstart" !== e.type || Rh || e.preventDefault(), cp(), this.addClass("vjs-sliding"), this.trigger("slideractive"), this.on(t, "mousemove", this.handleMouseMove_), this.on(t, "mouseup", this.handleMouseUp_), this.on(t, "touchmove", this.handleMouseMove_), this.on(t, "touchend", this.handleMouseUp_), this.handleMouseMove(e)
            }, n.handleMouseMove = function(e) {}, n.handleMouseUp = function() {
                var e = this.bar.el_.ownerDocument;
                dp(), this.removeClass("vjs-sliding"), this.trigger("sliderinactive"), this.off(e, "mousemove", this.handleMouseMove_), this.off(e, "mouseup", this.handleMouseUp_), this.off(e, "touchmove", this.handleMouseMove_), this.off(e, "touchend", this.handleMouseUp_), this.update()
            }, n.update = function() {
                var e = this;
                if (this.el_ && this.bar) {
                    var t = this.getProgress();
                    return t === this.progress_ || (this.progress_ = t, this.requestNamedAnimationFrame("Slider#update", (function() {
                        var n = e.vertical() ? "height" : "width";
                        e.bar.el().style[n] = (100 * t).toFixed(2) + "%"
                    }))), t
                }
            }, n.getProgress = function() {
                return Number(Hm(this.getPercent(), 0, 1).toFixed(4))
            }, n.calculateDistance = function(e) {
                var t = fp(this.el_, e);
                return this.vertical() ? t.y : t.x
            }, n.handleKeyDown = function(t) {
                Os.isEventKey(t, "Left") || Os.isEventKey(t, "Down") ? (t.preventDefault(), t.stopPropagation(), this.stepBack()) : Os.isEventKey(t, "Right") || Os.isEventKey(t, "Up") ? (t.preventDefault(), t.stopPropagation(), this.stepForward()) : e.prototype.handleKeyDown.call(this, t)
            }, n.handleClick = function(e) {
                e.stopPropagation(), e.preventDefault()
            }, n.vertical = function(e) {
                if (void 0 === e) return this.vertical_ || !1;
                this.vertical_ = !!e, this.vertical_ ? this.addClass("vjs-slider-vertical") : this.addClass("vjs-slider-horizontal")
            }, t
        }(yf);
    yf.registerComponent("Slider", Gm);
    var Vm = function(e, t) {
            return Hm(e / t * 100, 0, 100).toFixed(2) + "%"
        },
        Wm = function(e) {
            function t(t, n) {
                var r;
                return (r = e.call(this, t, n) || this).partEls_ = [], r.on(t, "progress", (function(e) {
                    return r.update(e)
                })), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.createEl = function() {
                var t = e.prototype.createEl.call(this, "div", {
                        className: "vjs-load-progress"
                    }),
                    n = Jh("span", {
                        className: "vjs-control-text"
                    }),
                    r = Jh("span", {
                        textContent: this.localize("Loaded")
                    }),
                    i = Ps.createTextNode(": ");
                return this.percentageEl_ = Jh("span", {
                    className: "vjs-control-text-loaded-percentage",
                    textContent: "0%"
                }), t.appendChild(n), n.appendChild(r), n.appendChild(i), n.appendChild(this.percentageEl_), t
            }, n.dispose = function() {
                this.partEls_ = null, this.percentageEl_ = null, e.prototype.dispose.call(this)
            }, n.update = function(e) {
                var t = this;
                this.requestNamedAnimationFrame("LoadProgressBar#update", (function() {
                    var e = t.player_.liveTracker,
                        n = t.player_.buffered(),
                        r = e && e.isLive() ? e.seekableEnd() : t.player_.duration(),
                        i = t.player_.bufferedEnd(),
                        a = t.partEls_,
                        o = Vm(i, r);
                    t.percent_ !== o && (t.el_.style.width = o, Zh(t.percentageEl_, o), t.percent_ = o);
                    for (var s = 0; s < n.length; s++) {
                        var u = n.start(s),
                            l = n.end(s),
                            c = a[s];
                        c || (c = t.el_.appendChild(Jh()), a[s] = c), c.dataset.start === u && c.dataset.end === l || (c.dataset.start = u, c.dataset.end = l, c.style.left = Vm(u, i), c.style.width = Vm(l - u, i))
                    }
                    for (var d = a.length; d > n.length; d--) t.el_.removeChild(a[d - 1]);
                    a.length = n.length
                }))
            }, t
        }(yf);
    yf.registerComponent("LoadProgressBar", Wm);
    var qm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).update = Yp(Kp(xs(r), r.update), Xp), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-time-tooltip"
            }, {
                "aria-hidden": "true"
            })
        }, n.update = function(e, t, n) {
            var r = pp(this.el_),
                i = hp(this.player_.el()),
                a = e.width * t;
            if (i && r) {
                var o = e.left - i.left + a,
                    s = e.width - a + (i.right - e.right),
                    u = r.width / 2;
                o < u ? u += u - o : s < u && (u = s), u < 0 ? u = 0 : u > r.width && (u = r.width), u = Math.round(u), this.el_.style.right = "-" + u + "px", this.write(n)
            }
        }, n.write = function(e) {
            Zh(this.el_, e)
        }, n.updateTime = function(e, t, n, r) {
            var i = this;
            this.requestNamedAnimationFrame("TimeTooltip#updateTime", (function() {
                var a, o = i.player_.duration();
                if (i.player_.liveTracker && i.player_.liveTracker.isLive()) {
                    var s = i.player_.liveTracker.liveWindow(),
                        u = s - t * s;
                    a = (u < 1 ? "" : "-") + Dm(u, s)
                } else a = Dm(n, o);
                i.update(e, t, a), r && r()
            }))
        }, t
    }(yf);
    yf.registerComponent("TimeTooltip", qm);
    var zm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).update = Yp(Kp(xs(r), r.update), Xp), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-play-progress vjs-slider-bar"
            }, {
                "aria-hidden": "true"
            })
        }, n.update = function(e, t) {
            var n = this.getChild("timeTooltip");
            if (n) {
                var r = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                n.updateTime(e, t, r)
            }
        }, t
    }(yf);
    zm.prototype.options_ = {
        children: []
    }, Vh || Ih || zm.prototype.options_.children.push("timeTooltip"), yf.registerComponent("PlayProgressBar", zm);
    var Xm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).update = Yp(Kp(xs(r), r.update), Xp), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-mouse-display"
            })
        }, n.update = function(e, t) {
            var n = this,
                r = t * this.player_.duration();
            this.getChild("timeTooltip").updateTime(e, t, r, (function() {
                n.el_.style.left = e.width * t + "px"
            }))
        }, t
    }(yf);
    Xm.prototype.options_ = {
        children: ["timeTooltip"]
    }, yf.registerComponent("MouseTimeDisplay", Xm);
    var Km = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).setEventHandlers_(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.setEventHandlers_ = function() {
            var e = this;
            this.update_ = Kp(this, this.update), this.update = Yp(this.update_, Xp), this.on(this.player_, ["ended", "durationchange", "timeupdate"], this.update), this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update), this.updateInterval = null, this.enableIntervalHandler_ = function(t) {
                return e.enableInterval_(t)
            }, this.disableIntervalHandler_ = function(t) {
                return e.disableInterval_(t)
            }, this.on(this.player_, ["playing"], this.enableIntervalHandler_), this.on(this.player_, ["ended", "pause", "waiting"], this.disableIntervalHandler_), "hidden" in Ps && "visibilityState" in Ps && this.on(Ps, "visibilitychange", this.toggleVisibility_)
        }, n.toggleVisibility_ = function(e) {
            "hidden" === Ps.visibilityState ? (this.cancelNamedAnimationFrame("SeekBar#update"), this.cancelNamedAnimationFrame("Slider#update"), this.disableInterval_(e)) : (this.player_.ended() || this.player_.paused() || this.enableInterval_(), this.update())
        }, n.enableInterval_ = function() {
            this.updateInterval || (this.updateInterval = this.setInterval(this.update, Xp))
        }, n.disableInterval_ = function(e) {
            this.player_.liveTracker && this.player_.liveTracker.isLive() && e && "ended" !== e.type || this.updateInterval && (this.clearInterval(this.updateInterval), this.updateInterval = null)
        }, n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-progress-holder"
            }, {
                "aria-label": this.localize("Progress Bar")
            })
        }, n.update = function(t) {
            var n = this;
            if ("hidden" !== Ps.visibilityState) {
                var r = e.prototype.update.call(this);
                return this.requestNamedAnimationFrame("SeekBar#update", (function() {
                    var e = n.player_.ended() ? n.player_.duration() : n.getCurrentTime_(),
                        t = n.player_.liveTracker,
                        i = n.player_.duration();
                    t && t.isLive() && (i = n.player_.liveTracker.liveCurrentTime()), n.percent_ !== r && (n.el_.setAttribute("aria-valuenow", (100 * r).toFixed(2)), n.percent_ = r), n.currentTime_ === e && n.duration_ === i || (n.el_.setAttribute("aria-valuetext", n.localize("progress bar timing: currentTime={1} duration={2}", [Dm(e, i), Dm(i, i)], "{1} of {2}")), n.currentTime_ = e, n.duration_ = i), n.bar && n.bar.update(hp(n.el()), n.getProgress())
                })), r
            }
        }, n.userSeek_ = function(e) {
            this.player_.liveTracker && this.player_.liveTracker.isLive() && this.player_.liveTracker.nextSeekedFromUser(), this.player_.currentTime(e)
        }, n.getCurrentTime_ = function() {
            return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime()
        }, n.getPercent = function() {
            var e, t = this.getCurrentTime_(),
                n = this.player_.liveTracker;
            return n && n.isLive() ? (e = (t - n.seekableStart()) / n.liveWindow(), n.atLiveEdge() && (e = 1)) : e = t / this.player_.duration(), e
        }, n.handleMouseDown = function(t) {
            Tp(t) && (t.stopPropagation(), this.player_.scrubbing(!0), this.videoWasPlaying = !this.player_.paused(), this.player_.pause(), e.prototype.handleMouseDown.call(this, t))
        }, n.handleMouseMove = function(e) {
            if (Tp(e)) {
                var t, n = this.calculateDistance(e),
                    r = this.player_.liveTracker;
                if (r && r.isLive()) {
                    if (n >= .99) return void r.seekToLiveEdge();
                    var i = r.seekableStart(),
                        a = r.liveCurrentTime();
                    if ((t = i + n * r.liveWindow()) >= a && (t = a), t <= i && (t = i + .1), t === 1 / 0) return
                } else(t = n * this.player_.duration()) === this.player_.duration() && (t -= .1);
                this.userSeek_(t)
            }
        }, n.enable = function() {
            e.prototype.enable.call(this);
            var t = this.getChild("mouseTimeDisplay");
            t && t.show()
        }, n.disable = function() {
            e.prototype.disable.call(this);
            var t = this.getChild("mouseTimeDisplay");
            t && t.hide()
        }, n.handleMouseUp = function(t) {
            e.prototype.handleMouseUp.call(this, t), t && t.stopPropagation(), this.player_.scrubbing(!1), this.player_.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            }), this.videoWasPlaying ? Ef(this.player_.play()) : this.update_()
        }, n.stepForward = function() {
            this.userSeek_(this.player_.currentTime() + 5)
        }, n.stepBack = function() {
            this.userSeek_(this.player_.currentTime() - 5)
        }, n.handleAction = function(e) {
            this.player_.paused() ? this.player_.play() : this.player_.pause()
        }, n.handleKeyDown = function(t) {
            var n = this.player_.liveTracker;
            if (Os.isEventKey(t, "Space") || Os.isEventKey(t, "Enter")) t.preventDefault(), t.stopPropagation(), this.handleAction(t);
            else if (Os.isEventKey(t, "Home")) t.preventDefault(), t.stopPropagation(), this.userSeek_(0);
            else if (Os.isEventKey(t, "End")) t.preventDefault(), t.stopPropagation(), n && n.isLive() ? this.userSeek_(n.liveCurrentTime()) : this.userSeek_(this.player_.duration());
            else if (/^[0-9]$/.test(Os(t))) {
                t.preventDefault(), t.stopPropagation();
                var r = 10 * (Os.codes[Os(t)] - Os.codes[0]) / 100;
                n && n.isLive() ? this.userSeek_(n.seekableStart() + n.liveWindow() * r) : this.userSeek_(this.player_.duration() * r)
            } else Os.isEventKey(t, "PgDn") ? (t.preventDefault(), t.stopPropagation(), this.userSeek_(this.player_.currentTime() - 60)) : Os.isEventKey(t, "PgUp") ? (t.preventDefault(), t.stopPropagation(), this.userSeek_(this.player_.currentTime() + 60)) : e.prototype.handleKeyDown.call(this, t)
        }, n.dispose = function() {
            this.disableInterval_(), this.off(this.player_, ["ended", "durationchange", "timeupdate"], this.update), this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.update), this.off(this.player_, ["playing"], this.enableIntervalHandler_), this.off(this.player_, ["ended", "pause", "waiting"], this.disableIntervalHandler_), "hidden" in Ps && "visibilityState" in Ps && this.off(Ps, "visibilitychange", this.toggleVisibility_), e.prototype.dispose.call(this)
        }, t
    }(Gm);
    Km.prototype.options_ = {
        children: ["loadProgressBar", "playProgressBar"],
        barName: "playProgressBar"
    }, Vh || Ih || Km.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"), yf.registerComponent("SeekBar", Km);
    var Ym = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).handleMouseMove = Yp(Kp(xs(r), r.handleMouseMove), Xp), r.throttledHandleMouseSeek = Yp(Kp(xs(r), r.handleMouseSeek), Xp), r.handleMouseUpHandler_ = function(e) {
                return r.handleMouseUp(e)
            }, r.handleMouseDownHandler_ = function(e) {
                return r.handleMouseDown(e)
            }, r.enable(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-progress-control vjs-control"
            })
        }, n.handleMouseMove = function(e) {
            var t = this.getChild("seekBar");
            if (t) {
                var n = t.getChild("playProgressBar"),
                    r = t.getChild("mouseTimeDisplay");
                if (n || r) {
                    var i = t.el(),
                        a = pp(i),
                        o = fp(i, e).x;
                    o = Hm(o, 0, 1), r && r.update(a, o), n && n.update(a, t.getProgress())
                }
            }
        }, n.handleMouseSeek = function(e) {
            var t = this.getChild("seekBar");
            t && t.handleMouseMove(e)
        }, n.enabled = function() {
            return this.enabled_
        }, n.disable = function() {
            if (this.children().forEach((function(e) {
                    return e.disable && e.disable()
                })), this.enabled() && (this.off(["mousedown", "touchstart"], this.handleMouseDownHandler_), this.off(this.el_, "mousemove", this.handleMouseMove), this.removeListenersAddedOnMousedownAndTouchstart(), this.addClass("disabled"), this.enabled_ = !1, this.player_.scrubbing())) {
                var e = this.getChild("seekBar");
                this.player_.scrubbing(!1), e.videoWasPlaying && Ef(this.player_.play())
            }
        }, n.enable = function() {
            this.children().forEach((function(e) {
                return e.enable && e.enable()
            })), this.enabled() || (this.on(["mousedown", "touchstart"], this.handleMouseDownHandler_), this.on(this.el_, "mousemove", this.handleMouseMove), this.removeClass("disabled"), this.enabled_ = !0)
        }, n.removeListenersAddedOnMousedownAndTouchstart = function() {
            var e = this.el_.ownerDocument;
            this.off(e, "mousemove", this.throttledHandleMouseSeek), this.off(e, "touchmove", this.throttledHandleMouseSeek), this.off(e, "mouseup", this.handleMouseUpHandler_), this.off(e, "touchend", this.handleMouseUpHandler_)
        }, n.handleMouseDown = function(e) {
            var t = this.el_.ownerDocument,
                n = this.getChild("seekBar");
            n && n.handleMouseDown(e), this.on(t, "mousemove", this.throttledHandleMouseSeek), this.on(t, "touchmove", this.throttledHandleMouseSeek), this.on(t, "mouseup", this.handleMouseUpHandler_), this.on(t, "touchend", this.handleMouseUpHandler_)
        }, n.handleMouseUp = function(e) {
            var t = this.getChild("seekBar");
            t && t.handleMouseUp(e), this.removeListenersAddedOnMousedownAndTouchstart()
        }, t
    }(yf);
    Ym.prototype.options_ = {
        children: ["seekBar"]
    }, yf.registerComponent("ProgressControl", Ym);
    var Qm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).on(t, ["enterpictureinpicture", "leavepictureinpicture"], (function(e) {
                return r.handlePictureInPictureChange(e)
            })), r.on(t, ["disablepictureinpicturechanged", "loadedmetadata"], (function(e) {
                return r.handlePictureInPictureEnabledChange(e)
            })), r.disable(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-picture-in-picture-control " + e.prototype.buildCSSClass.call(this)
        }, n.handlePictureInPictureEnabledChange = function() {
            Ps.pictureInPictureEnabled && !1 === this.player_.disablePictureInPicture() ? this.enable() : this.disable()
        }, n.handlePictureInPictureChange = function(e) {
            this.player_.isInPictureInPicture() ? this.controlText("Exit Picture-in-Picture") : this.controlText("Picture-in-Picture"), this.handlePictureInPictureEnabledChange()
        }, n.handleClick = function(e) {
            this.player_.isInPictureInPicture() ? this.player_.exitPictureInPicture() : this.player_.requestPictureInPicture()
        }, t
    }(Pm);
    Qm.prototype.controlText_ = "Picture-in-Picture", yf.registerComponent("PictureInPictureToggle", Qm);
    var $m = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).on(t, "fullscreenchange", (function(e) {
                return r.handleFullscreenChange(e)
            })), !1 === Ps[t.fsApi_.fullscreenEnabled] && r.disable(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-fullscreen-control " + e.prototype.buildCSSClass.call(this)
        }, n.handleFullscreenChange = function(e) {
            this.player_.isFullscreen() ? this.controlText("Non-Fullscreen") : this.controlText("Fullscreen")
        }, n.handleClick = function(e) {
            this.player_.isFullscreen() ? this.player_.exitFullscreen() : this.player_.requestFullscreen()
        }, t
    }(Pm);
    $m.prototype.controlText_ = "Fullscreen", yf.registerComponent("FullscreenToggle", $m);
    var Jm = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        return Ms(t, e), t.prototype.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-volume-level",
                innerHTML: '<span class="vjs-control-text"></span>'
            })
        }, t
    }(yf);
    yf.registerComponent("VolumeLevel", Jm);
    var Zm = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).update = Yp(Kp(xs(r), r.update), Xp), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-volume-tooltip"
            }, {
                "aria-hidden": "true"
            })
        }, n.update = function(e, t, n, r) {
            if (!n) {
                var i = hp(this.el_),
                    a = hp(this.player_.el()),
                    o = e.width * t;
                if (!a || !i) return;
                var s = e.left - a.left + o,
                    u = e.width - o + (a.right - e.right),
                    l = i.width / 2;
                s < l ? l += l - s : u < l && (l = u), l < 0 ? l = 0 : l > i.width && (l = i.width), this.el_.style.right = "-" + l + "px"
            }
            this.write(r + "%")
        }, n.write = function(e) {
            Zh(this.el_, e)
        }, n.updateVolume = function(e, t, n, r, i) {
            var a = this;
            this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume", (function() {
                a.update(e, t, n, r.toFixed(0)), i && i()
            }))
        }, t
    }(yf);
    yf.registerComponent("VolumeLevelTooltip", Zm);
    var eg = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).update = Yp(Kp(xs(r), r.update), Xp), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-mouse-display"
            })
        }, n.update = function(e, t, n) {
            var r = this,
                i = 100 * t;
            this.getChild("volumeLevelTooltip").updateVolume(e, t, n, i, (function() {
                n ? r.el_.style.bottom = e.height * t + "px" : r.el_.style.left = e.width * t + "px"
            }))
        }, t
    }(yf);
    eg.prototype.options_ = {
        children: ["volumeLevelTooltip"]
    }, yf.registerComponent("MouseVolumeLevelDisplay", eg);
    var tg = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).on("slideractive", (function(e) {
                return r.updateLastVolume_(e)
            })), r.on(t, "volumechange", (function(e) {
                return r.updateARIAAttributes(e)
            })), t.ready((function() {
                return r.updateARIAAttributes()
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-volume-bar vjs-slider-bar"
            }, {
                "aria-label": this.localize("Volume Level"),
                "aria-live": "polite"
            })
        }, n.handleMouseDown = function(t) {
            Tp(t) && e.prototype.handleMouseDown.call(this, t)
        }, n.handleMouseMove = function(e) {
            var t = this.getChild("mouseVolumeLevelDisplay");
            if (t) {
                var n = this.el(),
                    r = hp(n),
                    i = this.vertical(),
                    a = fp(n, e);
                a = i ? a.y : a.x, a = Hm(a, 0, 1), t.update(r, a, i)
            }
            Tp(e) && (this.checkMuted(), this.player_.volume(this.calculateDistance(e)))
        }, n.checkMuted = function() {
            this.player_.muted() && this.player_.muted(!1)
        }, n.getPercent = function() {
            return this.player_.muted() ? 0 : this.player_.volume()
        }, n.stepForward = function() {
            this.checkMuted(), this.player_.volume(this.player_.volume() + .1)
        }, n.stepBack = function() {
            this.checkMuted(), this.player_.volume(this.player_.volume() - .1)
        }, n.updateARIAAttributes = function(e) {
            var t = this.player_.muted() ? 0 : this.volumeAsPercentage_();
            this.el_.setAttribute("aria-valuenow", t), this.el_.setAttribute("aria-valuetext", t + "%")
        }, n.volumeAsPercentage_ = function() {
            return Math.round(100 * this.player_.volume())
        }, n.updateLastVolume_ = function() {
            var e = this,
                t = this.player_.volume();
            this.one("sliderinactive", (function() {
                0 === e.player_.volume() && e.player_.lastVolume_(t)
            }))
        }, t
    }(Gm);
    tg.prototype.options_ = {
        children: ["volumeLevel"],
        barName: "volumeLevel"
    }, Vh || Ih || tg.prototype.options_.children.splice(0, 0, "mouseVolumeLevelDisplay"), tg.prototype.playerEvent = "volumechange", yf.registerComponent("VolumeBar", tg);
    var ng = function(e) {
        function t(t, n) {
            var r;
            return void 0 === n && (n = {}), n.vertical = n.vertical || !1, (void 0 === n.volumeBar || wh(n.volumeBar)) && (n.volumeBar = n.volumeBar || {}, n.volumeBar.vertical = n.vertical),
                function(e, t) {
                    t.tech_ && !t.tech_.featuresVolumeControl && e.addClass("vjs-hidden"), e.on(t, "loadstart", (function() {
                        t.tech_.featuresVolumeControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden")
                    }))
                }(xs(r = e.call(this, t, n) || this), t), r.throttledHandleMouseMove = Yp(Kp(xs(r), r.handleMouseMove), Xp), r.handleMouseUpHandler_ = function(e) {
                    return r.handleMouseUp(e)
                }, r.on("mousedown", (function(e) {
                    return r.handleMouseDown(e)
                })), r.on("touchstart", (function(e) {
                    return r.handleMouseDown(e)
                })), r.on("mousemove", (function(e) {
                    return r.handleMouseMove(e)
                })), r.on(r.volumeBar, ["focus", "slideractive"], (function() {
                    r.volumeBar.addClass("vjs-slider-active"), r.addClass("vjs-slider-active"), r.trigger("slideractive")
                })), r.on(r.volumeBar, ["blur", "sliderinactive"], (function() {
                    r.volumeBar.removeClass("vjs-slider-active"), r.removeClass("vjs-slider-active"), r.trigger("sliderinactive")
                })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            var t = "vjs-volume-horizontal";
            return this.options_.vertical && (t = "vjs-volume-vertical"), e.prototype.createEl.call(this, "div", {
                className: "vjs-volume-control vjs-control " + t
            })
        }, n.handleMouseDown = function(e) {
            var t = this.el_.ownerDocument;
            this.on(t, "mousemove", this.throttledHandleMouseMove), this.on(t, "touchmove", this.throttledHandleMouseMove), this.on(t, "mouseup", this.handleMouseUpHandler_), this.on(t, "touchend", this.handleMouseUpHandler_)
        }, n.handleMouseUp = function(e) {
            var t = this.el_.ownerDocument;
            this.off(t, "mousemove", this.throttledHandleMouseMove), this.off(t, "touchmove", this.throttledHandleMouseMove), this.off(t, "mouseup", this.handleMouseUpHandler_), this.off(t, "touchend", this.handleMouseUpHandler_)
        }, n.handleMouseMove = function(e) {
            this.volumeBar.handleMouseMove(e)
        }, t
    }(yf);
    ng.prototype.options_ = {
        children: ["volumeBar"]
    }, yf.registerComponent("VolumeControl", ng);
    var rg = function(e) {
        function t(t, n) {
            var r;
            return function(e, t) {
                t.tech_ && !t.tech_.featuresMuteControl && e.addClass("vjs-hidden"), e.on(t, "loadstart", (function() {
                    t.tech_.featuresMuteControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden")
                }))
            }(xs(r = e.call(this, t, n) || this), t), r.on(t, ["loadstart", "volumechange"], (function(e) {
                return r.update(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-mute-control " + e.prototype.buildCSSClass.call(this)
        }, n.handleClick = function(e) {
            var t = this.player_.volume(),
                n = this.player_.lastVolume_();
            if (0 === t) {
                var r = n < .1 ? .1 : n;
                this.player_.volume(r), this.player_.muted(!1)
            } else this.player_.muted(!this.player_.muted())
        }, n.update = function(e) {
            this.updateIcon_(), this.updateControlText_()
        }, n.updateIcon_ = function() {
            var e = this.player_.volume(),
                t = 3;
            Vh && this.player_.tech_ && this.player_.tech_.el_ && this.player_.muted(this.player_.tech_.el_.muted), 0 === e || this.player_.muted() ? t = 0 : e < .33 ? t = 1 : e < .67 && (t = 2);
            for (var n = 0; n < 4; n++) rp(this.el_, "vjs-vol-" + n);
            np(this.el_, "vjs-vol-" + t)
        }, n.updateControlText_ = function() {
            var e = this.player_.muted() || 0 === this.player_.volume() ? "Unmute" : "Mute";
            this.controlText() !== e && this.controlText(e)
        }, t
    }(Pm);
    rg.prototype.controlText_ = "Mute", yf.registerComponent("MuteToggle", rg);
    var ig = function(e) {
        function t(t, n) {
            var r;
            return void 0 === n && (n = {}), void 0 !== n.inline ? n.inline = n.inline : n.inline = !0, (void 0 === n.volumeControl || wh(n.volumeControl)) && (n.volumeControl = n.volumeControl || {}, n.volumeControl.vertical = !n.inline), (r = e.call(this, t, n) || this).handleKeyPressHandler_ = function(e) {
                return r.handleKeyPress(e)
            }, r.on(t, ["loadstart"], (function(e) {
                return r.volumePanelState_(e)
            })), r.on(r.muteToggle, "keyup", (function(e) {
                return r.handleKeyPress(e)
            })), r.on(r.volumeControl, "keyup", (function(e) {
                return r.handleVolumeControlKeyUp(e)
            })), r.on("keydown", (function(e) {
                return r.handleKeyPress(e)
            })), r.on("mouseover", (function(e) {
                return r.handleMouseOver(e)
            })), r.on("mouseout", (function(e) {
                return r.handleMouseOut(e)
            })), r.on(r.volumeControl, ["slideractive"], r.sliderActive_), r.on(r.volumeControl, ["sliderinactive"], r.sliderInactive_), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.sliderActive_ = function() {
            this.addClass("vjs-slider-active")
        }, n.sliderInactive_ = function() {
            this.removeClass("vjs-slider-active")
        }, n.volumePanelState_ = function() {
            this.volumeControl.hasClass("vjs-hidden") && this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-hidden"), this.volumeControl.hasClass("vjs-hidden") && !this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-mute-toggle-only")
        }, n.createEl = function() {
            var t = "vjs-volume-panel-horizontal";
            return this.options_.inline || (t = "vjs-volume-panel-vertical"), e.prototype.createEl.call(this, "div", {
                className: "vjs-volume-panel vjs-control " + t
            })
        }, n.dispose = function() {
            this.handleMouseOut(), e.prototype.dispose.call(this)
        }, n.handleVolumeControlKeyUp = function(e) {
            Os.isEventKey(e, "Esc") && this.muteToggle.focus()
        }, n.handleMouseOver = function(e) {
            this.addClass("vjs-hover"), jp(Ps, "keyup", this.handleKeyPressHandler_)
        }, n.handleMouseOut = function(e) {
            this.removeClass("vjs-hover"), Hp(Ps, "keyup", this.handleKeyPressHandler_)
        }, n.handleKeyPress = function(e) {
            Os.isEventKey(e, "Esc") && this.handleMouseOut()
        }, t
    }(yf);
    ig.prototype.options_ = {
        children: ["muteToggle", "volumeControl"]
    }, yf.registerComponent("VolumePanel", ig);
    var ag = function(e) {
        function t(t, n) {
            var r;
            return r = e.call(this, t, n) || this, n && (r.menuButton_ = n.menuButton), r.focusedChild_ = -1, r.on("keydown", (function(e) {
                return r.handleKeyDown(e)
            })), r.boundHandleBlur_ = function(e) {
                return r.handleBlur(e)
            }, r.boundHandleTapClick_ = function(e) {
                return r.handleTapClick(e)
            }, r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.addEventListenerForItem = function(e) {
            e instanceof yf && (this.on(e, "blur", this.boundHandleBlur_), this.on(e, ["tap", "click"], this.boundHandleTapClick_))
        }, n.removeEventListenerForItem = function(e) {
            e instanceof yf && (this.off(e, "blur", this.boundHandleBlur_), this.off(e, ["tap", "click"], this.boundHandleTapClick_))
        }, n.removeChild = function(t) {
            "string" == typeof t && (t = this.getChild(t)), this.removeEventListenerForItem(t), e.prototype.removeChild.call(this, t)
        }, n.addItem = function(e) {
            var t = this.addChild(e);
            t && this.addEventListenerForItem(t)
        }, n.createEl = function() {
            var t = this.options_.contentElType || "ul";
            this.contentEl_ = Jh(t, {
                className: "vjs-menu-content"
            }), this.contentEl_.setAttribute("role", "menu");
            var n = e.prototype.createEl.call(this, "div", {
                append: this.contentEl_,
                className: "vjs-menu"
            });
            return n.appendChild(this.contentEl_), jp(n, "click", (function(e) {
                e.preventDefault(), e.stopImmediatePropagation()
            })), n
        }, n.dispose = function() {
            this.contentEl_ = null, this.boundHandleBlur_ = null, this.boundHandleTapClick_ = null, e.prototype.dispose.call(this)
        }, n.handleBlur = function(e) {
            var t = e.relatedTarget || Ps.activeElement;
            if (!this.children().some((function(e) {
                    return e.el() === t
                }))) {
                var n = this.menuButton_;
                n && n.buttonPressed_ && t !== n.el().firstChild && n.unpressButton()
            }
        }, n.handleTapClick = function(e) {
            if (this.menuButton_) {
                this.menuButton_.unpressButton();
                var t = this.children();
                if (!Array.isArray(t)) return;
                var n = t.filter((function(t) {
                    return t.el() === e.target
                }))[0];
                if (!n) return;
                "CaptionSettingsMenuItem" !== n.name() && this.menuButton_.focus()
            }
        }, n.handleKeyDown = function(e) {
            Os.isEventKey(e, "Left") || Os.isEventKey(e, "Down") ? (e.preventDefault(), e.stopPropagation(), this.stepForward()) : (Os.isEventKey(e, "Right") || Os.isEventKey(e, "Up")) && (e.preventDefault(), e.stopPropagation(), this.stepBack())
        }, n.stepForward = function() {
            var e = 0;
            void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1), this.focus(e)
        }, n.stepBack = function() {
            var e = 0;
            void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1), this.focus(e)
        }, n.focus = function(e) {
            void 0 === e && (e = 0);
            var t = this.children().slice();
            t.length && t[0].hasClass("vjs-menu-title") && t.shift(), t.length > 0 && (e < 0 ? e = 0 : e >= t.length && (e = t.length - 1), this.focusedChild_ = e, t[e].el_.focus())
        }, t
    }(yf);
    yf.registerComponent("Menu", ag);
    var og = function(e) {
        function t(t, n) {
            var r;
            void 0 === n && (n = {}), (r = e.call(this, t, n) || this).menuButton_ = new Pm(t, n), r.menuButton_.controlText(r.controlText_), r.menuButton_.el_.setAttribute("aria-haspopup", "true");
            var i = Pm.prototype.buildCSSClass();
            r.menuButton_.el_.className = r.buildCSSClass() + " " + i, r.menuButton_.removeClass("vjs-control"), r.addChild(r.menuButton_), r.update(), r.enabled_ = !0;
            var a = function(e) {
                return r.handleClick(e)
            };
            return r.handleMenuKeyUp_ = function(e) {
                return r.handleMenuKeyUp(e)
            }, r.on(r.menuButton_, "tap", a), r.on(r.menuButton_, "click", a), r.on(r.menuButton_, "keydown", (function(e) {
                return r.handleKeyDown(e)
            })), r.on(r.menuButton_, "mouseenter", (function() {
                r.addClass("vjs-hover"), r.menu.show(), jp(Ps, "keyup", r.handleMenuKeyUp_)
            })), r.on("mouseleave", (function(e) {
                return r.handleMouseLeave(e)
            })), r.on("keydown", (function(e) {
                return r.handleSubmenuKeyDown(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.update = function() {
            var e = this.createMenu();
            this.menu && (this.menu.dispose(), this.removeChild(this.menu)), this.menu = e, this.addChild(e), this.buttonPressed_ = !1, this.menuButton_.el_.setAttribute("aria-expanded", "false"), this.items && this.items.length <= this.hideThreshold_ ? this.hide() : this.show()
        }, n.createMenu = function() {
            var e = new ag(this.player_, {
                menuButton: this
            });
            if (this.hideThreshold_ = 0, this.options_.title) {
                var t = Jh("li", {
                        className: "vjs-menu-title",
                        innerHTML: df(this.options_.title),
                        tabIndex: -1
                    }),
                    n = new yf(this.player_, {
                        el: t
                    });
                e.addItem(n)
            }
            if (this.items = this.createItems(), this.items)
                for (var r = 0; r < this.items.length; r++) e.addItem(this.items[r]);
            return e
        }, n.createItems = function() {}, n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: this.buildWrapperCSSClass()
            }, {})
        }, n.buildWrapperCSSClass = function() {
            var t = "vjs-menu-button";
            return !0 === this.options_.inline ? t += "-inline" : t += "-popup", "vjs-menu-button " + t + " " + Pm.prototype.buildCSSClass() + " " + e.prototype.buildCSSClass.call(this)
        }, n.buildCSSClass = function() {
            var t = "vjs-menu-button";
            return !0 === this.options_.inline ? t += "-inline" : t += "-popup", "vjs-menu-button " + t + " " + e.prototype.buildCSSClass.call(this)
        }, n.controlText = function(e, t) {
            return void 0 === t && (t = this.menuButton_.el()), this.menuButton_.controlText(e, t)
        }, n.dispose = function() {
            this.handleMouseLeave(), e.prototype.dispose.call(this)
        }, n.handleClick = function(e) {
            this.buttonPressed_ ? this.unpressButton() : this.pressButton()
        }, n.handleMouseLeave = function(e) {
            this.removeClass("vjs-hover"), Hp(Ps, "keyup", this.handleMenuKeyUp_)
        }, n.focus = function() {
            this.menuButton_.focus()
        }, n.blur = function() {
            this.menuButton_.blur()
        }, n.handleKeyDown = function(e) {
            Os.isEventKey(e, "Esc") || Os.isEventKey(e, "Tab") ? (this.buttonPressed_ && this.unpressButton(), Os.isEventKey(e, "Tab") || (e.preventDefault(), this.menuButton_.focus())) : (Os.isEventKey(e, "Up") || Os.isEventKey(e, "Down")) && (this.buttonPressed_ || (e.preventDefault(), this.pressButton()))
        }, n.handleMenuKeyUp = function(e) {
            (Os.isEventKey(e, "Esc") || Os.isEventKey(e, "Tab")) && this.removeClass("vjs-hover")
        }, n.handleSubmenuKeyPress = function(e) {
            this.handleSubmenuKeyDown(e)
        }, n.handleSubmenuKeyDown = function(e) {
            (Os.isEventKey(e, "Esc") || Os.isEventKey(e, "Tab")) && (this.buttonPressed_ && this.unpressButton(), Os.isEventKey(e, "Tab") || (e.preventDefault(), this.menuButton_.focus()))
        }, n.pressButton = function() {
            if (this.enabled_) {
                if (this.buttonPressed_ = !0, this.menu.show(), this.menu.lockShowing(), this.menuButton_.el_.setAttribute("aria-expanded", "true"), Vh && Qh()) return;
                this.menu.focus()
            }
        }, n.unpressButton = function() {
            this.enabled_ && (this.buttonPressed_ = !1, this.menu.unlockShowing(), this.menu.hide(), this.menuButton_.el_.setAttribute("aria-expanded", "false"))
        }, n.disable = function() {
            this.unpressButton(), this.enabled_ = !1, this.addClass("vjs-disabled"), this.menuButton_.disable()
        }, n.enable = function() {
            this.enabled_ = !0, this.removeClass("vjs-disabled"), this.menuButton_.enable()
        }, t
    }(yf);
    yf.registerComponent("MenuButton", og);
    var sg = function(e) {
        function t(t, n) {
            var r, i = n.tracks;
            if ((r = e.call(this, t, n) || this).items.length <= 1 && r.hide(), !i) return xs(r);
            var a = Kp(xs(r), r.update);
            return i.addEventListener("removetrack", a), i.addEventListener("addtrack", a), i.addEventListener("labelchange", a), r.player_.on("ready", a), r.player_.on("dispose", (function() {
                i.removeEventListener("removetrack", a), i.removeEventListener("addtrack", a), i.removeEventListener("labelchange", a)
            })), r
        }
        return Ms(t, e), t
    }(og);
    yf.registerComponent("TrackButton", sg);
    var ug = ["Tab", "Esc", "Up", "Down", "Right", "Left"],
        lg = function(e) {
            function t(t, n) {
                var r;
                return (r = e.call(this, t, n) || this).selectable = n.selectable, r.isSelected_ = n.selected || !1, r.multiSelectable = n.multiSelectable, r.selected(r.isSelected_), r.selectable ? r.multiSelectable ? r.el_.setAttribute("role", "menuitemcheckbox") : r.el_.setAttribute("role", "menuitemradio") : r.el_.setAttribute("role", "menuitem"), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.createEl = function(t, n, r) {
                return this.nonIconControl = !0, e.prototype.createEl.call(this, "li", _h({
                    className: "vjs-menu-item",
                    innerHTML: '<span class="vjs-menu-item-text">' + this.localize(this.options_.label) + "</span>",
                    tabIndex: -1
                }, n), r)
            }, n.handleKeyDown = function(t) {
                ug.some((function(e) {
                    return Os.isEventKey(t, e)
                })) || e.prototype.handleKeyDown.call(this, t)
            }, n.handleClick = function(e) {
                this.selected(!0)
            }, n.selected = function(e) {
                this.selectable && (e ? (this.addClass("vjs-selected"), this.el_.setAttribute("aria-checked", "true"), this.controlText(", selected"), this.isSelected_ = !0) : (this.removeClass("vjs-selected"), this.el_.setAttribute("aria-checked", "false"), this.controlText(""), this.isSelected_ = !1))
            }, t
        }(Tm);
    yf.registerComponent("MenuItem", lg);
    var cg = function(e) {
        function t(t, n) {
            var r, i = n.track,
                a = t.textTracks();
            n.label = i.label || i.language || "Unknown", n.selected = "showing" === i.mode, (r = e.call(this, t, n) || this).track = i, r.kinds = (n.kinds || [n.kind || r.track.kind]).filter(Boolean);
            var o, s = function() {
                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                    r.handleTracksChange.apply(xs(r), t)
                },
                u = function() {
                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                    r.handleSelectedLanguageChange.apply(xs(r), t)
                };
            (t.on(["loadstart", "texttrackchange"], s), a.addEventListener("change", s), a.addEventListener("selectedlanguagechange", u), r.on("dispose", (function() {
                t.off(["loadstart", "texttrackchange"], s), a.removeEventListener("change", s), a.removeEventListener("selectedlanguagechange", u)
            })), void 0 === a.onchange) && r.on(["tap", "click"], (function() {
                if ("object" != typeof m.Event) try {
                    o = new m.Event("change")
                } catch (e) {}
                o || (o = Ps.createEvent("Event")).initEvent("change", !0, !0), a.dispatchEvent(o)
            }));
            return r.handleTracksChange(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.handleClick = function(t) {
            var n = this.track,
                r = this.player_.textTracks();
            if (e.prototype.handleClick.call(this, t), r)
                for (var i = 0; i < r.length; i++) {
                    var a = r[i]; - 1 !== this.kinds.indexOf(a.kind) && (a === n ? "showing" !== a.mode && (a.mode = "showing") : "disabled" !== a.mode && (a.mode = "disabled"))
                }
        }, n.handleTracksChange = function(e) {
            var t = "showing" === this.track.mode;
            t !== this.isSelected_ && this.selected(t)
        }, n.handleSelectedLanguageChange = function(e) {
            if ("showing" === this.track.mode) {
                var t = this.player_.cache_.selectedLanguage;
                if (t && t.enabled && t.language === this.track.language && t.kind !== this.track.kind) return;
                this.player_.cache_.selectedLanguage = {
                    enabled: !0,
                    language: this.track.language,
                    kind: this.track.kind
                }
            }
        }, n.dispose = function() {
            this.track = null, e.prototype.dispose.call(this)
        }, t
    }(lg);
    yf.registerComponent("TextTrackMenuItem", cg);
    var dg = function(e) {
        function t(t, n) {
            return n.track = {
                player: t,
                kind: n.kind,
                kinds: n.kinds,
                default: !1,
                mode: "disabled"
            }, n.kinds || (n.kinds = [n.kind]), n.label ? n.track.label = n.label : n.track.label = n.kinds.join(" and ") + " off", n.selectable = !0, n.multiSelectable = !1, e.call(this, t, n) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.handleTracksChange = function(e) {
            for (var t = this.player().textTracks(), n = !0, r = 0, i = t.length; r < i; r++) {
                var a = t[r];
                if (this.options_.kinds.indexOf(a.kind) > -1 && "showing" === a.mode) {
                    n = !1;
                    break
                }
            }
            n !== this.isSelected_ && this.selected(n)
        }, n.handleSelectedLanguageChange = function(e) {
            for (var t = this.player().textTracks(), n = !0, r = 0, i = t.length; r < i; r++) {
                var a = t[r];
                if (["captions", "descriptions", "subtitles"].indexOf(a.kind) > -1 && "showing" === a.mode) {
                    n = !1;
                    break
                }
            }
            n && (this.player_.cache_.selectedLanguage = {
                enabled: !1
            })
        }, t
    }(cg);
    yf.registerComponent("OffTextTrackMenuItem", dg);
    var hg = function(e) {
        function t(t, n) {
            return void 0 === n && (n = {}), n.tracks = t.textTracks(), e.call(this, t, n) || this
        }
        return Ms(t, e), t.prototype.createItems = function(e, t) {
            var n;
            void 0 === e && (e = []), void 0 === t && (t = cg), this.label_ && (n = this.label_ + " off"), e.push(new dg(this.player_, {
                kinds: this.kinds_,
                kind: this.kind_,
                label: n
            })), this.hideThreshold_ += 1;
            var r = this.player_.textTracks();
            Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
            for (var i = 0; i < r.length; i++) {
                var a = r[i];
                if (this.kinds_.indexOf(a.kind) > -1) {
                    var o = new t(this.player_, {
                        track: a,
                        kinds: this.kinds_,
                        kind: this.kind_,
                        selectable: !0,
                        multiSelectable: !1
                    });
                    o.addClass("vjs-" + a.kind + "-menu-item"), e.push(o)
                }
            }
            return e
        }, t
    }(sg);
    yf.registerComponent("TextTrackButton", hg);
    var pg = function(e) {
        function t(t, n) {
            var r, i = n.track,
                a = n.cue,
                o = t.currentTime();
            return n.selectable = !0, n.multiSelectable = !1, n.label = a.text, n.selected = a.startTime <= o && o < a.endTime, (r = e.call(this, t, n) || this).track = i, r.cue = a, i.addEventListener("cuechange", Kp(xs(r), r.update)), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.handleClick = function(t) {
            e.prototype.handleClick.call(this), this.player_.currentTime(this.cue.startTime), this.update(this.cue.startTime)
        }, n.update = function(e) {
            var t = this.cue,
                n = this.player_.currentTime();
            this.selected(t.startTime <= n && n < t.endTime)
        }, t
    }(lg);
    yf.registerComponent("ChaptersTrackMenuItem", pg);
    var fg = function(e) {
        function t(t, n, r) {
            return e.call(this, t, n, r) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-chapters-button " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-chapters-button " + e.prototype.buildWrapperCSSClass.call(this)
        }, n.update = function(t) {
            this.track_ && (!t || "addtrack" !== t.type && "removetrack" !== t.type) || this.setTrack(this.findChaptersTrack()), e.prototype.update.call(this)
        }, n.setTrack = function(e) {
            if (this.track_ !== e) {
                if (this.updateHandler_ || (this.updateHandler_ = this.update.bind(this)), this.track_) {
                    var t = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                    t && t.removeEventListener("load", this.updateHandler_), this.track_ = null
                }
                if (this.track_ = e, this.track_) {
                    this.track_.mode = "hidden";
                    var n = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                    n && n.addEventListener("load", this.updateHandler_)
                }
            }
        }, n.findChaptersTrack = function() {
            for (var e = this.player_.textTracks() || [], t = e.length - 1; t >= 0; t--) {
                var n = e[t];
                if (n.kind === this.kind_) return n
            }
        }, n.getMenuCaption = function() {
            return this.track_ && this.track_.label ? this.track_.label : this.localize(df(this.kind_))
        }, n.createMenu = function() {
            return this.options_.title = this.getMenuCaption(), e.prototype.createMenu.call(this)
        }, n.createItems = function() {
            var e = [];
            if (!this.track_) return e;
            var t = this.track_.cues;
            if (!t) return e;
            for (var n = 0, r = t.length; n < r; n++) {
                var i = t[n],
                    a = new pg(this.player_, {
                        track: this.track_,
                        cue: i
                    });
                e.push(a)
            }
            return e
        }, t
    }(hg);
    fg.prototype.kind_ = "chapters", fg.prototype.controlText_ = "Chapters", yf.registerComponent("ChaptersButton", fg);
    var mg = function(e) {
        function t(t, n, r) {
            var i;
            i = e.call(this, t, n, r) || this;
            var a = t.textTracks(),
                o = Kp(xs(i), i.handleTracksChange);
            return a.addEventListener("change", o), i.on("dispose", (function() {
                a.removeEventListener("change", o)
            })), i
        }
        Ms(t, e);
        var n = t.prototype;
        return n.handleTracksChange = function(e) {
            for (var t = this.player().textTracks(), n = !1, r = 0, i = t.length; r < i; r++) {
                var a = t[r];
                if (a.kind !== this.kind_ && "showing" === a.mode) {
                    n = !0;
                    break
                }
            }
            n ? this.disable() : this.enable()
        }, n.buildCSSClass = function() {
            return "vjs-descriptions-button " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-descriptions-button " + e.prototype.buildWrapperCSSClass.call(this)
        }, t
    }(hg);
    mg.prototype.kind_ = "descriptions", mg.prototype.controlText_ = "Descriptions", yf.registerComponent("DescriptionsButton", mg);
    var gg = function(e) {
        function t(t, n, r) {
            return e.call(this, t, n, r) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-subtitles-button " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-subtitles-button " + e.prototype.buildWrapperCSSClass.call(this)
        }, t
    }(hg);
    gg.prototype.kind_ = "subtitles", gg.prototype.controlText_ = "Subtitles", yf.registerComponent("SubtitlesButton", gg);
    var yg = function(e) {
        function t(t, n) {
            var r;
            return n.track = {
                player: t,
                kind: n.kind,
                label: n.kind + " settings",
                selectable: !1,
                default: !1,
                mode: "disabled"
            }, n.selectable = !1, n.name = "CaptionSettingsMenuItem", (r = e.call(this, t, n) || this).addClass("vjs-texttrack-settings"), r.controlText(", opens " + n.kind + " settings dialog"), r
        }
        return Ms(t, e), t.prototype.handleClick = function(e) {
            this.player().getChild("textTrackSettings").open()
        }, t
    }(cg);
    yf.registerComponent("CaptionSettingsMenuItem", yg);
    var vg = function(e) {
        function t(t, n, r) {
            return e.call(this, t, n, r) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-captions-button " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-captions-button " + e.prototype.buildWrapperCSSClass.call(this)
        }, n.createItems = function() {
            var t = [];
            return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (t.push(new yg(this.player_, {
                kind: this.kind_
            })), this.hideThreshold_ += 1), e.prototype.createItems.call(this, t)
        }, t
    }(hg);
    vg.prototype.kind_ = "captions", vg.prototype.controlText_ = "Captions", yf.registerComponent("CaptionsButton", vg);
    var bg = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        return Ms(t, e), t.prototype.createEl = function(t, n, r) {
            var i = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
            return "captions" === this.options_.track.kind && (i += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Captions") + "</span>\n      "), i += "</span>", e.prototype.createEl.call(this, t, _h({
                innerHTML: i
            }, n), r)
        }, t
    }(cg);
    yf.registerComponent("SubsCapsMenuItem", bg);
    var Tg = function(e) {
        function t(t, n) {
            var r;
            return void 0 === n && (n = {}), (r = e.call(this, t, n) || this).label_ = "subtitles", ["en", "en-us", "en-ca", "fr-ca"].indexOf(r.player_.language_) > -1 && (r.label_ = "captions"), r.menuButton_.controlText(df(r.label_)), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-subs-caps-button " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-subs-caps-button " + e.prototype.buildWrapperCSSClass.call(this)
        }, n.createItems = function() {
            var t = [];
            return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (t.push(new yg(this.player_, {
                kind: this.label_
            })), this.hideThreshold_ += 1), t = e.prototype.createItems.call(this, t, bg)
        }, t
    }(hg);
    Tg.prototype.kinds_ = ["captions", "subtitles"], Tg.prototype.controlText_ = "Subtitles", yf.registerComponent("SubsCapsButton", Tg);
    var _g = function(e) {
        function t(t, n) {
            var r, i = n.track,
                a = t.audioTracks();
            n.label = i.label || i.language || "Unknown", n.selected = i.enabled, (r = e.call(this, t, n) || this).track = i, r.addClass("vjs-" + i.kind + "-menu-item");
            var o = function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                r.handleTracksChange.apply(xs(r), t)
            };
            return a.addEventListener("change", o), r.on("dispose", (function() {
                a.removeEventListener("change", o)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function(t, n, r) {
            var i = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
            return "main-desc" === this.options_.track.kind && (i += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Descriptions") + "</span>\n      "), i += "</span>", e.prototype.createEl.call(this, t, _h({
                innerHTML: i
            }, n), r)
        }, n.handleClick = function(t) {
            e.prototype.handleClick.call(this, t), this.track.enabled = !0
        }, n.handleTracksChange = function(e) {
            this.selected(this.track.enabled)
        }, t
    }(lg);
    yf.registerComponent("AudioTrackMenuItem", _g);
    var Sg = function(e) {
        function t(t, n) {
            return void 0 === n && (n = {}), n.tracks = t.audioTracks(), e.call(this, t, n) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-audio-button " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-audio-button " + e.prototype.buildWrapperCSSClass.call(this)
        }, n.createItems = function(e) {
            void 0 === e && (e = []), this.hideThreshold_ = 1;
            for (var t = this.player_.audioTracks(), n = 0; n < t.length; n++) {
                var r = t[n];
                e.push(new _g(this.player_, {
                    track: r,
                    selectable: !0,
                    multiSelectable: !1
                }))
            }
            return e
        }, t
    }(sg);
    Sg.prototype.controlText_ = "Audio Track", yf.registerComponent("AudioTrackButton", Sg);
    var wg = function(e) {
        function t(t, n) {
            var r, i = n.rate,
                a = parseFloat(i, 10);
            return n.label = i, n.selected = a === t.playbackRate(), n.selectable = !0, n.multiSelectable = !1, (r = e.call(this, t, n) || this).label = i, r.rate = a, r.on(t, "ratechange", (function(e) {
                return r.update(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.handleClick = function(t) {
            e.prototype.handleClick.call(this), this.player().playbackRate(this.rate)
        }, n.update = function(e) {
            this.selected(this.player().playbackRate() === this.rate)
        }, t
    }(lg);
    wg.prototype.contentElType = "button", yf.registerComponent("PlaybackRateMenuItem", wg);
    var Ag = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).menuButton_.el_.setAttribute("aria-describedby", r.labelElId_), r.updateVisibility(), r.updateLabel(), r.on(t, "loadstart", (function(e) {
                return r.updateVisibility(e)
            })), r.on(t, "ratechange", (function(e) {
                return r.updateLabel(e)
            })), r.on(t, "playbackrateschange", (function(e) {
                return r.handlePlaybackRateschange(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            var t = e.prototype.createEl.call(this);
            return this.labelElId_ = "vjs-playback-rate-value-label-" + this.id_, this.labelEl_ = Jh("div", {
                className: "vjs-playback-rate-value",
                id: this.labelElId_,
                innerHTML: "1x"
            }), t.appendChild(this.labelEl_), t
        }, n.dispose = function() {
            this.labelEl_ = null, e.prototype.dispose.call(this)
        }, n.buildCSSClass = function() {
            return "vjs-playback-rate " + e.prototype.buildCSSClass.call(this)
        }, n.buildWrapperCSSClass = function() {
            return "vjs-playback-rate " + e.prototype.buildWrapperCSSClass.call(this)
        }, n.createItems = function() {
            for (var e = this.playbackRates(), t = [], n = e.length - 1; n >= 0; n--) t.push(new wg(this.player(), {
                rate: e[n] + "x"
            }));
            return t
        }, n.updateARIAAttributes = function() {
            this.el().setAttribute("aria-valuenow", this.player().playbackRate())
        }, n.handleClick = function(e) {
            for (var t = this.player().playbackRate(), n = this.playbackRates(), r = n[0], i = 0; i < n.length; i++)
                if (n[i] > t) {
                    r = n[i];
                    break
                } this.player().playbackRate(r)
        }, n.handlePlaybackRateschange = function(e) {
            this.update()
        }, n.playbackRates = function() {
            var e = this.player();
            return e.playbackRates && e.playbackRates() || []
        }, n.playbackRateSupported = function() {
            return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0
        }, n.updateVisibility = function(e) {
            this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden")
        }, n.updateLabel = function(e) {
            this.playbackRateSupported() && (this.labelEl_.innerHTML = this.player().playbackRate() + "x")
        }, t
    }(og);
    Ag.prototype.controlText_ = "Playback Rate", yf.registerComponent("PlaybackRateMenuButton", Ag);
    var Eg = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-spacer " + e.prototype.buildCSSClass.call(this)
        }, n.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: this.buildCSSClass()
            })
        }, t
    }(yf);
    yf.registerComponent("Spacer", Eg);
    var Cg = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-custom-control-spacer " + e.prototype.buildCSSClass.call(this)
        }, n.createEl = function() {
            var t = e.prototype.createEl.call(this, {
                className: this.buildCSSClass()
            });
            return t.innerHTML = "", t
        }, t
    }(Eg);
    yf.registerComponent("CustomControlSpacer", Cg);
    var Pg = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        return Ms(t, e), t.prototype.createEl = function() {
            return e.prototype.createEl.call(this, "div", {
                className: "vjs-control-bar",
                dir: "ltr"
            })
        }, t
    }(yf);
    Pg.prototype.options_ = {
        children: ["playToggle", "volumePanel", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "seekToLive", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "descriptionsButton", "subsCapsButton", "audioTrackButton", "fullscreenToggle"]
    }, "exitPictureInPicture" in Ps && Pg.prototype.options_.children.splice(Pg.prototype.options_.children.length - 1, 0, "pictureInPictureToggle"), yf.registerComponent("ControlBar", Pg);
    var kg = function(e) {
        function t(t, n) {
            var r;
            return (r = e.call(this, t, n) || this).on(t, "error", (function(e) {
                return r.open(e)
            })), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.buildCSSClass = function() {
            return "vjs-error-display " + e.prototype.buildCSSClass.call(this)
        }, n.content = function() {
            var e = this.player().error();
            return e ? this.localize(e.message) : ""
        }, t
    }(xf);
    kg.prototype.options_ = ks({}, xf.prototype.options_, {
        pauseOnOpen: !1,
        fillAlways: !0,
        temporary: !1,
        uncloseable: !0
    }), yf.registerComponent("ErrorDisplay", kg);
    var xg = "vjs-text-track-settings",
        Ig = ["#000", "Black"],
        Mg = ["#00F", "Blue"],
        Lg = ["#0FF", "Cyan"],
        Dg = ["#0F0", "Green"],
        Og = ["#F0F", "Magenta"],
        Rg = ["#F00", "Red"],
        Ng = ["#FFF", "White"],
        Bg = ["#FF0", "Yellow"],
        Ug = ["1", "Opaque"],
        Fg = ["0.5", "Semi-Transparent"],
        jg = ["0", "Transparent"],
        Hg = {
            backgroundColor: {
                selector: ".vjs-bg-color > select",
                id: "captions-background-color-%s",
                label: "Color",
                options: [Ig, Ng, Rg, Dg, Mg, Bg, Og, Lg]
            },
            backgroundOpacity: {
                selector: ".vjs-bg-opacity > select",
                id: "captions-background-opacity-%s",
                label: "Transparency",
                options: [Ug, Fg, jg]
            },
            color: {
                selector: ".vjs-fg-color > select",
                id: "captions-foreground-color-%s",
                label: "Color",
                options: [Ng, Ig, Rg, Dg, Mg, Bg, Og, Lg]
            },
            edgeStyle: {
                selector: ".vjs-edge-style > select",
                id: "%s",
                label: "Text Edge Style",
                options: [
                    ["none", "None"],
                    ["raised", "Raised"],
                    ["depressed", "Depressed"],
                    ["uniform", "Uniform"],
                    ["dropshadow", "Dropshadow"]
                ]
            },
            fontFamily: {
                selector: ".vjs-font-family > select",
                id: "captions-font-family-%s",
                label: "Font Family",
                options: [
                    ["proportionalSansSerif", "Proportional Sans-Serif"],
                    ["monospaceSansSerif", "Monospace Sans-Serif"],
                    ["proportionalSerif", "Proportional Serif"],
                    ["monospaceSerif", "Monospace Serif"],
                    ["casual", "Casual"],
                    ["script", "Script"],
                    ["small-caps", "Small Caps"]
                ]
            },
            fontPercent: {
                selector: ".vjs-font-percent > select",
                id: "captions-font-size-%s",
                label: "Font Size",
                options: [
                    ["0.50", "50%"],
                    ["0.75", "75%"],
                    ["1.00", "100%"],
                    ["1.25", "125%"],
                    ["1.50", "150%"],
                    ["1.75", "175%"],
                    ["2.00", "200%"],
                    ["3.00", "300%"],
                    ["4.00", "400%"]
                ],
                default: 2,
                parser: function(e) {
                    return "1.00" === e ? null : Number(e)
                }
            },
            textOpacity: {
                selector: ".vjs-text-opacity > select",
                id: "captions-foreground-opacity-%s",
                label: "Transparency",
                options: [Ug, Fg]
            },
            windowColor: {
                selector: ".vjs-window-color > select",
                id: "captions-window-color-%s",
                label: "Color"
            },
            windowOpacity: {
                selector: ".vjs-window-opacity > select",
                id: "captions-window-opacity-%s",
                label: "Transparency",
                options: [jg, Fg, Ug]
            }
        };

    function Gg(e, t) {
        if (t && (e = t(e)), e && "none" !== e) return e
    }
    Hg.windowColor.options = Hg.backgroundColor.options;
    var Vg = function(e) {
        function t(t, n) {
            var r;
            return n.temporary = !1, (r = e.call(this, t, n) || this).updateDisplay = r.updateDisplay.bind(xs(r)), r.fill(), r.hasBeenOpened_ = r.hasBeenFilled_ = !0, r.endDialog = Jh("p", {
                className: "vjs-control-text",
                textContent: r.localize("End of dialog window.")
            }), r.el().appendChild(r.endDialog), r.setDefaults(), void 0 === n.persistTextTrackSettings && (r.options_.persistTextTrackSettings = r.options_.playerOptions.persistTextTrackSettings), r.on(r.$(".vjs-done-button"), "click", (function() {
                r.saveSettings(), r.close()
            })), r.on(r.$(".vjs-default-button"), "click", (function() {
                r.setDefaults(), r.updateDisplay()
            })), Th(Hg, (function(e) {
                r.on(r.$(e.selector), "change", r.updateDisplay)
            })), r.options_.persistTextTrackSettings && r.restoreSettings(), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.dispose = function() {
            this.endDialog = null, e.prototype.dispose.call(this)
        }, n.createElSelect_ = function(e, t, n) {
            var r = this;
            void 0 === t && (t = ""), void 0 === n && (n = "label");
            var i = Hg[e],
                a = i.id.replace("%s", this.id_),
                o = [t, a].join(" ").trim();
            return ["<" + n + ' id="' + a + '" class="' + ("label" === n ? "vjs-label" : "") + '">', this.localize(i.label), "</" + n + ">", '<select aria-labelledby="' + o + '">'].concat(i.options.map((function(e) {
                var t = a + "-" + e[1].replace(/\W+/g, "");
                return ['<option id="' + t + '" value="' + e[0] + '" ', 'aria-labelledby="' + o + " " + t + '">', r.localize(e[1]), "</option>"].join("")
            }))).concat("</select>").join("")
        }, n.createElFgColor_ = function() {
            var e = "captions-text-legend-" + this.id_;
            return ['<fieldset class="vjs-fg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Text"), "</legend>", this.createElSelect_("color", e), '<span class="vjs-text-opacity vjs-opacity">', this.createElSelect_("textOpacity", e), "</span>", "</fieldset>"].join("")
        }, n.createElBgColor_ = function() {
            var e = "captions-background-" + this.id_;
            return ['<fieldset class="vjs-bg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Background"), "</legend>", this.createElSelect_("backgroundColor", e), '<span class="vjs-bg-opacity vjs-opacity">', this.createElSelect_("backgroundOpacity", e), "</span>", "</fieldset>"].join("")
        }, n.createElWinColor_ = function() {
            var e = "captions-window-" + this.id_;
            return ['<fieldset class="vjs-window-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Window"), "</legend>", this.createElSelect_("windowColor", e), '<span class="vjs-window-opacity vjs-opacity">', this.createElSelect_("windowOpacity", e), "</span>", "</fieldset>"].join("")
        }, n.createElColors_ = function() {
            return Jh("div", {
                className: "vjs-track-settings-colors",
                innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join("")
            })
        }, n.createElFont_ = function() {
            return Jh("div", {
                className: "vjs-track-settings-font",
                innerHTML: ['<fieldset class="vjs-font-percent vjs-track-setting">', this.createElSelect_("fontPercent", "", "legend"), "</fieldset>", '<fieldset class="vjs-edge-style vjs-track-setting">', this.createElSelect_("edgeStyle", "", "legend"), "</fieldset>", '<fieldset class="vjs-font-family vjs-track-setting">', this.createElSelect_("fontFamily", "", "legend"), "</fieldset>"].join("")
            })
        }, n.createElControls_ = function() {
            var e = this.localize("restore all settings to the default values");
            return Jh("div", {
                className: "vjs-track-settings-controls",
                innerHTML: ['<button type="button" class="vjs-default-button" title="' + e + '">', this.localize("Reset"), '<span class="vjs-control-text"> ' + e + "</span>", "</button>", '<button type="button" class="vjs-done-button">' + this.localize("Done") + "</button>"].join("")
            })
        }, n.content = function() {
            return [this.createElColors_(), this.createElFont_(), this.createElControls_()]
        }, n.label = function() {
            return this.localize("Caption Settings Dialog")
        }, n.description = function() {
            return this.localize("Beginning of dialog window. Escape will cancel and close the window.")
        }, n.buildCSSClass = function() {
            return e.prototype.buildCSSClass.call(this) + " vjs-text-track-settings"
        }, n.getValues = function() {
            var e, t, n, r = this;
            return t = function(e, t, n) {
                var i, a, o = (i = r.$(t.selector), a = t.parser, Gg(i.options[i.options.selectedIndex].value, a));
                return void 0 !== o && (e[n] = o), e
            }, void 0 === (n = {}) && (n = 0), bh(e = Hg).reduce((function(n, r) {
                return t(n, e[r], r)
            }), n)
        }, n.setValues = function(e) {
            var t = this;
            Th(Hg, (function(n, r) {
                ! function(e, t, n) {
                    if (t)
                        for (var r = 0; r < e.options.length; r++)
                            if (Gg(e.options[r].value, n) === t) {
                                e.selectedIndex = r;
                                break
                            }
                }(t.$(n.selector), e[r], n.parser)
            }))
        }, n.setDefaults = function() {
            var e = this;
            Th(Hg, (function(t) {
                var n = t.hasOwnProperty("default") ? t.default : 0;
                e.$(t.selector).selectedIndex = n
            }))
        }, n.restoreSettings = function() {
            var e;
            try {
                e = JSON.parse(m.localStorage.getItem(xg))
            } catch (e) {
                gh.warn(e)
            }
            e && this.setValues(e)
        }, n.saveSettings = function() {
            if (this.options_.persistTextTrackSettings) {
                var e = this.getValues();
                try {
                    Object.keys(e).length ? m.localStorage.setItem(xg, JSON.stringify(e)) : m.localStorage.removeItem(xg)
                } catch (e) {
                    gh.warn(e)
                }
            }
        }, n.updateDisplay = function() {
            var e = this.player_.getChild("textTrackDisplay");
            e && e.updateDisplay()
        }, n.conditionalBlur_ = function() {
            this.previouslyActiveEl_ = null;
            var e = this.player_.controlBar,
                t = e && e.subsCapsButton,
                n = e && e.captionsButton;
            t ? t.focus() : n && n.focus()
        }, t
    }(xf);
    yf.registerComponent("TextTrackSettings", Vg);
    var Wg = function(e) {
        function t(t, n) {
            var r, i = n.ResizeObserver || m.ResizeObserver;
            null === n.ResizeObserver && (i = !1);
            var a = hf({
                createEl: !i,
                reportTouchActivity: !1
            }, n);
            return (r = e.call(this, t, a) || this).ResizeObserver = n.ResizeObserver || m.ResizeObserver, r.loadListener_ = null, r.resizeObserver_ = null, r.debouncedHandler_ = function(e, t, n, r) {
                var i;
                void 0 === r && (r = m);
                var a = function() {
                    var a = this,
                        o = arguments,
                        s = function() {
                            i = null, s = null, n || e.apply(a, o)
                        };
                    !i && n && e.apply(a, o), r.clearTimeout(i), i = r.setTimeout(s, t)
                };
                return a.cancel = function() {
                    r.clearTimeout(i), i = null
                }, a
            }((function() {
                r.resizeHandler()
            }), 100, !1, xs(r)), i ? (r.resizeObserver_ = new r.ResizeObserver(r.debouncedHandler_), r.resizeObserver_.observe(t.el())) : (r.loadListener_ = function() {
                if (r.el_ && r.el_.contentWindow) {
                    var e = r.debouncedHandler_,
                        t = r.unloadListener_ = function() {
                            Hp(this, "resize", e), Hp(this, "unload", t), t = null
                        };
                    jp(r.el_.contentWindow, "unload", t), jp(r.el_.contentWindow, "resize", e)
                }
            }, r.one("load", r.loadListener_)), r
        }
        Ms(t, e);
        var n = t.prototype;
        return n.createEl = function() {
            return e.prototype.createEl.call(this, "iframe", {
                className: "vjs-resize-manager",
                tabIndex: -1
            }, {
                "aria-hidden": "true"
            })
        }, n.resizeHandler = function() {
            this.player_ && this.player_.trigger && this.player_.trigger("playerresize")
        }, n.dispose = function() {
            this.debouncedHandler_ && this.debouncedHandler_.cancel(), this.resizeObserver_ && (this.player_.el() && this.resizeObserver_.unobserve(this.player_.el()), this.resizeObserver_.disconnect()), this.loadListener_ && this.off("load", this.loadListener_), this.el_ && this.el_.contentWindow && this.unloadListener_ && this.unloadListener_.call(this.el_.contentWindow), this.ResizeObserver = null, this.resizeObserver = null, this.debouncedHandler_ = null, this.loadListener_ = null, e.prototype.dispose.call(this)
        }, t
    }(yf);
    yf.registerComponent("ResizeManager", Wg);
    var qg = {
            trackingThreshold: 30,
            liveTolerance: 15
        },
        zg = function(e) {
            function t(t, n) {
                var r, i = hf(qg, n, {
                    createEl: !1
                });
                return (r = e.call(this, t, i) || this).handleVisibilityChange_ = function(e) {
                    return r.handleVisibilityChange(e)
                }, r.trackLiveHandler_ = function() {
                    return r.trackLive_()
                }, r.handlePlay_ = function(e) {
                    return r.handlePlay(e)
                }, r.handleFirstTimeupdate_ = function(e) {
                    return r.handleFirstTimeupdate(e)
                }, r.handleSeeked_ = function(e) {
                    return r.handleSeeked(e)
                }, r.seekToLiveEdge_ = function(e) {
                    return r.seekToLiveEdge(e)
                }, r.reset_(), r.on(r.player_, "durationchange", (function(e) {
                    return r.handleDurationchange(e)
                })), r.one(r.player_, "canplay", (function() {
                    return r.toggleTracking()
                })), Bh && "hidden" in Ps && "visibilityState" in Ps && r.on(Ps, "visibilitychange", r.handleVisibilityChange_), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.handleVisibilityChange = function() {
                this.player_.duration() === 1 / 0 && (Ps.hidden ? this.stopTracking() : this.startTracking())
            }, n.trackLive_ = function() {
                var e = this.player_.seekable();
                if (e && e.length) {
                    var t = Number(m.performance.now().toFixed(4)),
                        n = -1 === this.lastTime_ ? 0 : (t - this.lastTime_) / 1e3;
                    this.lastTime_ = t, this.pastSeekEnd_ = this.pastSeekEnd() + n;
                    var r = this.liveCurrentTime(),
                        i = this.player_.currentTime(),
                        a = this.player_.paused() || this.seekedBehindLive_ || Math.abs(r - i) > this.options_.liveTolerance;
                    this.timeupdateSeen_ && r !== 1 / 0 || (a = !1), a !== this.behindLiveEdge_ && (this.behindLiveEdge_ = a, this.trigger("liveedgechange"))
                }
            }, n.handleDurationchange = function() {
                this.toggleTracking()
            }, n.toggleTracking = function() {
                this.player_.duration() === 1 / 0 && this.liveWindow() >= this.options_.trackingThreshold ? (this.player_.options_.liveui && this.player_.addClass("vjs-liveui"), this.startTracking()) : (this.player_.removeClass("vjs-liveui"), this.stopTracking())
            }, n.startTracking = function() {
                this.isTracking() || (this.timeupdateSeen_ || (this.timeupdateSeen_ = this.player_.hasStarted()), this.trackingInterval_ = this.setInterval(this.trackLiveHandler_, Xp), this.trackLive_(), this.on(this.player_, ["play", "pause"], this.trackLiveHandler_), this.timeupdateSeen_ ? this.on(this.player_, "seeked", this.handleSeeked_) : (this.one(this.player_, "play", this.handlePlay_), this.one(this.player_, "timeupdate", this.handleFirstTimeupdate_)))
            }, n.handleFirstTimeupdate = function() {
                this.timeupdateSeen_ = !0, this.on(this.player_, "seeked", this.handleSeeked_)
            }, n.handleSeeked = function() {
                var e = Math.abs(this.liveCurrentTime() - this.player_.currentTime());
                this.seekedBehindLive_ = this.nextSeekedFromUser_ && e > 2, this.nextSeekedFromUser_ = !1, this.trackLive_()
            }, n.handlePlay = function() {
                this.one(this.player_, "timeupdate", this.seekToLiveEdge_)
            }, n.reset_ = function() {
                this.lastTime_ = -1, this.pastSeekEnd_ = 0, this.lastSeekEnd_ = -1, this.behindLiveEdge_ = !0, this.timeupdateSeen_ = !1, this.seekedBehindLive_ = !1, this.nextSeekedFromUser_ = !1, this.clearInterval(this.trackingInterval_), this.trackingInterval_ = null, this.off(this.player_, ["play", "pause"], this.trackLiveHandler_), this.off(this.player_, "seeked", this.handleSeeked_), this.off(this.player_, "play", this.handlePlay_), this.off(this.player_, "timeupdate", this.handleFirstTimeupdate_), this.off(this.player_, "timeupdate", this.seekToLiveEdge_)
            }, n.nextSeekedFromUser = function() {
                this.nextSeekedFromUser_ = !0
            }, n.stopTracking = function() {
                this.isTracking() && (this.reset_(), this.trigger("liveedgechange"))
            }, n.seekableEnd = function() {
                for (var e = this.player_.seekable(), t = [], n = e ? e.length : 0; n--;) t.push(e.end(n));
                return t.length ? t.sort()[t.length - 1] : 1 / 0
            }, n.seekableStart = function() {
                for (var e = this.player_.seekable(), t = [], n = e ? e.length : 0; n--;) t.push(e.start(n));
                return t.length ? t.sort()[0] : 0
            }, n.liveWindow = function() {
                var e = this.liveCurrentTime();
                return e === 1 / 0 ? 0 : e - this.seekableStart()
            }, n.isLive = function() {
                return this.isTracking()
            }, n.atLiveEdge = function() {
                return !this.behindLiveEdge()
            }, n.liveCurrentTime = function() {
                return this.pastSeekEnd() + this.seekableEnd()
            }, n.pastSeekEnd = function() {
                var e = this.seekableEnd();
                return -1 !== this.lastSeekEnd_ && e !== this.lastSeekEnd_ && (this.pastSeekEnd_ = 0), this.lastSeekEnd_ = e, this.pastSeekEnd_
            }, n.behindLiveEdge = function() {
                return this.behindLiveEdge_
            }, n.isTracking = function() {
                return "number" == typeof this.trackingInterval_
            }, n.seekToLiveEdge = function() {
                this.seekedBehindLive_ = !1, this.atLiveEdge() || (this.nextSeekedFromUser_ = !1, this.player_.currentTime(this.liveCurrentTime()))
            }, n.dispose = function() {
                this.off(Ps, "visibilitychange", this.handleVisibilityChange_), this.stopTracking(), e.prototype.dispose.call(this)
            }, t
        }(yf);
    yf.registerComponent("LiveTracker", zg);
    var Xg, Kg = function(e) {
            var t = e.el();
            if (t.hasAttribute("src")) return e.triggerSourceset(t.src), !0;
            var n = e.$$("source"),
                r = [],
                i = "";
            if (!n.length) return !1;
            for (var a = 0; a < n.length; a++) {
                var o = n[a].src;
                o && -1 === r.indexOf(o) && r.push(o)
            }
            return !!r.length && (1 === r.length && (i = r[0]), e.triggerSourceset(i), !0)
        },
        Yg = Object.defineProperty({}, "innerHTML", {
            get: function() {
                return this.cloneNode(!0).innerHTML
            },
            set: function(e) {
                var t = Ps.createElement(this.nodeName.toLowerCase());
                t.innerHTML = e;
                for (var n = Ps.createDocumentFragment(); t.childNodes.length;) n.appendChild(t.childNodes[0]);
                return this.innerText = "", m.Element.prototype.appendChild.call(this, n), this.innerHTML
            }
        }),
        Qg = function(e, t) {
            for (var n = {}, r = 0; r < e.length && !((n = Object.getOwnPropertyDescriptor(e[r], t)) && n.set && n.get); r++);
            return n.enumerable = !0, n.configurable = !0, n
        },
        $g = function(e) {
            var t = e.el();
            if (!t.resetSourceWatch_) {
                var n = {},
                    r = function(e) {
                        return Qg([e.el(), m.HTMLMediaElement.prototype, m.Element.prototype, Yg], "innerHTML")
                    }(e),
                    i = function(n) {
                        return function() {
                            for (var r = arguments.length, i = new Array(r), a = 0; a < r; a++) i[a] = arguments[a];
                            var o = n.apply(t, i);
                            return Kg(e), o
                        }
                    };
                ["append", "appendChild", "insertAdjacentHTML"].forEach((function(e) {
                    t[e] && (n[e] = t[e], t[e] = i(n[e]))
                })), Object.defineProperty(t, "innerHTML", hf(r, {
                    set: i(r.set)
                })), t.resetSourceWatch_ = function() {
                    t.resetSourceWatch_ = null, Object.keys(n).forEach((function(e) {
                        t[e] = n[e]
                    })), Object.defineProperty(t, "innerHTML", r)
                }, e.one("sourceset", t.resetSourceWatch_)
            }
        },
        Jg = Object.defineProperty({}, "src", {
            get: function() {
                return this.hasAttribute("src") ? qf(m.Element.prototype.getAttribute.call(this, "src")) : ""
            },
            set: function(e) {
                return m.Element.prototype.setAttribute.call(this, "src", e), e
            }
        }),
        Zg = function(e) {
            if (e.featuresSourceset) {
                var t = e.el();
                if (!t.resetSourceset_) {
                    var n = function(e) {
                            return Qg([e.el(), m.HTMLMediaElement.prototype, Jg], "src")
                        }(e),
                        r = t.setAttribute,
                        i = t.load;
                    Object.defineProperty(t, "src", hf(n, {
                        set: function(r) {
                            var i = n.set.call(t, r);
                            return e.triggerSourceset(t.src), i
                        }
                    })), t.setAttribute = function(n, i) {
                        var a = r.call(t, n, i);
                        return /src/i.test(n) && e.triggerSourceset(t.src), a
                    }, t.load = function() {
                        var n = i.call(t);
                        return Kg(e) || (e.triggerSourceset(""), $g(e)), n
                    }, t.currentSrc ? e.triggerSourceset(t.currentSrc) : Kg(e) || $g(e), t.resetSourceset_ = function() {
                        t.resetSourceset_ = null, t.load = i, t.setAttribute = r, Object.defineProperty(t, "src", n), t.resetSourceWatch_ && t.resetSourceWatch_()
                    }
                }
            }
        },
        ey = function(e, t, n, r) {
            void 0 === r && (r = !0);
            var i = function(n) {
                    return Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        writable: !0
                    })
                },
                a = {
                    configurable: !0,
                    enumerable: !0,
                    get: function() {
                        var e = n();
                        return i(e), e
                    }
                };
            return r && (a.set = i), Object.defineProperty(e, t, a)
        },
        ty = function(e) {
            function t(t, n) {
                var r;
                r = e.call(this, t, n) || this;
                var i = t.source,
                    a = !1;
                if (i && (r.el_.currentSrc !== i.src || t.tag && 3 === t.tag.initNetworkState_) ? r.setSource(i) : r.handleLateInit_(r.el_), t.enableSourceset && r.setupSourcesetHandling_(), r.isScrubbing_ = !1, r.el_.hasChildNodes()) {
                    for (var o = r.el_.childNodes, s = o.length, u = []; s--;) {
                        var l = o[s];
                        "track" === l.nodeName.toLowerCase() && (r.featuresNativeTextTracks ? (r.remoteTextTrackEls().addTrackElement_(l), r.remoteTextTracks().addTrack(l.track), r.textTracks().addTrack(l.track), a || r.el_.hasAttribute("crossorigin") || !Xf(l.src) || (a = !0)) : u.push(l))
                    }
                    for (var c = 0; c < u.length; c++) r.el_.removeChild(u[c])
                }
                return r.proxyNativeTracks_(), r.featuresNativeTextTracks && a && gh.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."), r.restoreMetadataTracksInIOSNativePlayer_(), (jh || Gh || Lh) && !0 === t.nativeControlsForTouch && r.setControls(!0), r.proxyWebkitFullscreen_(), r.triggerReady(), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.dispose = function() {
                this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(), t.disposeMediaElement(this.el_), this.options_ = null, e.prototype.dispose.call(this)
            }, n.setupSourcesetHandling_ = function() {
                Zg(this)
            }, n.restoreMetadataTracksInIOSNativePlayer_ = function() {
                var e, t = this.textTracks(),
                    n = function() {
                        e = [];
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            "metadata" === r.kind && e.push({
                                track: r,
                                storedMode: r.mode
                            })
                        }
                    };
                n(), t.addEventListener("change", n), this.on("dispose", (function() {
                    return t.removeEventListener("change", n)
                }));
                var r = function n() {
                    for (var r = 0; r < e.length; r++) {
                        var i = e[r];
                        "disabled" === i.track.mode && i.track.mode !== i.storedMode && (i.track.mode = i.storedMode)
                    }
                    t.removeEventListener("change", n)
                };
                this.on("webkitbeginfullscreen", (function() {
                    t.removeEventListener("change", n), t.removeEventListener("change", r), t.addEventListener("change", r)
                })), this.on("webkitendfullscreen", (function() {
                    t.removeEventListener("change", n), t.addEventListener("change", n), t.removeEventListener("change", r)
                }))
            }, n.overrideNative_ = function(e, t) {
                var n = this;
                if (t === this["featuresNative" + e + "Tracks"]) {
                    var r = e.toLowerCase();
                    this[r + "TracksListeners_"] && Object.keys(this[r + "TracksListeners_"]).forEach((function(e) {
                        n.el()[r + "Tracks"].removeEventListener(e, n[r + "TracksListeners_"][e])
                    })), this["featuresNative" + e + "Tracks"] = !t, this[r + "TracksListeners_"] = null, this.proxyNativeTracksForType_(r)
                }
            }, n.overrideNativeAudioTracks = function(e) {
                this.overrideNative_("Audio", e)
            }, n.overrideNativeVideoTracks = function(e) {
                this.overrideNative_("Video", e)
            }, n.proxyNativeTracksForType_ = function(e) {
                var t = this,
                    n = tm[e],
                    r = this.el()[n.getterName],
                    i = this[n.getterName]();
                if (this["featuresNative" + n.capitalName + "Tracks"] && r && r.addEventListener) {
                    var a = {
                            change: function(n) {
                                var r = {
                                    type: "change",
                                    target: i,
                                    currentTarget: i,
                                    srcElement: i
                                };
                                i.trigger(r), "text" === e && t[nm.remoteText.getterName]().trigger(r)
                            },
                            addtrack: function(e) {
                                i.addTrack(e.track)
                            },
                            removetrack: function(e) {
                                i.removeTrack(e.track)
                            }
                        },
                        o = function() {
                            for (var e = [], t = 0; t < i.length; t++) {
                                for (var n = !1, a = 0; a < r.length; a++)
                                    if (r[a] === i[t]) {
                                        n = !0;
                                        break
                                    } n || e.push(i[t])
                            }
                            for (; e.length;) i.removeTrack(e.shift())
                        };
                    this[n.getterName + "Listeners_"] = a, Object.keys(a).forEach((function(e) {
                        var n = a[e];
                        r.addEventListener(e, n), t.on("dispose", (function(t) {
                            return r.removeEventListener(e, n)
                        }))
                    })), this.on("loadstart", o), this.on("dispose", (function(e) {
                        return t.off("loadstart", o)
                    }))
                }
            }, n.proxyNativeTracks_ = function() {
                var e = this;
                tm.names.forEach((function(t) {
                    e.proxyNativeTracksForType_(t)
                }))
            }, n.createEl = function() {
                var e = this.options_.tag;
                if (!e || !this.options_.playerElIngest && !this.movingMediaElementInDOM) {
                    if (e) {
                        var n = e.cloneNode(!0);
                        e.parentNode && e.parentNode.insertBefore(n, e), t.disposeMediaElement(e), e = n
                    } else {
                        e = Ps.createElement("video");
                        var r = hf({}, this.options_.tag && op(this.options_.tag));
                        jh && !0 === this.options_.nativeControlsForTouch || delete r.controls, ap(e, _h(r, {
                            id: this.options_.techId,
                            class: "vjs-tech"
                        }))
                    }
                    e.playerId = this.options_.playerId
                }
                void 0 !== this.options_.preload && up(e, "preload", this.options_.preload), void 0 !== this.options_.disablePictureInPicture && (e.disablePictureInPicture = this.options_.disablePictureInPicture);
                for (var i = ["loop", "muted", "playsinline", "autoplay"], a = 0; a < i.length; a++) {
                    var o = i[a],
                        s = this.options_[o];
                    void 0 !== s && (s ? up(e, o, o) : lp(e, o), e[o] = s)
                }
                return e
            }, n.handleLateInit_ = function(e) {
                if (0 !== e.networkState && 3 !== e.networkState) {
                    if (0 === e.readyState) {
                        var t = !1,
                            n = function() {
                                t = !0
                            };
                        this.on("loadstart", n);
                        var r = function() {
                            t || this.trigger("loadstart")
                        };
                        return this.on("loadedmetadata", r), void this.ready((function() {
                            this.off("loadstart", n), this.off("loadedmetadata", r), t || this.trigger("loadstart")
                        }))
                    }
                    var i = ["loadstart"];
                    i.push("loadedmetadata"), e.readyState >= 2 && i.push("loadeddata"), e.readyState >= 3 && i.push("canplay"), e.readyState >= 4 && i.push("canplaythrough"), this.ready((function() {
                        i.forEach((function(e) {
                            this.trigger(e)
                        }), this)
                    }))
                }
            }, n.setScrubbing = function(e) {
                this.isScrubbing_ = e
            }, n.scrubbing = function() {
                return this.isScrubbing_
            }, n.setCurrentTime = function(e) {
                try {
                    this.isScrubbing_ && this.el_.fastSeek && Wh ? this.el_.fastSeek(e) : this.el_.currentTime = e
                } catch (e) {
                    gh(e, "Video is not ready. (Video.js)")
                }
            }, n.duration = function() {
                var e = this;
                if (this.el_.duration === 1 / 0 && Ih && Rh && 0 === this.el_.currentTime) {
                    return this.on("timeupdate", (function t() {
                        e.el_.currentTime > 0 && (e.el_.duration === 1 / 0 && e.trigger("durationchange"), e.off("timeupdate", t))
                    })), NaN
                }
                return this.el_.duration || NaN
            }, n.width = function() {
                return this.el_.offsetWidth
            }, n.height = function() {
                return this.el_.offsetHeight
            }, n.proxyWebkitFullscreen_ = function() {
                var e = this;
                if ("webkitDisplayingFullscreen" in this.el_) {
                    var t = function() {
                            this.trigger("fullscreenchange", {
                                isFullscreen: !1
                            })
                        },
                        n = function() {
                            "webkitPresentationMode" in this.el_ && "picture-in-picture" !== this.el_.webkitPresentationMode && (this.one("webkitendfullscreen", t), this.trigger("fullscreenchange", {
                                isFullscreen: !0,
                                nativeIOSFullscreen: !0
                            }))
                        };
                    this.on("webkitbeginfullscreen", n), this.on("dispose", (function() {
                        e.off("webkitbeginfullscreen", n), e.off("webkitendfullscreen", t)
                    }))
                }
            }, n.supportsFullScreen = function() {
                if ("function" == typeof this.el_.webkitEnterFullScreen) {
                    var e = m.navigator && m.navigator.userAgent || "";
                    if (/Android/.test(e) || !/Chrome|Mac OS X 10.5/.test(e)) return !0
                }
                return !1
            }, n.enterFullScreen = function() {
                var e = this.el_;
                if (e.paused && e.networkState <= e.HAVE_METADATA) Ef(this.el_.play()), this.setTimeout((function() {
                    e.pause();
                    try {
                        e.webkitEnterFullScreen()
                    } catch (e) {
                        this.trigger("fullscreenerror", e)
                    }
                }), 0);
                else try {
                    e.webkitEnterFullScreen()
                } catch (e) {
                    this.trigger("fullscreenerror", e)
                }
            }, n.exitFullScreen = function() {
                this.el_.webkitDisplayingFullscreen ? this.el_.webkitExitFullScreen() : this.trigger("fullscreenerror", new Error("The video is not fullscreen"))
            }, n.requestPictureInPicture = function() {
                return this.el_.requestPictureInPicture()
            }, n.src = function(e) {
                if (void 0 === e) return this.el_.src;
                this.setSrc(e)
            }, n.reset = function() {
                t.resetMediaElement(this.el_)
            }, n.currentSrc = function() {
                return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc
            }, n.setControls = function(e) {
                this.el_.controls = !!e
            }, n.addTextTrack = function(t, n, r) {
                return this.featuresNativeTextTracks ? this.el_.addTextTrack(t, n, r) : e.prototype.addTextTrack.call(this, t, n, r)
            }, n.createRemoteTextTrack = function(t) {
                if (!this.featuresNativeTextTracks) return e.prototype.createRemoteTextTrack.call(this, t);
                var n = Ps.createElement("track");
                return t.kind && (n.kind = t.kind), t.label && (n.label = t.label), (t.language || t.srclang) && (n.srclang = t.language || t.srclang), t.default && (n.default = t.default), t.id && (n.id = t.id), t.src && (n.src = t.src), n
            }, n.addRemoteTextTrack = function(t, n) {
                var r = e.prototype.addRemoteTextTrack.call(this, t, n);
                return this.featuresNativeTextTracks && this.el().appendChild(r), r
            }, n.removeRemoteTextTrack = function(t) {
                if (e.prototype.removeRemoteTextTrack.call(this, t), this.featuresNativeTextTracks)
                    for (var n = this.$$("track"), r = n.length; r--;) t !== n[r] && t !== n[r].track || this.el().removeChild(n[r])
            }, n.getVideoPlaybackQuality = function() {
                if ("function" == typeof this.el().getVideoPlaybackQuality) return this.el().getVideoPlaybackQuality();
                var e = {};
                return void 0 !== this.el().webkitDroppedFrameCount && void 0 !== this.el().webkitDecodedFrameCount && (e.droppedVideoFrames = this.el().webkitDroppedFrameCount, e.totalVideoFrames = this.el().webkitDecodedFrameCount), m.performance && "function" == typeof m.performance.now ? e.creationTime = m.performance.now() : m.performance && m.performance.timing && "number" == typeof m.performance.timing.navigationStart && (e.creationTime = m.Date.now() - m.performance.timing.navigationStart), e
            }, t
        }(im);
    ey(ty, "TEST_VID", (function() {
        if (Kh()) {
            var e = Ps.createElement("video"),
                t = Ps.createElement("track");
            return t.kind = "captions", t.srclang = "en", t.label = "English", e.appendChild(t), e
        }
    })), ty.isSupported = function() {
        try {
            ty.TEST_VID.volume = .5
        } catch (e) {
            return !1
        }
        return !(!ty.TEST_VID || !ty.TEST_VID.canPlayType)
    }, ty.canPlayType = function(e) {
        return ty.TEST_VID.canPlayType(e)
    }, ty.canPlaySource = function(e, t) {
        return ty.canPlayType(e.type)
    }, ty.canControlVolume = function() {
        try {
            var e = ty.TEST_VID.volume;
            return ty.TEST_VID.volume = e / 2 + .1, e !== ty.TEST_VID.volume
        } catch (e) {
            return !1
        }
    }, ty.canMuteVolume = function() {
        try {
            var e = ty.TEST_VID.muted;
            return ty.TEST_VID.muted = !e, ty.TEST_VID.muted ? up(ty.TEST_VID, "muted", "muted") : lp(ty.TEST_VID, "muted"), e !== ty.TEST_VID.muted
        } catch (e) {
            return !1
        }
    }, ty.canControlPlaybackRate = function() {
        if (Ih && Rh && Nh < 58) return !1;
        try {
            var e = ty.TEST_VID.playbackRate;
            return ty.TEST_VID.playbackRate = e / 2 + .1, e !== ty.TEST_VID.playbackRate
        } catch (e) {
            return !1
        }
    }, ty.canOverrideAttributes = function() {
        try {
            var e = function() {};
            Object.defineProperty(Ps.createElement("video"), "src", {
                get: e,
                set: e
            }), Object.defineProperty(Ps.createElement("audio"), "src", {
                get: e,
                set: e
            }), Object.defineProperty(Ps.createElement("video"), "innerHTML", {
                get: e,
                set: e
            }), Object.defineProperty(Ps.createElement("audio"), "innerHTML", {
                get: e,
                set: e
            })
        } catch (e) {
            return !1
        }
        return !0
    }, ty.supportsNativeTextTracks = function() {
        return Wh || Vh && Rh
    }, ty.supportsNativeVideoTracks = function() {
        return !(!ty.TEST_VID || !ty.TEST_VID.videoTracks)
    }, ty.supportsNativeAudioTracks = function() {
        return !(!ty.TEST_VID || !ty.TEST_VID.audioTracks)
    }, ty.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "resize", "volumechange"], [
        ["featuresVolumeControl", "canControlVolume"],
        ["featuresMuteControl", "canMuteVolume"],
        ["featuresPlaybackRate", "canControlPlaybackRate"],
        ["featuresSourceset", "canOverrideAttributes"],
        ["featuresNativeTextTracks", "supportsNativeTextTracks"],
        ["featuresNativeVideoTracks", "supportsNativeVideoTracks"],
        ["featuresNativeAudioTracks", "supportsNativeAudioTracks"]
    ].forEach((function(e) {
        var t = e[0],
            n = e[1];
        ey(ty.prototype, t, (function() {
            return ty[n]()
        }), !0)
    })), ty.prototype.movingMediaElementInDOM = !Vh, ty.prototype.featuresFullscreenResize = !0, ty.prototype.featuresProgressEvents = !0, ty.prototype.featuresTimeupdateEvents = !0, ty.patchCanPlayType = function() {
        Mh >= 4 && !Dh && !Rh && (Xg = ty.TEST_VID && ty.TEST_VID.constructor.prototype.canPlayType, ty.TEST_VID.constructor.prototype.canPlayType = function(e) {
            return e && /^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e) ? "maybe" : Xg.call(this, e)
        })
    }, ty.unpatchCanPlayType = function() {
        var e = ty.TEST_VID.constructor.prototype.canPlayType;
        return Xg && (ty.TEST_VID.constructor.prototype.canPlayType = Xg), e
    }, ty.patchCanPlayType(), ty.disposeMediaElement = function(e) {
        if (e) {
            for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes();) e.removeChild(e.firstChild);
            e.removeAttribute("src"), "function" == typeof e.load && function() {
                try {
                    e.load()
                } catch (e) {}
            }()
        }
    }, ty.resetMediaElement = function(e) {
        if (e) {
            for (var t = e.querySelectorAll("source"), n = t.length; n--;) e.removeChild(t[n]);
            e.removeAttribute("src"), "function" == typeof e.load && function() {
                try {
                    e.load()
                } catch (e) {}
            }()
        }
    }, ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach((function(e) {
        ty.prototype[e] = function() {
            return this.el_[e] || this.el_.hasAttribute(e)
        }
    })), ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach((function(e) {
        ty.prototype["set" + df(e)] = function(t) {
            this.el_[e] = t, t ? this.el_.setAttribute(e, e) : this.el_.removeAttribute(e)
        }
    })), ["paused", "currentTime", "buffered", "volume", "poster", "preload", "error", "seeking", "seekable", "ended", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "played", "networkState", "readyState", "videoWidth", "videoHeight", "crossOrigin"].forEach((function(e) {
        ty.prototype[e] = function() {
            return this.el_[e]
        }
    })), ["volume", "src", "poster", "preload", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "crossOrigin"].forEach((function(e) {
        ty.prototype["set" + df(e)] = function(t) {
            this.el_[e] = t
        }
    })), ["pause", "load", "play"].forEach((function(e) {
        ty.prototype[e] = function() {
            return this.el_[e]()
        }
    })), im.withSourceHandlers(ty), ty.nativeSourceHandler = {}, ty.nativeSourceHandler.canPlayType = function(e) {
        try {
            return ty.TEST_VID.canPlayType(e)
        } catch (e) {
            return ""
        }
    }, ty.nativeSourceHandler.canHandleSource = function(e, t) {
        if (e.type) return ty.nativeSourceHandler.canPlayType(e.type);
        if (e.src) {
            var n = zf(e.src);
            return ty.nativeSourceHandler.canPlayType("video/" + n)
        }
        return ""
    }, ty.nativeSourceHandler.handleSource = function(e, t, n) {
        t.setSrc(e.src)
    }, ty.nativeSourceHandler.dispose = function() {}, ty.registerSourceHandler(ty.nativeSourceHandler), im.registerTech("Html5", ty);
    var ny = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "resize", "volumechange", "texttrackchange"],
        ry = {
            canplay: "CanPlay",
            canplaythrough: "CanPlayThrough",
            playing: "Playing",
            seeked: "Seeked"
        },
        iy = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"],
        ay = {};
    iy.forEach((function(e) {
        var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
        ay[e] = "vjs-layout-" + t
    }));
    var oy = {
            tiny: 210,
            xsmall: 320,
            small: 425,
            medium: 768,
            large: 1440,
            xlarge: 2560,
            huge: 1 / 0
        },
        sy = function(e) {
            function t(n, r, i) {
                var a;
                if (n.id = n.id || r.id || "vjs_video_" + Dp(), (r = _h(t.getTagSettings(n), r)).initChildren = !1, r.createEl = !1, r.evented = !1, r.reportTouchActivity = !1, !r.language)
                    if ("function" == typeof n.closest) {
                        var o = n.closest("[lang]");
                        o && o.getAttribute && (r.language = o.getAttribute("lang"))
                    } else
                        for (var s = n; s && 1 === s.nodeType;) {
                            if (op(s).hasOwnProperty("lang")) {
                                r.language = s.getAttribute("lang");
                                break
                            }
                            s = s.parentNode
                        }
                if ((a = e.call(this, null, r, i) || this).boundDocumentFullscreenChange_ = function(e) {
                        return a.documentFullscreenChange_(e)
                    }, a.boundFullWindowOnEscKey_ = function(e) {
                        return a.fullWindowOnEscKey(e)
                    }, a.boundUpdateStyleEl_ = function(e) {
                        return a.updateStyleEl_(e)
                    }, a.boundApplyInitTime_ = function(e) {
                        return a.applyInitTime_(e)
                    }, a.boundUpdateCurrentBreakpoint_ = function(e) {
                        return a.updateCurrentBreakpoint_(e)
                    }, a.boundHandleTechClick_ = function(e) {
                        return a.handleTechClick_(e)
                    }, a.boundHandleTechDoubleClick_ = function(e) {
                        return a.handleTechDoubleClick_(e)
                    }, a.boundHandleTechTouchStart_ = function(e) {
                        return a.handleTechTouchStart_(e)
                    }, a.boundHandleTechTouchMove_ = function(e) {
                        return a.handleTechTouchMove_(e)
                    }, a.boundHandleTechTouchEnd_ = function(e) {
                        return a.handleTechTouchEnd_(e)
                    }, a.boundHandleTechTap_ = function(e) {
                        return a.handleTechTap_(e)
                    }, a.isFullscreen_ = !1, a.log = yh(a.id_), a.fsApi_ = ch, a.isPosterFromTech_ = !1, a.queuedCallbacks_ = [], a.isReady_ = !1, a.hasStarted_ = !1, a.userActive_ = !1, a.debugEnabled_ = !1, !a.options_ || !a.options_.techOrder || !a.options_.techOrder.length) throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
                if (a.tag = n, a.tagAttributes = n && op(n), a.language(a.options_.language), r.languages) {
                    var u = {};
                    Object.getOwnPropertyNames(r.languages).forEach((function(e) {
                        u[e.toLowerCase()] = r.languages[e]
                    })), a.languages_ = u
                } else a.languages_ = t.prototype.options_.languages;
                a.resetCache_(), a.poster_ = r.poster || "", a.controls_ = !!r.controls, n.controls = !1, n.removeAttribute("controls"), a.changingSrc_ = !1, a.playCallbacks_ = [], a.playTerminatedQueue_ = [], n.hasAttribute("autoplay") ? a.autoplay(!0) : a.autoplay(a.options_.autoplay), r.plugins && Object.keys(r.plugins).forEach((function(e) {
                    if ("function" != typeof a[e]) throw new Error('plugin "' + e + '" does not exist')
                })), a.scrubbing_ = !1, a.el_ = a.createEl(), sf(xs(a), {
                    eventBusKey: "el_"
                }), a.fsApi_.requestFullscreen && (jp(Ps, a.fsApi_.fullscreenchange, a.boundDocumentFullscreenChange_), a.on(a.fsApi_.fullscreenchange, a.boundDocumentFullscreenChange_)), a.fluid_ && a.on(["playerreset", "resize"], a.boundUpdateStyleEl_);
                var l = hf(a.options_);
                r.plugins && Object.keys(r.plugins).forEach((function(e) {
                    a[e](r.plugins[e])
                })), r.debug && a.debug(!0), a.options_.playerOptions = l, a.middleware_ = [], a.playbackRates(r.playbackRates), a.initChildren(), a.isAudio("audio" === n.nodeName.toLowerCase()), a.controls() ? a.addClass("vjs-controls-enabled") : a.addClass("vjs-controls-disabled"), a.el_.setAttribute("role", "region"), a.isAudio() ? a.el_.setAttribute("aria-label", a.localize("Audio Player")) : a.el_.setAttribute("aria-label", a.localize("Video Player")), a.isAudio() && a.addClass("vjs-audio"), a.flexNotSupported_() && a.addClass("vjs-no-flex"), jh && a.addClass("vjs-touch-enabled"), Vh || a.addClass("vjs-workinghover"), t.players[a.id_] = xs(a);
                var c = lh.split(".")[0];
                return a.addClass("vjs-v" + c), a.userActive(!0), a.reportUserActivity(), a.one("play", (function(e) {
                    return a.listenForUserActivity_(e)
                })), a.on("stageclick", (function(e) {
                    return a.handleStageClick_(e)
                })), a.on("keydown", (function(e) {
                    return a.handleKeyDown(e)
                })), a.on("languagechange", (function(e) {
                    return a.handleLanguagechange(e)
                })), a.breakpoints(a.options_.breakpoints), a.responsive(a.options_.responsive), a
            }
            Ms(t, e);
            var n = t.prototype;
            return n.dispose = function() {
                var n = this;
                this.trigger("dispose"), this.off("dispose"), Hp(Ps, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_), Hp(Ps, "keydown", this.boundFullWindowOnEscKey_), this.styleEl_ && this.styleEl_.parentNode && (this.styleEl_.parentNode.removeChild(this.styleEl_), this.styleEl_ = null), t.players[this.id_] = null, this.tag && this.tag.player && (this.tag.player = null), this.el_ && this.el_.player && (this.el_.player = null), this.tech_ && (this.tech_.dispose(), this.isPosterFromTech_ = !1, this.poster_ = ""), this.playerElIngest_ && (this.playerElIngest_ = null), this.tag && (this.tag = null), om[this.id()] = null, rm.names.forEach((function(e) {
                    var t = rm[e],
                        r = n[t.getterName]();
                    r && r.off && r.off()
                })), e.prototype.dispose.call(this)
            }, n.createEl = function() {
                var t, n = this.tag,
                    r = this.playerElIngest_ = n.parentNode && n.parentNode.hasAttribute && n.parentNode.hasAttribute("data-vjs-player"),
                    i = "video-js" === this.tag.tagName.toLowerCase();
                r ? t = this.el_ = n.parentNode : i || (t = this.el_ = e.prototype.createEl.call(this, "div"));
                var a = op(n);
                if (i) {
                    for (t = this.el_ = n, n = this.tag = Ps.createElement("video"); t.children.length;) n.appendChild(t.firstChild);
                    tp(t, "video-js") || np(t, "video-js"), t.appendChild(n), r = this.playerElIngest_ = t, Object.keys(t).forEach((function(e) {
                        try {
                            n[e] = t[e]
                        } catch (e) {}
                    }))
                }
                if (n.setAttribute("tabindex", "-1"), a.tabindex = "-1", (Bh || Rh && Fh) && (n.setAttribute("role", "application"), a.role = "application"), n.removeAttribute("width"), n.removeAttribute("height"), "width" in a && delete a.width, "height" in a && delete a.height, Object.getOwnPropertyNames(a).forEach((function(e) {
                        i && "class" === e || t.setAttribute(e, a[e]), i && n.setAttribute(e, a[e])
                    })), n.playerId = n.id, n.id += "_html5_api", n.className = "vjs-tech", n.player = t.player = this, this.addClass("vjs-paused"), !0 !== m.VIDEOJS_NO_DYNAMIC_STYLE) {
                    this.styleEl_ = Ip("vjs-styles-dimensions");
                    var o = Sp(".vjs-styles-defaults"),
                        s = Sp("head");
                    s.insertBefore(this.styleEl_, o ? o.nextSibling : s.firstChild)
                }
                this.fill_ = !1, this.fluid_ = !1, this.width(this.options_.width), this.height(this.options_.height), this.fill(this.options_.fill), this.fluid(this.options_.fluid), this.aspectRatio(this.options_.aspectRatio), this.crossOrigin(this.options_.crossOrigin || this.options_.crossorigin);
                for (var u = n.getElementsByTagName("a"), l = 0; l < u.length; l++) {
                    var c = u.item(l);
                    np(c, "vjs-hidden"), c.setAttribute("hidden", "hidden")
                }
                return n.initNetworkState_ = n.networkState, n.parentNode && !r && n.parentNode.insertBefore(t, n), ep(n, t), this.children_.unshift(n), this.el_.setAttribute("lang", this.language_), this.el_ = t, t
            }, n.crossOrigin = function(e) {
                if (!e) return this.techGet_("crossOrigin");
                "anonymous" === e || "use-credentials" === e ? this.techCall_("setCrossOrigin", e) : gh.warn('crossOrigin must be "anonymous" or "use-credentials", given "' + e + '"')
            }, n.width = function(e) {
                return this.dimension("width", e)
            }, n.height = function(e) {
                return this.dimension("height", e)
            }, n.dimension = function(e, t) {
                var n = e + "_";
                if (void 0 === t) return this[n] || 0;
                if ("" === t || "auto" === t) return this[n] = void 0, void this.updateStyleEl_();
                var r = parseFloat(t);
                isNaN(r) ? gh.error('Improper value "' + t + '" supplied for for ' + e) : (this[n] = r, this.updateStyleEl_())
            }, n.fluid = function(e) {
                var t, n, r = this;
                if (void 0 === e) return !!this.fluid_;
                this.fluid_ = !!e, Jp(this) && this.off(["playerreset", "resize"], this.boundUpdateStyleEl_), e ? (this.addClass("vjs-fluid"), this.fill(!1), n = function() {
                    r.on(["playerreset", "resize"], r.boundUpdateStyleEl_)
                }, Jp(t = this) ? n() : (t.eventedCallbacks || (t.eventedCallbacks = []), t.eventedCallbacks.push(n))) : this.removeClass("vjs-fluid"), this.updateStyleEl_()
            }, n.fill = function(e) {
                if (void 0 === e) return !!this.fill_;
                this.fill_ = !!e, e ? (this.addClass("vjs-fill"), this.fluid(!1)) : this.removeClass("vjs-fill")
            }, n.aspectRatio = function(e) {
                if (void 0 === e) return this.aspectRatio_;
                if (!/^\d+\:\d+$/.test(e)) throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
                this.aspectRatio_ = e, this.fluid(!0), this.updateStyleEl_()
            }, n.updateStyleEl_ = function() {
                if (!0 !== m.VIDEOJS_NO_DYNAMIC_STYLE) {
                    var e, t, n, r = (void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : this.videoWidth() > 0 ? this.videoWidth() + ":" + this.videoHeight() : "16:9").split(":"),
                        i = r[1] / r[0];
                    e = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / i : this.videoWidth() || 300, t = void 0 !== this.height_ ? this.height_ : e * i, n = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions", this.addClass(n), Mp(this.styleEl_, "\n      ." + n + " {\n        width: " + e + "px;\n        height: " + t + "px;\n      }\n\n      ." + n + ".vjs-fluid {\n        padding-top: " + 100 * i + "%;\n      }\n    ")
                } else {
                    var a = "number" == typeof this.width_ ? this.width_ : this.options_.width,
                        o = "number" == typeof this.height_ ? this.height_ : this.options_.height,
                        s = this.tech_ && this.tech_.el();
                    s && (a >= 0 && (s.width = a), o >= 0 && (s.height = o))
                }
            }, n.loadTech_ = function(e, t) {
                var n = this;
                this.tech_ && this.unloadTech_();
                var r = df(e),
                    i = e.charAt(0).toLowerCase() + e.slice(1);
                "Html5" !== r && this.tag && (im.getTech("Html5").disposeMediaElement(this.tag), this.tag.player = null, this.tag = null), this.techName_ = r, this.isReady_ = !1;
                var a = this.autoplay();
                ("string" == typeof this.autoplay() || !0 === this.autoplay() && this.options_.normalizeAutoplay) && (a = !1);
                var o = {
                    source: t,
                    autoplay: a,
                    nativeControlsForTouch: this.options_.nativeControlsForTouch,
                    playerId: this.id(),
                    techId: this.id() + "_" + i + "_api",
                    playsinline: this.options_.playsinline,
                    preload: this.options_.preload,
                    loop: this.options_.loop,
                    disablePictureInPicture: this.options_.disablePictureInPicture,
                    muted: this.options_.muted,
                    poster: this.poster(),
                    language: this.language(),
                    playerElIngest: this.playerElIngest_ || !1,
                    "vtt.js": this.options_["vtt.js"],
                    canOverridePoster: !!this.options_.techCanOverridePoster,
                    enableSourceset: this.options_.enableSourceset,
                    Promise: this.options_.Promise
                };
                rm.names.forEach((function(e) {
                    var t = rm[e];
                    o[t.getterName] = n[t.privateName]
                })), _h(o, this.options_[r]), _h(o, this.options_[i]), _h(o, this.options_[e.toLowerCase()]), this.tag && (o.tag = this.tag), t && t.src === this.cache_.src && this.cache_.currentTime > 0 && (o.startTime = this.cache_.currentTime);
                var s = im.getTech(e);
                if (!s) throw new Error("No Tech named '" + r + "' exists! '" + r + "' should be registered using videojs.registerTech()'");
                this.tech_ = new s(o), this.tech_.ready(Kp(this, this.handleTechReady_), !0), kf(this.textTracksJson_ || [], this.tech_), ny.forEach((function(e) {
                    n.on(n.tech_, e, (function(t) {
                        return n["handleTech" + df(e) + "_"](t)
                    }))
                })), Object.keys(ry).forEach((function(e) {
                    n.on(n.tech_, e, (function(t) {
                        0 === n.tech_.playbackRate() && n.tech_.seeking() ? n.queuedCallbacks_.push({
                            callback: n["handleTech" + ry[e] + "_"].bind(n),
                            event: t
                        }) : n["handleTech" + ry[e] + "_"](t)
                    }))
                })), this.on(this.tech_, "loadstart", (function(e) {
                    return n.handleTechLoadStart_(e)
                })), this.on(this.tech_, "sourceset", (function(e) {
                    return n.handleTechSourceset_(e)
                })), this.on(this.tech_, "waiting", (function(e) {
                    return n.handleTechWaiting_(e)
                })), this.on(this.tech_, "ended", (function(e) {
                    return n.handleTechEnded_(e)
                })), this.on(this.tech_, "seeking", (function(e) {
                    return n.handleTechSeeking_(e)
                })), this.on(this.tech_, "play", (function(e) {
                    return n.handleTechPlay_(e)
                })), this.on(this.tech_, "firstplay", (function(e) {
                    return n.handleTechFirstPlay_(e)
                })), this.on(this.tech_, "pause", (function(e) {
                    return n.handleTechPause_(e)
                })), this.on(this.tech_, "durationchange", (function(e) {
                    return n.handleTechDurationChange_(e)
                })), this.on(this.tech_, "fullscreenchange", (function(e, t) {
                    return n.handleTechFullscreenChange_(e, t)
                })), this.on(this.tech_, "fullscreenerror", (function(e, t) {
                    return n.handleTechFullscreenError_(e, t)
                })), this.on(this.tech_, "enterpictureinpicture", (function(e) {
                    return n.handleTechEnterPictureInPicture_(e)
                })), this.on(this.tech_, "leavepictureinpicture", (function(e) {
                    return n.handleTechLeavePictureInPicture_(e)
                })), this.on(this.tech_, "error", (function(e) {
                    return n.handleTechError_(e)
                })), this.on(this.tech_, "posterchange", (function(e) {
                    return n.handleTechPosterChange_(e)
                })), this.on(this.tech_, "textdata", (function(e) {
                    return n.handleTechTextData_(e)
                })), this.on(this.tech_, "ratechange", (function(e) {
                    return n.handleTechRateChange_(e)
                })), this.on(this.tech_, "loadedmetadata", this.boundUpdateStyleEl_), this.usingNativeControls(this.techGet_("controls")), this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(), this.tech_.el().parentNode === this.el() || "Html5" === r && this.tag || ep(this.tech_.el(), this.el()), this.tag && (this.tag.player = null, this.tag = null)
            }, n.unloadTech_ = function() {
                var e = this;
                rm.names.forEach((function(t) {
                    var n = rm[t];
                    e[n.privateName] = e[n.getterName]()
                })), this.textTracksJson_ = Pf(this.tech_), this.isReady_ = !1, this.tech_.dispose(), this.tech_ = !1, this.isPosterFromTech_ && (this.poster_ = "", this.trigger("posterchange")), this.isPosterFromTech_ = !1
            }, n.tech = function(e) {
                return void 0 === e && gh.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"), this.tech_
            }, n.addTechControlsListeners_ = function() {
                this.removeTechControlsListeners_(), this.on(this.tech_, "mouseup", this.boundHandleTechClick_), this.on(this.tech_, "dblclick", this.boundHandleTechDoubleClick_), this.on(this.tech_, "touchstart", this.boundHandleTechTouchStart_), this.on(this.tech_, "touchmove", this.boundHandleTechTouchMove_), this.on(this.tech_, "touchend", this.boundHandleTechTouchEnd_), this.on(this.tech_, "tap", this.boundHandleTechTap_)
            }, n.removeTechControlsListeners_ = function() {
                this.off(this.tech_, "tap", this.boundHandleTechTap_), this.off(this.tech_, "touchstart", this.boundHandleTechTouchStart_), this.off(this.tech_, "touchmove", this.boundHandleTechTouchMove_), this.off(this.tech_, "touchend", this.boundHandleTechTouchEnd_), this.off(this.tech_, "mouseup", this.boundHandleTechClick_), this.off(this.tech_, "dblclick", this.boundHandleTechDoubleClick_)
            }, n.handleTechReady_ = function() {
                this.triggerReady(), this.cache_.volume && this.techCall_("setVolume", this.cache_.volume), this.handleTechPosterChange_(), this.handleTechDurationChange_()
            }, n.handleTechLoadStart_ = function() {
                this.removeClass("vjs-ended"), this.removeClass("vjs-seeking"), this.error(null), this.handleTechDurationChange_(), this.paused() ? (this.hasStarted(!1), this.trigger("loadstart")) : (this.trigger("loadstart"), this.trigger("firstplay")), this.manualAutoplay_(!0 === this.autoplay() && this.options_.normalizeAutoplay ? "play" : this.autoplay())
            }, n.manualAutoplay_ = function(e) {
                var t = this;
                if (this.tech_ && "string" == typeof e) {
                    var n, r = function() {
                        var e = t.muted();
                        t.muted(!0);
                        var n = function() {
                            t.muted(e)
                        };
                        t.playTerminatedQueue_.push(n);
                        var r = t.play();
                        if (Af(r)) return r.catch((function(e) {
                            throw n(), new Error("Rejection at manualAutoplay. Restoring muted value. " + (e || ""))
                        }))
                    };
                    if ("any" !== e || this.muted() ? n = "muted" !== e || this.muted() ? this.play() : r() : Af(n = this.play()) && (n = n.catch(r)), Af(n)) return n.then((function() {
                        t.trigger({
                            type: "autoplay-success",
                            autoplay: e
                        })
                    })).catch((function() {
                        t.trigger({
                            type: "autoplay-failure",
                            autoplay: e
                        })
                    }))
                }
            }, n.updateSourceCaches_ = function(e) {
                void 0 === e && (e = "");
                var t = e,
                    n = "";
                "string" != typeof t && (t = e.src, n = e.type), this.cache_.source = this.cache_.source || {}, this.cache_.sources = this.cache_.sources || [], t && !n && (n = function(e, t) {
                    if (!t) return "";
                    if (e.cache_.source.src === t && e.cache_.source.type) return e.cache_.source.type;
                    var n = e.cache_.sources.filter((function(e) {
                        return e.src === t
                    }));
                    if (n.length) return n[0].type;
                    for (var r = e.$$("source"), i = 0; i < r.length; i++) {
                        var a = r[i];
                        if (a.type && a.src && a.src === t) return a.type
                    }
                    return gm(t)
                }(this, t)), this.cache_.source = hf({}, e, {
                    src: t,
                    type: n
                });
                for (var r = this.cache_.sources.filter((function(e) {
                        return e.src && e.src === t
                    })), i = [], a = this.$$("source"), o = [], s = 0; s < a.length; s++) {
                    var u = op(a[s]);
                    i.push(u), u.src && u.src === t && o.push(u.src)
                }
                o.length && !r.length ? this.cache_.sources = i : r.length || (this.cache_.sources = [this.cache_.source]), this.cache_.src = t
            }, n.handleTechSourceset_ = function(e) {
                var t = this;
                if (!this.changingSrc_) {
                    var n = function(e) {
                            return t.updateSourceCaches_(e)
                        },
                        r = this.currentSource().src,
                        i = e.src;
                    r && !/^blob:/.test(r) && /^blob:/.test(i) && (!this.lastSource_ || this.lastSource_.tech !== i && this.lastSource_.player !== r) && (n = function() {}), n(i), e.src || this.tech_.any(["sourceset", "loadstart"], (function(e) {
                        if ("sourceset" !== e.type) {
                            var n = t.techGet("currentSrc");
                            t.lastSource_.tech = n, t.updateSourceCaches_(n)
                        }
                    }))
                }
                this.lastSource_ = {
                    player: this.currentSource().src,
                    tech: e.src
                }, this.trigger({
                    src: e.src,
                    type: "sourceset"
                })
            }, n.hasStarted = function(e) {
                if (void 0 === e) return this.hasStarted_;
                e !== this.hasStarted_ && (this.hasStarted_ = e, this.hasStarted_ ? (this.addClass("vjs-has-started"), this.trigger("firstplay")) : this.removeClass("vjs-has-started"))
            }, n.handleTechPlay_ = function() {
                this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.hasStarted(!0), this.trigger("play")
            }, n.handleTechRateChange_ = function() {
                this.tech_.playbackRate() > 0 && 0 === this.cache_.lastPlaybackRate && (this.queuedCallbacks_.forEach((function(e) {
                    return e.callback(e.event)
                })), this.queuedCallbacks_ = []), this.cache_.lastPlaybackRate = this.tech_.playbackRate(), this.trigger("ratechange")
            }, n.handleTechWaiting_ = function() {
                var e = this;
                this.addClass("vjs-waiting"), this.trigger("waiting");
                var t = this.currentTime();
                this.on("timeupdate", (function n() {
                    t !== e.currentTime() && (e.removeClass("vjs-waiting"), e.off("timeupdate", n))
                }))
            }, n.handleTechCanPlay_ = function() {
                this.removeClass("vjs-waiting"), this.trigger("canplay")
            }, n.handleTechCanPlayThrough_ = function() {
                this.removeClass("vjs-waiting"), this.trigger("canplaythrough")
            }, n.handleTechPlaying_ = function() {
                this.removeClass("vjs-waiting"), this.trigger("playing")
            }, n.handleTechSeeking_ = function() {
                this.addClass("vjs-seeking"), this.trigger("seeking")
            }, n.handleTechSeeked_ = function() {
                this.removeClass("vjs-seeking"), this.removeClass("vjs-ended"), this.trigger("seeked")
            }, n.handleTechFirstPlay_ = function() {
                this.options_.starttime && (gh.warn("Passing the `starttime` option to the player will be deprecated in 6.0"), this.currentTime(this.options_.starttime)), this.addClass("vjs-has-started"), this.trigger("firstplay")
            }, n.handleTechPause_ = function() {
                this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.trigger("pause")
            }, n.handleTechEnded_ = function() {
                this.addClass("vjs-ended"), this.removeClass("vjs-waiting"), this.options_.loop ? (this.currentTime(0), this.play()) : this.paused() || this.pause(), this.trigger("ended")
            }, n.handleTechDurationChange_ = function() {
                this.duration(this.techGet_("duration"))
            }, n.handleTechClick_ = function(e) {
                Tp(e) && this.controls_ && (this.paused() ? Ef(this.play()) : this.pause())
            }, n.handleTechDoubleClick_ = function(e) {
                this.controls_ && (Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"), (function(t) {
                    return t.contains(e.target)
                })) || void 0 !== this.options_ && void 0 !== this.options_.userActions && void 0 !== this.options_.userActions.doubleClick && !1 === this.options_.userActions.doubleClick || (void 0 !== this.options_ && void 0 !== this.options_.userActions && "function" == typeof this.options_.userActions.doubleClick ? this.options_.userActions.doubleClick.call(this, e) : this.isFullscreen() ? this.exitFullscreen() : this.requestFullscreen()))
            }, n.handleTechTap_ = function() {
                this.userActive(!this.userActive())
            }, n.handleTechTouchStart_ = function() {
                this.userWasActive = this.userActive()
            }, n.handleTechTouchMove_ = function() {
                this.userWasActive && this.reportUserActivity()
            }, n.handleTechTouchEnd_ = function(e) {
                e.cancelable && e.preventDefault()
            }, n.handleStageClick_ = function() {
                this.reportUserActivity()
            }, n.toggleFullscreenClass_ = function() {
                this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen")
            }, n.documentFullscreenChange_ = function(e) {
                var t = e.target.player;
                if (!t || t === this) {
                    var n = this.el(),
                        r = Ps[this.fsApi_.fullscreenElement] === n;
                    !r && n.matches ? r = n.matches(":" + this.fsApi_.fullscreen) : !r && n.msMatchesSelector && (r = n.msMatchesSelector(":" + this.fsApi_.fullscreen)), this.isFullscreen(r)
                }
            }, n.handleTechFullscreenChange_ = function(e, t) {
                t && (t.nativeIOSFullscreen && this.toggleClass("vjs-ios-native-fs"), this.isFullscreen(t.isFullscreen))
            }, n.handleTechFullscreenError_ = function(e, t) {
                this.trigger("fullscreenerror", t)
            }, n.togglePictureInPictureClass_ = function() {
                this.isInPictureInPicture() ? this.addClass("vjs-picture-in-picture") : this.removeClass("vjs-picture-in-picture")
            }, n.handleTechEnterPictureInPicture_ = function(e) {
                this.isInPictureInPicture(!0)
            }, n.handleTechLeavePictureInPicture_ = function(e) {
                this.isInPictureInPicture(!1)
            }, n.handleTechError_ = function() {
                var e = this.tech_.error();
                this.error(e)
            }, n.handleTechTextData_ = function() {
                var e = null;
                arguments.length > 1 && (e = arguments[1]), this.trigger("textdata", e)
            }, n.getCache = function() {
                return this.cache_
            }, n.resetCache_ = function() {
                this.cache_ = {
                    currentTime: 0,
                    initTime: 0,
                    inactivityTimeout: this.options_.inactivityTimeout,
                    duration: NaN,
                    lastVolume: 1,
                    lastPlaybackRate: this.defaultPlaybackRate(),
                    media: null,
                    src: "",
                    source: {},
                    sources: [],
                    playbackRates: [],
                    volume: 1
                }
            }, n.techCall_ = function(e, t) {
                this.ready((function() {
                    if (e in dm) return function(e, t, n, r) {
                        return t[n](e.reduce(pm(n), r))
                    }(this.middleware_, this.tech_, e, t);
                    if (e in hm) return lm(this.middleware_, this.tech_, e, t);
                    try {
                        this.tech_ && this.tech_[e](t)
                    } catch (e) {
                        throw gh(e), e
                    }
                }), !0)
            }, n.techGet_ = function(e) {
                if (this.tech_ && this.tech_.isReady_) {
                    if (e in cm) return function(e, t, n) {
                        return e.reduceRight(pm(n), t[n]())
                    }(this.middleware_, this.tech_, e);
                    if (e in hm) return lm(this.middleware_, this.tech_, e);
                    try {
                        return this.tech_[e]()
                    } catch (t) {
                        if (void 0 === this.tech_[e]) throw gh("Video.js: " + e + " method not defined for " + this.techName_ + " playback technology.", t), t;
                        if ("TypeError" === t.name) throw gh("Video.js: " + e + " unavailable on " + this.techName_ + " playback technology element.", t), this.tech_.isReady_ = !1, t;
                        throw gh(t), t
                    }
                }
            }, n.play = function() {
                var e = this,
                    t = this.options_.Promise || m.Promise;
                return t ? new t((function(t) {
                    e.play_(t)
                })) : this.play_()
            }, n.play_ = function(e) {
                var t = this;
                void 0 === e && (e = Ef), this.playCallbacks_.push(e);
                var n = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc()));
                if (this.waitToPlay_ && (this.off(["ready", "loadstart"], this.waitToPlay_), this.waitToPlay_ = null), !this.isReady_ || !n) return this.waitToPlay_ = function(e) {
                    t.play_()
                }, this.one(["ready", "loadstart"], this.waitToPlay_), void(n || !Wh && !Vh || this.load());
                var r = this.techGet_("play");
                null === r ? this.runPlayTerminatedQueue_() : this.runPlayCallbacks_(r)
            }, n.runPlayTerminatedQueue_ = function() {
                var e = this.playTerminatedQueue_.slice(0);
                this.playTerminatedQueue_ = [], e.forEach((function(e) {
                    e()
                }))
            }, n.runPlayCallbacks_ = function(e) {
                var t = this.playCallbacks_.slice(0);
                this.playCallbacks_ = [], this.playTerminatedQueue_ = [], t.forEach((function(t) {
                    t(e)
                }))
            }, n.pause = function() {
                this.techCall_("pause")
            }, n.paused = function() {
                return !1 !== this.techGet_("paused")
            }, n.played = function() {
                return this.techGet_("played") || Tf(0, 0)
            }, n.scrubbing = function(e) {
                if (void 0 === e) return this.scrubbing_;
                this.scrubbing_ = !!e, this.techCall_("setScrubbing", this.scrubbing_), e ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing")
            }, n.currentTime = function(e) {
                return void 0 !== e ? (e < 0 && (e = 0), this.isReady_ && !this.changingSrc_ && this.tech_ && this.tech_.isReady_ ? (this.techCall_("setCurrentTime", e), void(this.cache_.initTime = 0)) : (this.cache_.initTime = e, this.off("canplay", this.boundApplyInitTime_), void this.one("canplay", this.boundApplyInitTime_))) : (this.cache_.currentTime = this.techGet_("currentTime") || 0, this.cache_.currentTime)
            }, n.applyInitTime_ = function() {
                this.currentTime(this.cache_.initTime)
            }, n.duration = function(e) {
                if (void 0 === e) return void 0 !== this.cache_.duration ? this.cache_.duration : NaN;
                (e = parseFloat(e)) < 0 && (e = 1 / 0), e !== this.cache_.duration && (this.cache_.duration = e, e === 1 / 0 ? this.addClass("vjs-live") : this.removeClass("vjs-live"), isNaN(e) || this.trigger("durationchange"))
            }, n.remainingTime = function() {
                return this.duration() - this.currentTime()
            }, n.remainingTimeDisplay = function() {
                return Math.floor(this.duration()) - Math.floor(this.currentTime())
            }, n.buffered = function() {
                var e = this.techGet_("buffered");
                return e && e.length || (e = Tf(0, 0)), e
            }, n.bufferedPercent = function() {
                return _f(this.buffered(), this.duration())
            }, n.bufferedEnd = function() {
                var e = this.buffered(),
                    t = this.duration(),
                    n = e.end(e.length - 1);
                return n > t && (n = t), n
            }, n.volume = function(e) {
                var t;
                return void 0 !== e ? (t = Math.max(0, Math.min(1, parseFloat(e))), this.cache_.volume = t, this.techCall_("setVolume", t), void(t > 0 && this.lastVolume_(t))) : (t = parseFloat(this.techGet_("volume")), isNaN(t) ? 1 : t)
            }, n.muted = function(e) {
                if (void 0 === e) return this.techGet_("muted") || !1;
                this.techCall_("setMuted", e)
            }, n.defaultMuted = function(e) {
                return void 0 !== e ? this.techCall_("setDefaultMuted", e) : this.techGet_("defaultMuted") || !1
            }, n.lastVolume_ = function(e) {
                if (void 0 === e || 0 === e) return this.cache_.lastVolume;
                this.cache_.lastVolume = e
            }, n.supportsFullScreen = function() {
                return this.techGet_("supportsFullScreen") || !1
            }, n.isFullscreen = function(e) {
                if (void 0 !== e) {
                    var t = this.isFullscreen_;
                    return this.isFullscreen_ = Boolean(e), this.isFullscreen_ !== t && this.fsApi_.prefixed && this.trigger("fullscreenchange"), void this.toggleFullscreenClass_()
                }
                return this.isFullscreen_
            }, n.requestFullscreen = function(e) {
                var t = this.options_.Promise || m.Promise;
                if (t) {
                    var n = this;
                    return new t((function(t, r) {
                        function i() {
                            n.off("fullscreenerror", o), n.off("fullscreenchange", a)
                        }

                        function a() {
                            i(), t()
                        }

                        function o(e, t) {
                            i(), r(t)
                        }
                        n.one("fullscreenchange", a), n.one("fullscreenerror", o);
                        var s = n.requestFullscreenHelper_(e);
                        s && (s.then(i, i), s.then(t, r))
                    }))
                }
                return this.requestFullscreenHelper_()
            }, n.requestFullscreenHelper_ = function(e) {
                var t, n = this;
                if (this.fsApi_.prefixed || (t = this.options_.fullscreen && this.options_.fullscreen.options || {}, void 0 !== e && (t = e)), this.fsApi_.requestFullscreen) {
                    var r = this.el_[this.fsApi_.requestFullscreen](t);
                    return r && r.then((function() {
                        return n.isFullscreen(!0)
                    }), (function() {
                        return n.isFullscreen(!1)
                    })), r
                }
                this.tech_.supportsFullScreen() && !0 == !this.options_.preferFullWindow ? this.techCall_("enterFullScreen") : this.enterFullWindow()
            }, n.exitFullscreen = function() {
                var e = this.options_.Promise || m.Promise;
                if (e) {
                    var t = this;
                    return new e((function(e, n) {
                        function r() {
                            t.off("fullscreenerror", a), t.off("fullscreenchange", i)
                        }

                        function i() {
                            r(), e()
                        }

                        function a(e, t) {
                            r(), n(t)
                        }
                        t.one("fullscreenchange", i), t.one("fullscreenerror", a);
                        var o = t.exitFullscreenHelper_();
                        o && (o.then(r, r), o.then(e, n))
                    }))
                }
                return this.exitFullscreenHelper_()
            }, n.exitFullscreenHelper_ = function() {
                var e = this;
                if (this.fsApi_.requestFullscreen) {
                    var t = Ps[this.fsApi_.exitFullscreen]();
                    return t && Ef(t.then((function() {
                        return e.isFullscreen(!1)
                    }))), t
                }
                this.tech_.supportsFullScreen() && !0 == !this.options_.preferFullWindow ? this.techCall_("exitFullScreen") : this.exitFullWindow()
            }, n.enterFullWindow = function() {
                this.isFullscreen(!0), this.isFullWindow = !0, this.docOrigOverflow = Ps.documentElement.style.overflow, jp(Ps, "keydown", this.boundFullWindowOnEscKey_), Ps.documentElement.style.overflow = "hidden", np(Ps.body, "vjs-full-window"), this.trigger("enterFullWindow")
            }, n.fullWindowOnEscKey = function(e) {
                Os.isEventKey(e, "Esc") && !0 === this.isFullscreen() && (this.isFullWindow ? this.exitFullWindow() : this.exitFullscreen())
            }, n.exitFullWindow = function() {
                this.isFullscreen(!1), this.isFullWindow = !1, Hp(Ps, "keydown", this.boundFullWindowOnEscKey_), Ps.documentElement.style.overflow = this.docOrigOverflow, rp(Ps.body, "vjs-full-window"), this.trigger("exitFullWindow")
            }, n.disablePictureInPicture = function(e) {
                if (void 0 === e) return this.techGet_("disablePictureInPicture");
                this.techCall_("setDisablePictureInPicture", e), this.options_.disablePictureInPicture = e, this.trigger("disablepictureinpicturechanged")
            }, n.isInPictureInPicture = function(e) {
                return void 0 !== e ? (this.isInPictureInPicture_ = !!e, void this.togglePictureInPictureClass_()) : !!this.isInPictureInPicture_
            }, n.requestPictureInPicture = function() {
                if ("pictureInPictureEnabled" in Ps && !1 === this.disablePictureInPicture()) return this.techGet_("requestPictureInPicture")
            }, n.exitPictureInPicture = function() {
                if ("pictureInPictureEnabled" in Ps) return Ps.exitPictureInPicture()
            }, n.handleKeyDown = function(e) {
                var t = this.options_.userActions;
                if (t && t.hotkeys) {
                    (function(e) {
                        var t = e.tagName.toLowerCase();
                        if (e.isContentEditable) return !0;
                        if ("input" === t) return -1 === ["button", "checkbox", "hidden", "radio", "reset", "submit"].indexOf(e.type);
                        return -1 !== ["textarea"].indexOf(t)
                    })(this.el_.ownerDocument.activeElement) || ("function" == typeof t.hotkeys ? t.hotkeys.call(this, e) : this.handleHotkeys(e))
                }
            }, n.handleHotkeys = function(e) {
                var t = this.options_.userActions ? this.options_.userActions.hotkeys : {},
                    n = t.fullscreenKey,
                    r = void 0 === n ? function(e) {
                        return Os.isEventKey(e, "f")
                    } : n,
                    i = t.muteKey,
                    a = void 0 === i ? function(e) {
                        return Os.isEventKey(e, "m")
                    } : i,
                    o = t.playPauseKey,
                    s = void 0 === o ? function(e) {
                        return Os.isEventKey(e, "k") || Os.isEventKey(e, "Space")
                    } : o;
                if (r.call(this, e)) {
                    e.preventDefault(), e.stopPropagation();
                    var u = yf.getComponent("FullscreenToggle");
                    !1 !== Ps[this.fsApi_.fullscreenEnabled] && u.prototype.handleClick.call(this, e)
                } else if (a.call(this, e)) {
                    e.preventDefault(), e.stopPropagation(), yf.getComponent("MuteToggle").prototype.handleClick.call(this, e)
                } else if (s.call(this, e)) {
                    e.preventDefault(), e.stopPropagation(), yf.getComponent("PlayToggle").prototype.handleClick.call(this, e)
                }
            }, n.canPlayType = function(e) {
                for (var t, n = 0, r = this.options_.techOrder; n < r.length; n++) {
                    var i = r[n],
                        a = im.getTech(i);
                    if (a || (a = yf.getComponent(i)), a) {
                        if (a.isSupported() && (t = a.canPlayType(e))) return t
                    } else gh.error('The "' + i + '" tech is undefined. Skipped browser support check for that tech.')
                }
                return ""
            }, n.selectSource = function(e) {
                var t, n = this,
                    r = this.options_.techOrder.map((function(e) {
                        return [e, im.getTech(e)]
                    })).filter((function(e) {
                        var t = e[0],
                            n = e[1];
                        return n ? n.isSupported() : (gh.error('The "' + t + '" tech is undefined. Skipped browser support check for that tech.'), !1)
                    })),
                    i = function(e, t, n) {
                        var r;
                        return e.some((function(e) {
                            return t.some((function(t) {
                                if (r = n(e, t)) return !0
                            }))
                        })), r
                    },
                    a = function(e, t) {
                        var r = e[0];
                        if (e[1].canPlaySource(t, n.options_[r.toLowerCase()])) return {
                            source: t,
                            tech: r
                        }
                    };
                return (this.options_.sourceOrder ? i(e, r, (t = a, function(e, n) {
                    return t(n, e)
                })) : i(r, e, a)) || !1
            }, n.handleSrc_ = function(e, t) {
                var n = this;
                if (void 0 === e) return this.cache_.src || "";
                this.resetRetryOnError_ && this.resetRetryOnError_();
                var r = ym(e);
                if (r.length) {
                    if (this.changingSrc_ = !0, t || (this.cache_.sources = r), this.updateSourceCaches_(r[0]), um(this, r[0], (function(e, i) {
                            var a, o;
                            if (n.middleware_ = i, t || (n.cache_.sources = r), n.updateSourceCaches_(e), n.src_(e)) return r.length > 1 ? n.handleSrc_(r.slice(1)) : (n.changingSrc_ = !1, n.setTimeout((function() {
                                this.error({
                                    code: 4,
                                    message: this.localize(this.options_.notSupportedMessage)
                                })
                            }), 0), void n.triggerReady());
                            a = i, o = n.tech_, a.forEach((function(e) {
                                return e.setTech && e.setTech(o)
                            }))
                        })), this.options_.retryOnError && r.length > 1) {
                        var i = function() {
                                n.error(null), n.handleSrc_(r.slice(1), !0)
                            },
                            a = function() {
                                n.off("error", i)
                            };
                        this.one("error", i), this.one("playing", a), this.resetRetryOnError_ = function() {
                            n.off("error", i), n.off("playing", a)
                        }
                    }
                } else this.setTimeout((function() {
                    this.error({
                        code: 4,
                        message: this.localize(this.options_.notSupportedMessage)
                    })
                }), 0)
            }, n.src = function(e) {
                return this.handleSrc_(e, !1)
            }, n.src_ = function(e) {
                var t, n, r = this,
                    i = this.selectSource([e]);
                return !i || (t = i.tech, n = this.techName_, df(t) !== df(n) ? (this.changingSrc_ = !0, this.loadTech_(i.tech, i.source), this.tech_.ready((function() {
                    r.changingSrc_ = !1
                })), !1) : (this.ready((function() {
                    this.tech_.constructor.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", e) : this.techCall_("src", e.src), this.changingSrc_ = !1
                }), !0), !1))
            }, n.load = function() {
                this.techCall_("load")
            }, n.reset = function() {
                var e = this,
                    t = this.options_.Promise || m.Promise;
                this.paused() || !t ? this.doReset_() : Ef(this.play().then((function() {
                    return e.doReset_()
                })))
            }, n.doReset_ = function() {
                this.tech_ && this.tech_.clearTracks("text"), this.resetCache_(), this.poster(""), this.loadTech_(this.options_.techOrder[0], null), this.techCall_("reset"), this.resetControlBarUI_(), Jp(this) && this.trigger("playerreset")
            }, n.resetControlBarUI_ = function() {
                this.resetProgressBar_(), this.resetPlaybackRate_(), this.resetVolumeBar_()
            }, n.resetProgressBar_ = function() {
                this.currentTime(0);
                var e = this.controlBar,
                    t = e.durationDisplay,
                    n = e.remainingTimeDisplay;
                t && t.updateContent(), n && n.updateContent()
            }, n.resetPlaybackRate_ = function() {
                this.playbackRate(this.defaultPlaybackRate()), this.handleTechRateChange_()
            }, n.resetVolumeBar_ = function() {
                this.volume(1), this.trigger("volumechange")
            }, n.currentSources = function() {
                var e = this.currentSource(),
                    t = [];
                return 0 !== Object.keys(e).length && t.push(e), this.cache_.sources || t
            }, n.currentSource = function() {
                return this.cache_.source || {}
            }, n.currentSrc = function() {
                return this.currentSource() && this.currentSource().src || ""
            }, n.currentType = function() {
                return this.currentSource() && this.currentSource().type || ""
            }, n.preload = function(e) {
                return void 0 !== e ? (this.techCall_("setPreload", e), void(this.options_.preload = e)) : this.techGet_("preload")
            }, n.autoplay = function(e) {
                if (void 0 === e) return this.options_.autoplay || !1;
                var t;
                "string" == typeof e && /(any|play|muted)/.test(e) || !0 === e && this.options_.normalizeAutoplay ? (this.options_.autoplay = e, this.manualAutoplay_("string" == typeof e ? e : "play"), t = !1) : this.options_.autoplay = !!e, t = void 0 === t ? this.options_.autoplay : t, this.tech_ && this.techCall_("setAutoplay", t)
            }, n.playsinline = function(e) {
                return void 0 !== e ? (this.techCall_("setPlaysinline", e), this.options_.playsinline = e, this) : this.techGet_("playsinline")
            }, n.loop = function(e) {
                return void 0 !== e ? (this.techCall_("setLoop", e), void(this.options_.loop = e)) : this.techGet_("loop")
            }, n.poster = function(e) {
                if (void 0 === e) return this.poster_;
                e || (e = ""), e !== this.poster_ && (this.poster_ = e, this.techCall_("setPoster", e), this.isPosterFromTech_ = !1, this.trigger("posterchange"))
            }, n.handleTechPosterChange_ = function() {
                if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {
                    var e = this.tech_.poster() || "";
                    e !== this.poster_ && (this.poster_ = e, this.isPosterFromTech_ = !0, this.trigger("posterchange"))
                }
            }, n.controls = function(e) {
                if (void 0 === e) return !!this.controls_;
                e = !!e, this.controls_ !== e && (this.controls_ = e, this.usingNativeControls() && this.techCall_("setControls", e), this.controls_ ? (this.removeClass("vjs-controls-disabled"), this.addClass("vjs-controls-enabled"), this.trigger("controlsenabled"), this.usingNativeControls() || this.addTechControlsListeners_()) : (this.removeClass("vjs-controls-enabled"), this.addClass("vjs-controls-disabled"), this.trigger("controlsdisabled"), this.usingNativeControls() || this.removeTechControlsListeners_()))
            }, n.usingNativeControls = function(e) {
                if (void 0 === e) return !!this.usingNativeControls_;
                e = !!e, this.usingNativeControls_ !== e && (this.usingNativeControls_ = e, this.usingNativeControls_ ? (this.addClass("vjs-using-native-controls"), this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"), this.trigger("usingcustomcontrols")))
            }, n.error = function(e) {
                if (void 0 === e) return this.error_ || null;
                if (this.options_.suppressNotSupportedError && e && 4 === e.code) {
                    var t = function() {
                        this.error(e)
                    };
                    return this.options_.suppressNotSupportedError = !1, this.any(["click", "touchstart"], t), void this.one("loadstart", (function() {
                        this.off(["click", "touchstart"], t)
                    }))
                }
                if (null === e) return this.error_ = e, this.removeClass("vjs-error"), void(this.errorDisplay && this.errorDisplay.close());
                this.error_ = new Sf(e), this.addClass("vjs-error"), gh.error("(CODE:" + this.error_.code + " " + Sf.errorTypes[this.error_.code] + ")", this.error_.message, this.error_), this.trigger("error")
            }, n.reportUserActivity = function(e) {
                this.userActivity_ = !0
            }, n.userActive = function(e) {
                if (void 0 === e) return this.userActive_;
                if ((e = !!e) !== this.userActive_) {
                    if (this.userActive_ = e, this.userActive_) return this.userActivity_ = !0, this.removeClass("vjs-user-inactive"), this.addClass("vjs-user-active"), void this.trigger("useractive");
                    this.tech_ && this.tech_.one("mousemove", (function(e) {
                        e.stopPropagation(), e.preventDefault()
                    })), this.userActivity_ = !1, this.removeClass("vjs-user-active"), this.addClass("vjs-user-inactive"), this.trigger("userinactive")
                }
            }, n.listenForUserActivity_ = function() {
                var e, t, n, r = Kp(this, this.reportUserActivity),
                    i = function(t) {
                        r(), this.clearInterval(e)
                    };
                this.on("mousedown", (function() {
                    r(), this.clearInterval(e), e = this.setInterval(r, 250)
                })), this.on("mousemove", (function(e) {
                    e.screenX === t && e.screenY === n || (t = e.screenX, n = e.screenY, r())
                })), this.on("mouseup", i), this.on("mouseleave", i);
                var a, o = this.getChild("controlBar");
                !o || Vh || Ih || (o.on("mouseenter", (function(e) {
                    this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout, this.player().options_.inactivityTimeout = 0
                })), o.on("mouseleave", (function(e) {
                    this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout
                }))), this.on("keydown", r), this.on("keyup", r), this.setInterval((function() {
                    if (this.userActivity_) {
                        this.userActivity_ = !1, this.userActive(!0), this.clearTimeout(a);
                        var e = this.options_.inactivityTimeout;
                        e <= 0 || (a = this.setTimeout((function() {
                            this.userActivity_ || this.userActive(!1)
                        }), e))
                    }
                }), 250)
            }, n.playbackRate = function(e) {
                if (void 0 === e) return this.tech_ && this.tech_.featuresPlaybackRate ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate") : 1;
                this.techCall_("setPlaybackRate", e)
            }, n.defaultPlaybackRate = function(e) {
                return void 0 !== e ? this.techCall_("setDefaultPlaybackRate", e) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("defaultPlaybackRate") : 1
            }, n.isAudio = function(e) {
                if (void 0 === e) return !!this.isAudio_;
                this.isAudio_ = !!e
            }, n.addTextTrack = function(e, t, n) {
                if (this.tech_) return this.tech_.addTextTrack(e, t, n)
            }, n.addRemoteTextTrack = function(e, t) {
                if (this.tech_) return this.tech_.addRemoteTextTrack(e, t)
            }, n.removeRemoteTextTrack = function(e) {
                void 0 === e && (e = {});
                var t = e.track;
                if (t || (t = e), this.tech_) return this.tech_.removeRemoteTextTrack(t)
            }, n.getVideoPlaybackQuality = function() {
                return this.techGet_("getVideoPlaybackQuality")
            }, n.videoWidth = function() {
                return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0
            }, n.videoHeight = function() {
                return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0
            }, n.language = function(e) {
                if (void 0 === e) return this.language_;
                this.language_ !== String(e).toLowerCase() && (this.language_ = String(e).toLowerCase(), Jp(this) && this.trigger("languagechange"))
            }, n.languages = function() {
                return hf(t.prototype.options_.languages, this.languages_)
            }, n.toJSON = function() {
                var e = hf(this.options_),
                    t = e.tracks;
                e.tracks = [];
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    (r = hf(r)).player = void 0, e.tracks[n] = r
                }
                return e
            }, n.createModal = function(e, t) {
                var n = this;
                (t = t || {}).content = e || "";
                var r = new xf(this, t);
                return this.addChild(r), r.on("dispose", (function() {
                    n.removeChild(r)
                })), r.open(), r
            }, n.updateCurrentBreakpoint_ = function() {
                if (this.responsive())
                    for (var e = this.currentBreakpoint(), t = this.currentWidth(), n = 0; n < iy.length; n++) {
                        var r = iy[n];
                        if (t <= this.breakpoints_[r]) {
                            if (e === r) return;
                            e && this.removeClass(ay[e]), this.addClass(ay[r]), this.breakpoint_ = r;
                            break
                        }
                    }
            }, n.removeCurrentBreakpoint_ = function() {
                var e = this.currentBreakpointClass();
                this.breakpoint_ = "", e && this.removeClass(e)
            }, n.breakpoints = function(e) {
                return void 0 === e || (this.breakpoint_ = "", this.breakpoints_ = _h({}, oy, e), this.updateCurrentBreakpoint_()), _h(this.breakpoints_)
            }, n.responsive = function(e) {
                return void 0 === e ? this.responsive_ : (e = Boolean(e)) !== this.responsive_ ? (this.responsive_ = e, e ? (this.on("playerresize", this.boundUpdateCurrentBreakpoint_), this.updateCurrentBreakpoint_()) : (this.off("playerresize", this.boundUpdateCurrentBreakpoint_), this.removeCurrentBreakpoint_()), e) : void 0
            }, n.currentBreakpoint = function() {
                return this.breakpoint_
            }, n.currentBreakpointClass = function() {
                return ay[this.breakpoint_] || ""
            }, n.loadMedia = function(e, t) {
                var n = this;
                if (e && "object" == typeof e) {
                    this.reset(), this.cache_.media = hf(e);
                    var r = this.cache_.media,
                        i = r.artwork,
                        a = r.poster,
                        o = r.src,
                        s = r.textTracks;
                    !i && a && (this.cache_.media.artwork = [{
                        src: a,
                        type: gm(a)
                    }]), o && this.src(o), a && this.poster(a), Array.isArray(s) && s.forEach((function(e) {
                        return n.addRemoteTextTrack(e, !1)
                    })), this.ready(t)
                }
            }, n.getMedia = function() {
                if (!this.cache_.media) {
                    var e = this.poster(),
                        t = {
                            src: this.currentSources(),
                            textTracks: Array.prototype.map.call(this.remoteTextTracks(), (function(e) {
                                return {
                                    kind: e.kind,
                                    label: e.label,
                                    language: e.language,
                                    src: e.src
                                }
                            }))
                        };
                    return e && (t.poster = e, t.artwork = [{
                        src: t.poster,
                        type: gm(t.poster)
                    }]), t
                }
                return hf(this.cache_.media)
            }, t.getTagSettings = function(e) {
                var t = {
                        sources: [],
                        tracks: []
                    },
                    n = op(e),
                    r = n["data-setup"];
                if (tp(e, "vjs-fill") && (n.fill = !0), tp(e, "vjs-fluid") && (n.fluid = !0), null !== r) {
                    var i = Ls(r || "{}"),
                        a = i[0],
                        o = i[1];
                    a && gh.error(a), _h(n, o)
                }
                if (_h(t, n), e.hasChildNodes())
                    for (var s = e.childNodes, u = 0, l = s.length; u < l; u++) {
                        var c = s[u],
                            d = c.nodeName.toLowerCase();
                        "source" === d ? t.sources.push(op(c)) : "track" === d && t.tracks.push(op(c))
                    }
                return t
            }, n.flexNotSupported_ = function() {
                var e = Ps.createElement("i");
                return !("flexBasis" in e.style || "webkitFlexBasis" in e.style || "mozFlexBasis" in e.style || "msFlexBasis" in e.style || "msFlexOrder" in e.style)
            }, n.debug = function(e) {
                if (void 0 === e) return this.debugEnabled_;
                e ? (this.trigger("debugon"), this.previousLogLevel_ = this.log.level, this.log.level("debug"), this.debugEnabled_ = !0) : (this.trigger("debugoff"), this.log.level(this.previousLogLevel_), this.previousLogLevel_ = void 0, this.debugEnabled_ = !1)
            }, n.playbackRates = function(e) {
                if (void 0 === e) return this.cache_.playbackRates;
                Array.isArray(e) && e.every((function(e) {
                    return "number" == typeof e
                })) && (this.cache_.playbackRates = e, this.trigger("playbackrateschange"))
            }, t
        }(yf);
    rm.names.forEach((function(e) {
        var t = rm[e];
        sy.prototype[t.getterName] = function() {
            return this.tech_ ? this.tech_[t.getterName]() : (this[t.privateName] = this[t.privateName] || new t.ListClass, this[t.privateName])
        }
    })), sy.prototype.crossorigin = sy.prototype.crossOrigin, sy.players = {};
    var uy = m.navigator;
    sy.prototype.options_ = {
        techOrder: im.defaultTechOrder_,
        html5: {},
        inactivityTimeout: 2e3,
        playbackRates: [],
        liveui: !1,
        children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "liveTracker", "controlBar", "errorDisplay", "textTrackSettings", "resizeManager"],
        language: uy && (uy.languages && uy.languages[0] || uy.userLanguage || uy.language) || "en",
        languages: {},
        notSupportedMessage: "No compatible source was found for this media.",
        normalizeAutoplay: !1,
        fullscreen: {
            options: {
                navigationUI: "hide"
            }
        },
        breakpoints: {},
        responsive: !1
    }, ["ended", "seeking", "seekable", "networkState", "readyState"].forEach((function(e) {
        sy.prototype[e] = function() {
            return this.techGet_(e)
        }
    })), ny.forEach((function(e) {
        sy.prototype["handleTech" + df(e) + "_"] = function() {
            return this.trigger(e)
        }
    })), yf.registerComponent("Player", sy);
    var ly = "plugin",
        cy = {},
        dy = function(e) {
            return cy.hasOwnProperty(e)
        },
        hy = function(e) {
            return dy(e) ? cy[e] : void 0
        },
        py = function(e, t) {
            e.activePlugins_ = e.activePlugins_ || {}, e.activePlugins_[t] = !0
        },
        fy = function(e, t, n) {
            var r = (n ? "before" : "") + "pluginsetup";
            e.trigger(r, t), e.trigger(r + ":" + t.name, t)
        },
        my = function(e, t) {
            return t.prototype.name = e,
                function() {
                    fy(this, {
                        name: e,
                        plugin: t,
                        instance: null
                    }, !0);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                    var a = Mu(t, [this].concat(r));
                    return this[e] = function() {
                        return a
                    }, fy(this, a.getEventHash()), a
                }
        },
        gy = function() {
            function e(t) {
                if (this.constructor === e) throw new Error("Plugin must be sub-classed; not directly instantiated.");
                this.player = t, this.log || (this.log = this.player.log.createLogger(this.name)), sf(this), delete this.trigger, lf(this, this.constructor.defaultState), py(t, this.name), this.dispose = this.dispose.bind(this), t.on("dispose", this.dispose)
            }
            var t = e.prototype;
            return t.version = function() {
                return this.constructor.VERSION
            }, t.getEventHash = function(e) {
                return void 0 === e && (e = {}), e.name = this.name, e.plugin = this.constructor, e.instance = this, e
            }, t.trigger = function(e, t) {
                return void 0 === t && (t = {}), Gp(this.eventBusEl_, e, this.getEventHash(t))
            }, t.handleStateChanged = function(e) {}, t.dispose = function() {
                var e = this.name,
                    t = this.player;
                this.trigger("dispose"), this.off(), t.off("dispose", this.dispose), t.activePlugins_[e] = !1, this.player = this.state = null, t[e] = my(e, cy[e])
            }, e.isBasic = function(t) {
                var n = "string" == typeof t ? hy(t) : t;
                return "function" == typeof n && !e.prototype.isPrototypeOf(n.prototype)
            }, e.registerPlugin = function(t, n) {
                if ("string" != typeof t) throw new Error('Illegal plugin name, "' + t + '", must be a string, was ' + typeof t + ".");
                if (dy(t)) gh.warn('A plugin named "' + t + '" already exists. You may want to avoid re-registering plugins!');
                else if (sy.prototype.hasOwnProperty(t)) throw new Error('Illegal plugin name, "' + t + '", cannot share a name with an existing player method!');
                if ("function" != typeof n) throw new Error('Illegal plugin for "' + t + '", must be a function, was ' + typeof n + ".");
                return cy[t] = n, t !== ly && (e.isBasic(n) ? sy.prototype[t] = function(e, t) {
                    var n = function() {
                        fy(this, {
                            name: e,
                            plugin: t,
                            instance: null
                        }, !0);
                        var n = t.apply(this, arguments);
                        return py(this, e), fy(this, {
                            name: e,
                            plugin: t,
                            instance: n
                        }), n
                    };
                    return Object.keys(t).forEach((function(e) {
                        n[e] = t[e]
                    })), n
                }(t, n) : sy.prototype[t] = my(t, n)), n
            }, e.deregisterPlugin = function(e) {
                if (e === ly) throw new Error("Cannot de-register base plugin.");
                dy(e) && (delete cy[e], delete sy.prototype[e])
            }, e.getPlugins = function(e) {
                var t;
                return void 0 === e && (e = Object.keys(cy)), e.forEach((function(e) {
                    var n = hy(e);
                    n && ((t = t || {})[e] = n)
                })), t
            }, e.getPluginVersion = function(e) {
                var t = hy(e);
                return t && t.VERSION || ""
            }, e
        }();
    gy.getPlugin = hy, gy.BASE_PLUGIN_NAME = ly, gy.registerPlugin(ly, gy), sy.prototype.usingPlugin = function(e) {
        return !!this.activePlugins_ && !0 === this.activePlugins_[e]
    }, sy.prototype.hasPlugin = function(e) {
        return !!dy(e)
    };
    var yy = function(e) {
        return 0 === e.indexOf("#") ? e.slice(1) : e
    };

    function vy(e, t, n) {
        var r = vy.getPlayer(e);
        if (r) return t && gh.warn('Player "' + e + '" is already initialised. Options will not be applied.'), n && r.ready(n), r;
        var i = "string" == typeof e ? Sp("#" + yy(e)) : e;
        if (!Yh(i)) throw new TypeError("The element or ID supplied is not valid. (videojs)");
        i.ownerDocument.defaultView && i.ownerDocument.body.contains(i) || gh.warn("The element supplied is not included in the DOM"), t = t || {}, vy.hooks("beforesetup").forEach((function(e) {
            var n = e(i, hf(t));
            Sh(n) && !Array.isArray(n) ? t = hf(t, n) : gh.error("please return an object in beforesetup hooks")
        }));
        var a = yf.getComponent("Player");
        return r = new a(i, t, n), vy.hooks("setup").forEach((function(e) {
            return e(r)
        })), r
    }
    if (vy.hooks_ = {}, vy.hooks = function(e, t) {
            return vy.hooks_[e] = vy.hooks_[e] || [], t && (vy.hooks_[e] = vy.hooks_[e].concat(t)), vy.hooks_[e]
        }, vy.hook = function(e, t) {
            vy.hooks(e, t)
        }, vy.hookOnce = function(e, t) {
            vy.hooks(e, [].concat(t).map((function(t) {
                return function n() {
                    return vy.removeHook(e, n), t.apply(void 0, arguments)
                }
            })))
        }, vy.removeHook = function(e, t) {
            var n = vy.hooks(e).indexOf(t);
            return !(n <= -1) && (vy.hooks_[e] = vy.hooks_[e].slice(), vy.hooks_[e].splice(n, 1), !0)
        }, !0 !== m.VIDEOJS_NO_DYNAMIC_STYLE && Kh()) {
        var by = Sp(".vjs-styles-defaults");
        if (!by) {
            by = Ip("vjs-styles-defaults");
            var Ty = Sp("head");
            Ty && Ty.insertBefore(by, Ty.firstChild), Mp(by, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")
        }
    }
    Pp(1, vy), vy.VERSION = lh, vy.options = sy.prototype.options_, vy.getPlayers = function() {
        return sy.players
    }, vy.getPlayer = function(e) {
        var t, n = sy.players;
        if ("string" == typeof e) {
            var r = yy(e),
                i = n[r];
            if (i) return i;
            t = Sp("#" + r)
        } else t = e;
        if (Yh(t)) {
            var a = t,
                o = a.player,
                s = a.playerId;
            if (o || n[s]) return o || n[s]
        }
    }, vy.getAllPlayers = function() {
        return Object.keys(sy.players).map((function(e) {
            return sy.players[e]
        })).filter(Boolean)
    }, vy.players = sy.players, vy.getComponent = yf.getComponent, vy.registerComponent = function(e, t) {
        im.isTech(t) && gh.warn("The " + e + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"), yf.registerComponent.call(yf, e, t)
    }, vy.getTech = im.getTech, vy.registerTech = im.registerTech, vy.use = function(e, t) {
        am[e] = am[e] || [], am[e].push(t)
    }, Object.defineProperty(vy, "middleware", {
        value: {},
        writeable: !1,
        enumerable: !0
    }), Object.defineProperty(vy.middleware, "TERMINATOR", {
        value: sm,
        writeable: !1,
        enumerable: !0
    }), vy.browser = qh, vy.TOUCH_ENABLED = jh, vy.extend = function(e, t) {
        void 0 === t && (t = {});
        var n = function() {
                e.apply(this, arguments)
            },
            r = {};
        for (var i in "object" == typeof t ? (t.constructor !== Object.prototype.constructor && (n = t.constructor), r = t) : "function" == typeof t && (n = t),
                function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && Is(e, t)
                }(n, e), e && (n.super_ = e), r) r.hasOwnProperty(i) && (n.prototype[i] = r[i]);
        return n
    }, vy.mergeOptions = hf, vy.bind = Kp, vy.registerPlugin = gy.registerPlugin, vy.deregisterPlugin = gy.deregisterPlugin, vy.plugin = function(e, t) {
        return gh.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"), gy.registerPlugin(e, t)
    }, vy.getPlugins = gy.getPlugins, vy.getPlugin = gy.getPlugin, vy.getPluginVersion = gy.getPluginVersion, vy.addLanguage = function(e, t) {
        var n;
        return e = ("" + e).toLowerCase(), vy.options.languages = hf(vy.options.languages, ((n = {})[e] = t, n)), vy.options.languages[e]
    }, vy.log = gh, vy.createLogger = yh, vy.createTimeRange = vy.createTimeRanges = Tf, vy.formatTime = Dm, vy.setFormatTime = function(e) {
        Lm = e
    }, vy.resetFormatTime = function() {
        Lm = Mm
    }, vy.parseUrl = Wf, vy.isCrossOrigin = Xf, vy.EventTarget = Qp, vy.on = jp, vy.one = Vp, vy.off = Hp, vy.trigger = Gp, vy.xhr = qs, vy.TextTrack = $f, vy.AudioTrack = Jf, vy.VideoTrack = Zf, ["isEl", "isTextNode", "createEl", "hasClass", "addClass", "removeClass", "toggleClass", "setAttributes", "getAttributes", "emptyEl", "appendContent", "insertContent"].forEach((function(e) {
        vy[e] = function() {
            return gh.warn("videojs." + e + "() is deprecated; use videojs.dom." + e + "() instead"), Ap[e].apply(null, arguments)
        }
    })), vy.computedStyle = Ah, vy.dom = Ap, vy.url = Kf, vy.defineLazyProperty = ey, vy.addLanguage("en", {
        "Non-Fullscreen": "Exit Fullscreen"
    });
    /*! @name @videojs/http-streaming @version 2.9.2 @license Apache-2.0 */
    var _y = Ru,
        Sy = function(e, t, n) {
            return e && n && n.responseURL && t !== n.responseURL ? n.responseURL : t
        },
        wy = function(e) {
            return vy.log.debug ? vy.log.debug.bind(vy, "VHS:", e + " >") : function() {}
        },
        Ay = 1 / 30,
        Ey = .1,
        Cy = function(e, t) {
            var n, r = [];
            if (e && e.length)
                for (n = 0; n < e.length; n++) t(e.start(n), e.end(n)) && r.push([e.start(n), e.end(n)]);
            return vy.createTimeRanges(r)
        },
        Py = function(e, t) {
            return Cy(e, (function(e, n) {
                return e - Ey <= t && n + Ey >= t
            }))
        },
        ky = function(e, t) {
            return Cy(e, (function(e) {
                return e - Ay >= t
            }))
        },
        xy = function(e) {
            var t = [];
            if (!e || !e.length) return "";
            for (var n = 0; n < e.length; n++) t.push(e.start(n) + " => " + e.end(n));
            return t.join(", ")
        },
        Iy = function(e) {
            for (var t = [], n = 0; n < e.length; n++) t.push({
                start: e.start(n),
                end: e.end(n)
            });
            return t
        },
        My = function(e) {
            if (e && e.length && e.end) return e.end(e.length - 1)
        },
        Ly = vy.createTimeRange,
        Dy = function(e) {
            return (e.segments || []).reduce((function(e, t, n) {
                return t.parts ? t.parts.forEach((function(r, i) {
                    e.push({
                        duration: r.duration,
                        segmentIndex: n,
                        partIndex: i,
                        part: r,
                        segment: t
                    })
                })) : e.push({
                    duration: t.duration,
                    segmentIndex: n,
                    partIndex: null,
                    segment: t,
                    part: null
                }), e
            }), [])
        },
        Oy = function(e) {
            var t = e.segments && e.segments.length && e.segments[e.segments.length - 1];
            return t && t.parts || []
        },
        Ry = function(e) {
            var t = e.preloadSegment;
            if (t) {
                var n = t.parts,
                    r = (t.preloadHints || []).reduce((function(e, t) {
                        return e + ("PART" === t.type ? 1 : 0)
                    }), 0);
                return r += n && n.length ? n.length : 0
            }
        },
        Ny = function(e, t) {
            if (t.endList) return 0;
            if (e && e.suggestedPresentationDelay) return e.suggestedPresentationDelay;
            var n = Oy(t).length > 0;
            return n && t.serverControl && t.serverControl.partHoldBack ? t.serverControl.partHoldBack : n && t.partTargetDuration ? 3 * t.partTargetDuration : t.serverControl && t.serverControl.holdBack ? t.serverControl.holdBack : t.targetDuration ? 3 * t.targetDuration : 0
        },
        By = function(e, t, n) {
            if (void 0 === t && (t = e.mediaSequence + e.segments.length), t < e.mediaSequence) return 0;
            var r = function(e, t) {
                var n = 0,
                    r = t - e.mediaSequence,
                    i = e.segments[r];
                if (i) {
                    if (void 0 !== i.start) return {
                        result: i.start,
                        precise: !0
                    };
                    if (void 0 !== i.end) return {
                        result: i.end - i.duration,
                        precise: !0
                    }
                }
                for (; r--;) {
                    if (void 0 !== (i = e.segments[r]).end) return {
                        result: n + i.end,
                        precise: !0
                    };
                    if (n += i.duration, void 0 !== i.start) return {
                        result: n + i.start,
                        precise: !0
                    }
                }
                return {
                    result: n,
                    precise: !1
                }
            }(e, t);
            if (r.precise) return r.result;
            var i = function(e, t) {
                for (var n, r = 0, i = t - e.mediaSequence; i < e.segments.length; i++) {
                    if (void 0 !== (n = e.segments[i]).start) return {
                        result: n.start - r,
                        precise: !0
                    };
                    if (r += n.duration, void 0 !== n.end) return {
                        result: n.end - r,
                        precise: !0
                    }
                }
                return {
                    result: -1,
                    precise: !1
                }
            }(e, t);
            return i.precise ? i.result : r.result + n
        },
        Uy = function(e, t, n) {
            if (!e) return 0;
            if ("number" != typeof n && (n = 0), void 0 === t) {
                if (e.totalDuration) return e.totalDuration;
                if (!e.endList) return m.Infinity
            }
            return By(e, t, n)
        },
        Fy = function(e) {
            var t = e.defaultDuration,
                n = e.durationList,
                r = e.startIndex,
                i = e.endIndex,
                a = 0;
            if (r > i) {
                var o = [i, r];
                r = o[0], i = o[1]
            }
            if (r < 0) {
                for (var s = r; s < Math.min(0, i); s++) a += t;
                r = 0
            }
            for (var u = r; u < i; u++) a += n[u].duration;
            return a
        },
        jy = function(e, t, n, r) {
            if (!e || !e.segments) return null;
            if (e.endList) return Uy(e);
            if (null === t) return null;
            t = t || 0;
            var i = By(e, e.mediaSequence + e.segments.length, t);
            return n && (i -= r = "number" == typeof r ? r : Ny(null, e)), Math.max(0, i)
        },
        Hy = function(e) {
            return e.excludeUntil && e.excludeUntil > Date.now()
        },
        Gy = function(e) {
            return e.excludeUntil && e.excludeUntil === 1 / 0
        },
        Vy = function(e) {
            var t = Hy(e);
            return !e.disabled && !t
        },
        Wy = function(e, t) {
            return t.attributes && t.attributes[e]
        },
        qy = function(e, t) {
            if (1 === e.playlists.length) return !0;
            var n = t.attributes.BANDWIDTH || Number.MAX_VALUE;
            return 0 === e.playlists.filter((function(e) {
                return !!Vy(e) && (e.attributes.BANDWIDTH || 0) < n
            })).length
        },
        zy = function(e, t) {
            return !(!e && !t || !e && t || e && !t) && (e === t || (!(!e.id || !t.id || e.id !== t.id) || (!(!e.resolvedUri || !t.resolvedUri || e.resolvedUri !== t.resolvedUri) || !(!e.uri || !t.uri || e.uri !== t.uri))))
        },
        Xy = function(e, t) {
            var n = e && e.mediaGroups && e.mediaGroups.AUDIO || {},
                r = !1;
            for (var i in n) {
                for (var a in n[i])
                    if (r = t(n[i][a])) break;
                if (r) break
            }
            return !!r
        },
        Ky = function(e) {
            if (!e || !e.playlists || !e.playlists.length) return Xy(e, (function(e) {
                return e.playlists && e.playlists.length || e.uri
            }));
            for (var t = function(t) {
                    var n = e.playlists[t],
                        r = n.attributes && n.attributes.CODECS;
                    return r && r.split(",").every((function(e) {
                        return $u(e)
                    })) || Xy(e, (function(e) {
                        return zy(n, e)
                    })) ? "continue" : {
                        v: !1
                    }
                }, n = 0; n < e.playlists.length; n++) {
                var r = t(n);
                if ("continue" !== r && "object" == typeof r) return r.v
            }
            return !0
        },
        Yy = {
            liveEdgeDelay: Ny,
            duration: Uy,
            seekable: function(e, t, n) {
                var r = t || 0,
                    i = jy(e, t, !0, n);
                return null === i ? Ly() : Ly(r, i)
            },
            getMediaInfoForTime: function(e) {
                for (var t = e.playlist, n = e.currentTime, r = e.startingSegmentIndex, i = e.startingPartIndex, a = e.startTime, o = n - a, s = Dy(t), u = 0, l = 0; l < s.length; l++) {
                    var c = s[l];
                    if (r === c.segmentIndex && ("number" != typeof i || "number" != typeof c.partIndex || i === c.partIndex)) {
                        u = l;
                        break
                    }
                }
                if (o < 0) {
                    if (u > 0)
                        for (var d = u - 1; d >= 0; d--) {
                            var h = s[d];
                            if ((o += h.duration) + Ay > 0) return {
                                partIndex: h.partIndex,
                                segmentIndex: h.segmentIndex,
                                startTime: a - Fy({
                                    defaultDuration: t.targetDuration,
                                    durationList: s,
                                    startIndex: u,
                                    endIndex: d
                                })
                            }
                        }
                    return {
                        partIndex: s[0] && s[0].partIndex || null,
                        segmentIndex: s[0] && s[0].segmentIndex || 0,
                        startTime: n
                    }
                }
                if (u < 0) {
                    for (var p = u; p < 0; p++)
                        if ((o -= t.targetDuration) < 0) return {
                            partIndex: s[0] && s[0].partIndex || null,
                            segmentIndex: s[0] && s[0].segmentIndex || 0,
                            startTime: n
                        };
                    u = 0
                }
                for (var f = u; f < s.length; f++) {
                    var m = s[f];
                    if ((o -= m.duration) - Ay < 0) return {
                        partIndex: m.partIndex,
                        segmentIndex: m.segmentIndex,
                        startTime: a + Fy({
                            defaultDuration: t.targetDuration,
                            durationList: s,
                            startIndex: u,
                            endIndex: f
                        })
                    }
                }
                return {
                    segmentIndex: s[s.length - 1].segmentIndex,
                    partIndex: s[s.length - 1].partIndex,
                    startTime: n
                }
            },
            isEnabled: Vy,
            isDisabled: function(e) {
                return e.disabled
            },
            isBlacklisted: Hy,
            isIncompatible: Gy,
            playlistEnd: jy,
            isAes: function(e) {
                for (var t = 0; t < e.segments.length; t++)
                    if (e.segments[t].key) return !0;
                return !1
            },
            hasAttribute: Wy,
            estimateSegmentRequestTime: function(e, t, n, r) {
                return void 0 === r && (r = 0), Wy("BANDWIDTH", n) ? (e * n.attributes.BANDWIDTH - 8 * r) / t : NaN
            },
            isLowestEnabledRendition: qy,
            isAudioOnly: Ky,
            playlistMatch: zy
        },
        Qy = vy.log,
        $y = function(e, t) {
            return e + "-" + t
        },
        Jy = function(e, t) {
            e.mediaGroups && ["AUDIO", "SUBTITLES"].forEach((function(n) {
                if (e.mediaGroups[n])
                    for (var r in e.mediaGroups[n])
                        for (var i in e.mediaGroups[n][r]) {
                            var a = e.mediaGroups[n][r][i];
                            t(a, n, r, i)
                        }
            }))
        },
        Zy = function(e) {
            var t = e.playlist,
                n = e.uri,
                r = e.id;
            t.id = r, t.playlistErrors_ = 0, n && (t.uri = n), t.attributes = t.attributes || {}
        },
        ev = function(e, t) {
            e.uri = t;
            for (var n = 0; n < e.playlists.length; n++)
                if (!e.playlists[n].uri) {
                    var r = "placeholder-uri-" + n;
                    e.playlists[n].uri = r
                } Jy(e, (function(t, n, r, i) {
                    var a = "placeholder-uri-" + n + "-" + r + "-" + i;
                    t.playlists && t.playlists.length || (t.playlists = [ks({}, t)]), t.playlists.forEach((function(t, n) {
                        var r = $y(n, a);
                        t.uri ? t.resolvedUri = t.resolvedUri || _y(e.uri, t.uri) : (t.uri = 0 === n ? a : r, t.resolvedUri = t.uri), t.id = t.id || r, t.attributes = t.attributes || {}, e.playlists[t.id] = t, e.playlists[t.uri] = t
                    }))
                })),
                function(e) {
                    for (var t = e.playlists.length; t--;) {
                        var n = e.playlists[t];
                        Zy({
                            playlist: n,
                            id: $y(t, n.uri)
                        }), n.resolvedUri = _y(e.uri, n.uri), e.playlists[n.id] = n, e.playlists[n.uri] = n, n.attributes.BANDWIDTH || Qy.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")
                    }
                }(e),
                function(e) {
                    Jy(e, (function(t) {
                        t.uri && (t.resolvedUri = _y(e.uri, t.uri))
                    }))
                }(e)
        },
        tv = vy.mergeOptions,
        nv = vy.EventTarget,
        rv = function(e, t) {
            if (!e) return t;
            var n = tv(e, t);
            if (e.preloadHints && !t.preloadHints && delete n.preloadHints, e.parts && !t.parts) delete n.parts;
            else if (e.parts && t.parts)
                for (var r = 0; r < t.parts.length; r++) e.parts && e.parts[r] && (n.parts[r] = tv(e.parts[r], t.parts[r]));
            return !e.skipped && t.skipped && (n.skipped = !1), e.preload && !t.preload && (n.preload = !1), n
        },
        iv = function(e, t) {
            !e.resolvedUri && e.uri && (e.resolvedUri = _y(t, e.uri)), e.key && !e.key.resolvedUri && (e.key.resolvedUri = _y(t, e.key.uri)), e.map && !e.map.resolvedUri && (e.map.resolvedUri = _y(t, e.map.uri)), e.map && e.map.key && !e.map.key.resolvedUri && (e.map.key.resolvedUri = _y(t, e.map.key.uri)), e.parts && e.parts.length && e.parts.forEach((function(e) {
                e.resolvedUri || (e.resolvedUri = _y(t, e.uri))
            })), e.preloadHints && e.preloadHints.length && e.preloadHints.forEach((function(e) {
                e.resolvedUri || (e.resolvedUri = _y(t, e.uri))
            }))
        },
        av = function(e) {
            var t = e.segments || [],
                n = e.preloadSegment;
            if (n && n.parts && n.parts.length) {
                if (n.preloadHints)
                    for (var r = 0; r < n.preloadHints.length; r++)
                        if ("MAP" === n.preloadHints[r].type) return t;
                n.duration = e.targetDuration, n.preload = !0, t.push(n)
            }
            return t
        },
        ov = function(e, t) {
            return e === t || e.segments && t.segments && e.segments.length === t.segments.length && e.endList === t.endList && e.mediaSequence === t.mediaSequence
        },
        sv = function(e, t, n) {
            void 0 === n && (n = ov);
            var r = tv(e, {}),
                i = r.playlists[t.id];
            if (!i) return null;
            if (n(i, t)) return null;
            t.segments = av(t);
            var a = tv(i, t);
            if (a.preloadSegment && !t.preloadSegment && delete a.preloadSegment, i.segments) {
                if (t.skip) {
                    t.segments = t.segments || [];
                    for (var o = 0; o < t.skip.skippedSegments; o++) t.segments.unshift({
                        skipped: !0
                    })
                }
                a.segments = function(e, t, n) {
                    var r = e.slice(),
                        i = t.slice();
                    n = n || 0;
                    for (var a, o = [], s = 0; s < i.length; s++) {
                        var u = r[s + n],
                            l = i[s];
                        u ? (a = u.map || a, o.push(rv(u, l))) : (a && !l.map && (l.map = a), o.push(l))
                    }
                    return o
                }(i.segments, t.segments, t.mediaSequence - i.mediaSequence)
            }
            a.segments.forEach((function(e) {
                iv(e, a.resolvedUri)
            }));
            for (var s = 0; s < r.playlists.length; s++) r.playlists[s].id === t.id && (r.playlists[s] = a);
            return r.playlists[t.id] = a, r.playlists[t.uri] = a, Jy(e, (function(e, n, r, i) {
                if (e.playlists)
                    for (var a = 0; a < e.playlists.length; a++) t.id === e.playlists[a].id && (e.playlists[a] = t)
            })), r
        },
        uv = function(e, t) {
            var n = e.segments[e.segments.length - 1],
                r = n && n.parts && n.parts[n.parts.length - 1],
                i = r && r.duration || n && n.duration;
            return t && i ? 1e3 * i : 500 * (e.partTargetDuration || e.targetDuration || 10)
        },
        lv = function(e) {
            function t(t, n, r) {
                var i;
                if (void 0 === r && (r = {}), i = e.call(this) || this, !t) throw new Error("A non-empty playlist URL or object is required");
                i.logger_ = wy("PlaylistLoader");
                var a = r,
                    o = a.withCredentials,
                    s = void 0 !== o && o,
                    u = a.handleManifestRedirects,
                    l = void 0 !== u && u;
                i.src = t, i.vhs_ = n, i.withCredentials = s, i.handleManifestRedirects = l;
                var c = n.options_;
                return i.customTagParsers = c && c.customTagParsers || [], i.customTagMappers = c && c.customTagMappers || [], i.experimentalLLHLS = c && c.experimentalLLHLS || !1, i.state = "HAVE_NOTHING", i.handleMediaupdatetimeout_ = i.handleMediaupdatetimeout_.bind(xs(i)), i.on("mediaupdatetimeout", i.handleMediaupdatetimeout_), i
            }
            Ms(t, e);
            var n = t.prototype;
            return n.handleMediaupdatetimeout_ = function() {
                var e = this;
                if ("HAVE_METADATA" === this.state) {
                    var t = this.media(),
                        n = _y(this.master.uri, t.uri);
                    this.experimentalLLHLS && (n = function(e, t) {
                        if (t.endList) return e;
                        var n = [];
                        if (t.serverControl && t.serverControl.canBlockReload) {
                            var r = t.preloadSegment,
                                i = t.mediaSequence + t.segments.length;
                            if (r) {
                                var a = r.parts || [],
                                    o = Ry(t) - 1;
                                o > -1 && o !== a.length - 1 && n.push("_HLS_part=" + o), (o > -1 || a.length) && i--
                            }
                            n.unshift("_HLS_msn=" + i)
                        }
                        return t.serverControl && t.serverControl.canSkipUntil && n.unshift("_HLS_skip=" + (t.serverControl.canSkipDateranges ? "v2" : "YES")), n.forEach((function(t, n) {
                            e += (0 === n ? "?" : "&") + t
                        })), e
                    }(n, t)), this.state = "HAVE_CURRENT_METADATA", this.request = this.vhs_.xhr({
                        uri: n,
                        withCredentials: this.withCredentials
                    }, (function(t, n) {
                        if (e.request) return t ? e.playlistRequestError(e.request, e.media(), "HAVE_METADATA") : void e.haveMetadata({
                            playlistString: e.request.responseText,
                            url: e.media().uri,
                            id: e.media().id
                        })
                    }))
                }
            }, n.playlistRequestError = function(e, t, n) {
                var r = t.uri,
                    i = t.id;
                this.request = null, n && (this.state = n), this.error = {
                    playlist: this.master.playlists[i],
                    status: e.status,
                    message: "HLS playlist request error at URL: " + r + ".",
                    responseText: e.responseText,
                    code: e.status >= 500 ? 4 : 2
                }, this.trigger("error")
            }, n.parseManifest_ = function(e) {
                var t = this,
                    n = e.url;
                return function(e) {
                    var t = e.onwarn,
                        n = e.oninfo,
                        r = e.manifestString,
                        i = e.customTagParsers,
                        a = void 0 === i ? [] : i,
                        o = e.customTagMappers,
                        s = void 0 === o ? [] : o,
                        u = e.experimentalLLHLS,
                        l = new qu;
                    t && l.on("warn", t), n && l.on("info", n), a.forEach((function(e) {
                        return l.addParser(e)
                    })), s.forEach((function(e) {
                        return l.addTagMapper(e)
                    })), l.push(r), l.end();
                    var c = l.manifest;
                    if (u || (["preloadSegment", "skip", "serverControl", "renditionReports", "partInf", "partTargetDuration"].forEach((function(e) {
                            c.hasOwnProperty(e) && delete c[e]
                        })), c.segments && c.segments.forEach((function(e) {
                            ["parts", "preloadHints"].forEach((function(t) {
                                e.hasOwnProperty(t) && delete e[t]
                            }))
                        }))), !c.targetDuration) {
                        var d = 10;
                        c.segments && c.segments.length && (d = c.segments.reduce((function(e, t) {
                            return Math.max(e, t.duration)
                        }), 0)), t && t("manifest has no targetDuration defaulting to " + d), c.targetDuration = d
                    }
                    var h = Oy(c);
                    if (h.length && !c.partTargetDuration) {
                        var p = h.reduce((function(e, t) {
                            return Math.max(e, t.duration)
                        }), 0);
                        t && (t("manifest has no partTargetDuration defaulting to " + p), Qy.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")), c.partTargetDuration = p
                    }
                    return c
                }({
                    onwarn: function(e) {
                        var r = e.message;
                        return t.logger_("m3u8-parser warn for " + n + ": " + r)
                    },
                    oninfo: function(e) {
                        var r = e.message;
                        return t.logger_("m3u8-parser info for " + n + ": " + r)
                    },
                    manifestString: e.manifestString,
                    customTagParsers: this.customTagParsers,
                    customTagMappers: this.customTagMappers,
                    experimentalLLHLS: this.experimentalLLHLS
                })
            }, n.haveMetadata = function(e) {
                var t = this,
                    n = e.playlistString,
                    r = e.playlistObject,
                    i = e.url,
                    a = e.id;
                this.request = null, this.state = "HAVE_METADATA";
                var o = r || this.parseManifest_({
                    url: i,
                    manifestString: n
                });
                o.lastRequest = Date.now(), Zy({
                    playlist: o,
                    uri: i,
                    id: a
                });
                var s = sv(this.master, o);
                this.targetDuration = o.partTargetDuration || o.targetDuration, s ? (this.master = s, this.media_ = this.master.playlists[a]) : this.trigger("playlistunchanged"), this.media().endList || (m.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = m.setTimeout((function() {
                    t.trigger("mediaupdatetimeout")
                }), uv(this.media(), !!s))), this.trigger("loadedplaylist")
            }, n.dispose = function() {
                this.trigger("dispose"), this.stopRequest(), m.clearTimeout(this.mediaUpdateTimeout), m.clearTimeout(this.finalRenditionTimeout), this.off()
            }, n.stopRequest = function() {
                if (this.request) {
                    var e = this.request;
                    this.request = null, e.onreadystatechange = null, e.abort()
                }
            }, n.media = function(e, t) {
                var n = this;
                if (!e) return this.media_;
                if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                if ("string" == typeof e) {
                    if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                    e = this.master.playlists[e]
                }
                if (m.clearTimeout(this.finalRenditionTimeout), t) {
                    var r = (e.partTargetDuration || e.targetDuration) / 2 * 1e3 || 5e3;
                    this.finalRenditionTimeout = m.setTimeout(this.media.bind(this, e, !1), r)
                } else {
                    var i = this.state,
                        a = !this.media_ || e.id !== this.media_.id,
                        o = this.master.playlists[e.id];
                    if (o && o.endList || e.endList && e.segments.length) return this.request && (this.request.onreadystatechange = null, this.request.abort(), this.request = null), this.state = "HAVE_METADATA", this.media_ = e, void(a && (this.trigger("mediachanging"), "HAVE_MASTER" === i ? this.trigger("loadedmetadata") : this.trigger("mediachange")));
                    if (a) {
                        if (this.state = "SWITCHING_MEDIA", this.request) {
                            if (e.resolvedUri === this.request.url) return;
                            this.request.onreadystatechange = null, this.request.abort(), this.request = null
                        }
                        this.media_ && this.trigger("mediachanging"), this.request = this.vhs_.xhr({
                            uri: e.resolvedUri,
                            withCredentials: this.withCredentials
                        }, (function(t, r) {
                            if (n.request) {
                                if (e.lastRequest = Date.now(), e.resolvedUri = Sy(n.handleManifestRedirects, e.resolvedUri, r), t) return n.playlistRequestError(n.request, e, i);
                                n.haveMetadata({
                                    playlistString: r.responseText,
                                    url: e.uri,
                                    id: e.id
                                }), "HAVE_MASTER" === i ? n.trigger("loadedmetadata") : n.trigger("mediachange")
                            }
                        }))
                    }
                }
            }, n.pause = function() {
                this.stopRequest(), m.clearTimeout(this.mediaUpdateTimeout), "HAVE_NOTHING" === this.state && (this.started = !1), "SWITCHING_MEDIA" === this.state ? this.media_ ? this.state = "HAVE_METADATA" : this.state = "HAVE_MASTER" : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA")
            }, n.load = function(e) {
                var t = this;
                m.clearTimeout(this.mediaUpdateTimeout);
                var n = this.media();
                if (e) {
                    var r = n ? (n.partTargetDuration || n.targetDuration) / 2 * 1e3 : 5e3;
                    this.mediaUpdateTimeout = m.setTimeout((function() {
                        return t.load()
                    }), r)
                } else this.started ? n && !n.endList ? this.trigger("mediaupdatetimeout") : this.trigger("loadedplaylist") : this.start()
            }, n.start = function() {
                var e = this;
                if (this.started = !0, "object" == typeof this.src) return this.src.uri || (this.src.uri = m.location.href), this.src.resolvedUri = this.src.uri, void setTimeout((function() {
                    e.setupInitialPlaylist(e.src)
                }), 0);
                this.request = this.vhs_.xhr({
                    uri: this.src,
                    withCredentials: this.withCredentials
                }, (function(t, n) {
                    if (e.request) {
                        if (e.request = null, t) return e.error = {
                            status: n.status,
                            message: "HLS playlist request error at URL: " + e.src + ".",
                            responseText: n.responseText,
                            code: 2
                        }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                        e.src = Sy(e.handleManifestRedirects, e.src, n);
                        var r = e.parseManifest_({
                            manifestString: n.responseText,
                            url: e.src
                        });
                        e.setupInitialPlaylist(r)
                    }
                }))
            }, n.srcUri = function() {
                return "string" == typeof this.src ? this.src : this.src.uri
            }, n.setupInitialPlaylist = function(e) {
                if (this.state = "HAVE_MASTER", e.playlists) return this.master = e, ev(this.master, this.srcUri()), e.playlists.forEach((function(e) {
                    e.segments = av(e), e.segments.forEach((function(t) {
                        iv(t, e.resolvedUri)
                    }))
                })), this.trigger("loadedplaylist"), void(this.request || this.media(this.master.playlists[0]));
                var t = this.srcUri() || m.location.href;
                this.master = function(e, t) {
                    var n = $y(0, t),
                        r = {
                            mediaGroups: {
                                AUDIO: {},
                                VIDEO: {},
                                "CLOSED-CAPTIONS": {},
                                SUBTITLES: {}
                            },
                            uri: m.location.href,
                            resolvedUri: m.location.href,
                            playlists: [{
                                uri: t,
                                id: n,
                                resolvedUri: t,
                                attributes: {}
                            }]
                        };
                    return r.playlists[n] = r.playlists[0], r.playlists[t] = r.playlists[0], r
                }(0, t), this.haveMetadata({
                    playlistObject: e,
                    url: t,
                    id: this.master.playlists[0].id
                }), this.trigger("loadedmetadata")
            }, t
        }(nv),
        cv = vy.xhr,
        dv = vy.mergeOptions,
        hv = function(e, t, n, r) {
            var i = "arraybuffer" === e.responseType ? e.response : e.responseText;
            !t && i && (e.responseTime = Date.now(), e.roundTripTime = e.responseTime - e.requestTime, e.bytesReceived = i.byteLength || i.length, e.bandwidth || (e.bandwidth = Math.floor(e.bytesReceived / e.roundTripTime * 8 * 1e3))), n.headers && (e.responseHeaders = n.headers), t && "ETIMEDOUT" === t.code && (e.timedout = !0), t || e.aborted || 200 === n.statusCode || 206 === n.statusCode || 0 === n.statusCode || (t = new Error("XHR Failed with a response of: " + (e && (i || e.responseText)))), r(t, e)
        },
        pv = function() {
            var e = function e(t, n) {
                t = dv({
                    timeout: 45e3
                }, t);
                var r = e.beforeRequest || vy.Vhs.xhr.beforeRequest;
                if (r && "function" == typeof r) {
                    var i = r(t);
                    i && (t = i)
                }
                var a = (!0 === vy.Vhs.xhr.original ? cv : vy.Vhs.xhr)(t, (function(e, t) {
                        return hv(a, e, t, n)
                    })),
                    o = a.abort;
                return a.abort = function() {
                    return a.aborted = !0, o.apply(a, arguments)
                }, a.uri = t.uri, a.requestTime = Date.now(), a
            };
            return e.original = !0, e
        },
        fv = function(e) {
            var t, n, r = {};
            return e.byterange && (r.Range = (t = e.byterange, n = t.offset + t.length - 1, "bytes=" + t.offset + "-" + n)), r
        },
        mv = function(e, t) {
            return e.start(t) + "-" + e.end(t)
        },
        gv = function(e, t) {
            var n = e.toString(16);
            return "00".substring(0, 2 - n.length) + n + (t % 2 ? " " : "")
        },
        yv = function(e) {
            return e >= 32 && e < 126 ? String.fromCharCode(e) : "."
        },
        vv = function(e) {
            var t = {};
            return Object.keys(e).forEach((function(n) {
                var r = e[n];
                ArrayBuffer.isView(r) ? t[n] = {
                    bytes: r.buffer,
                    byteOffset: r.byteOffset,
                    byteLength: r.byteLength
                } : t[n] = r
            })), t
        },
        bv = function(e) {
            var t = e.byterange || {
                length: 1 / 0,
                offset: 0
            };
            return [t.length, t.offset, e.resolvedUri].join(",")
        },
        Tv = function(e) {
            return e.resolvedUri
        },
        _v = function(e) {
            for (var t = Array.prototype.slice.call(e), n = 16, r = "", i = 0; i < t.length / n; i++) r += t.slice(i * n, i * n + n).map(gv).join("") + " " + t.slice(i * n, i * n + n).map(yv).join("") + "\n";
            return r
        },
        Sv = Object.freeze({
            __proto__: null,
            createTransferableMessage: vv,
            initSegmentId: bv,
            segmentKeyId: Tv,
            hexDump: _v,
            tagDump: function(e) {
                var t = e.bytes;
                return _v(t)
            },
            textRanges: function(e) {
                var t, n = "";
                for (t = 0; t < e.length; t++) n += mv(e, t) + " ";
                return n
            }
        }),
        wv = function(e) {
            var t = e.playlist,
                n = e.time,
                r = void 0 === n ? void 0 : n,
                i = e.callback;
            if (!i) throw new Error("getProgramTime: callback must be provided");
            if (!t || void 0 === r) return i({
                message: "getProgramTime: playlist and time must be provided"
            });
            var a = function(e, t) {
                if (!t || !t.segments || 0 === t.segments.length) return null;
                for (var n, r = 0, i = 0; i < t.segments.length && !(e <= (r = (n = t.segments[i]).videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationEnd : r + n.duration)); i++);
                var a = t.segments[t.segments.length - 1];
                if (a.videoTimingInfo && a.videoTimingInfo.transmuxedPresentationEnd < e) return null;
                if (e > r) {
                    if (e > r + .25 * a.duration) return null;
                    n = a
                }
                return {
                    segment: n,
                    estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : r - n.duration,
                    type: n.videoTimingInfo ? "accurate" : "estimate"
                }
            }(r, t);
            if (!a) return i({
                message: "valid programTime was not found"
            });
            if ("estimate" === a.type) return i({
                message: "Accurate programTime could not be determined. Please seek to e.seekTime and try again",
                seekTime: a.estimatedStart
            });
            var o = {
                    mediaSeconds: r
                },
                s = function(e, t) {
                    if (!t.dateTimeObject) return null;
                    var n = t.videoTimingInfo.transmuxerPrependedSeconds,
                        r = e - (t.videoTimingInfo.transmuxedPresentationStart + n);
                    return new Date(t.dateTimeObject.getTime() + 1e3 * r)
                }(r, a.segment);
            return s && (o.programDateTime = s.toISOString()), i(null, o)
        },
        Av = function e(t) {
            var n = t.programTime,
                r = t.playlist,
                i = t.retryCount,
                a = void 0 === i ? 2 : i,
                o = t.seekTo,
                s = t.pauseAfterSeek,
                u = void 0 === s || s,
                l = t.tech,
                c = t.callback;
            if (!c) throw new Error("seekToProgramTime: callback must be provided");
            if (void 0 === n || !r || !o) return c({
                message: "seekToProgramTime: programTime, seekTo and playlist must be provided"
            });
            if (!r.endList && !l.hasStarted_) return c({
                message: "player must be playing a live stream to start buffering"
            });
            if (! function(e) {
                    if (!e.segments || 0 === e.segments.length) return !1;
                    for (var t = 0; t < e.segments.length; t++)
                        if (!e.segments[t].dateTimeObject) return !1;
                    return !0
                }(r)) return c({
                message: "programDateTime tags must be provided in the manifest " + r.resolvedUri
            });
            var d = function(e, t) {
                var n;
                try {
                    n = new Date(e)
                } catch (e) {
                    return null
                }
                if (!t || !t.segments || 0 === t.segments.length) return null;
                var r = t.segments[0];
                if (n < r.dateTimeObject) return null;
                for (var i = 0; i < t.segments.length - 1 && (r = t.segments[i], !(n < t.segments[i + 1].dateTimeObject)); i++);
                var a, o = t.segments[t.segments.length - 1],
                    s = o.dateTimeObject,
                    u = o.videoTimingInfo ? (a = o.videoTimingInfo).transmuxedPresentationEnd - a.transmuxedPresentationStart - a.transmuxerPrependedSeconds : o.duration + .25 * o.duration;
                return n > new Date(s.getTime() + 1e3 * u) ? null : (n > s && (r = o), {
                    segment: r,
                    estimatedStart: r.videoTimingInfo ? r.videoTimingInfo.transmuxedPresentationStart : Yy.duration(t, t.mediaSequence + t.segments.indexOf(r)),
                    type: r.videoTimingInfo ? "accurate" : "estimate"
                })
            }(n, r);
            if (!d) return c({
                message: n + " was not found in the stream"
            });
            var h = d.segment,
                p = function(e, t) {
                    var n, r;
                    try {
                        n = new Date(e), r = new Date(t)
                    } catch (e) {}
                    var i = n.getTime();
                    return (r.getTime() - i) / 1e3
                }(h.dateTimeObject, n);
            if ("estimate" === d.type) return 0 === a ? c({
                message: n + " is not buffered yet. Try again"
            }) : (o(d.estimatedStart + p), void l.one("seeked", (function() {
                e({
                    programTime: n,
                    playlist: r,
                    retryCount: a - 1,
                    seekTo: o,
                    pauseAfterSeek: u,
                    tech: l,
                    callback: c
                })
            })));
            var f = h.start + p;
            l.one("seeked", (function() {
                return c(null, l.currentTime())
            })), u && l.pause(), o(f)
        },
        Ev = function(e, t) {
            if (4 === e.readyState) return t()
        },
        Cv = function(e, t, n) {
            var r, i = [],
                a = !1,
                o = function(e, t, r, i) {
                    return t.abort(), a = !0, n(e, t, r, i)
                },
                s = function(e, t) {
                    if (!a) {
                        if (e) return o(e, t, "", i);
                        var n = t.responseText.substring(i && i.byteLength || 0, t.responseText.length);
                        if (i = function() {
                                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                                if ((t = t.filter((function(e) {
                                        return e && (e.byteLength || e.length) && "string" != typeof e
                                    }))).length <= 1) return xd(t[0]);
                                var r = t.reduce((function(e, t, n) {
                                        return e + (t.byteLength || t.length)
                                    }), 0),
                                    i = new Uint8Array(r),
                                    a = 0;
                                return t.forEach((function(e) {
                                    e = xd(e), i.set(e, a), a += e.byteLength
                                })), i
                            }(i, Od(n, !0)), r = r || Bd(i), i.length < 10 || r && i.length < r + 2) return Ev(t, (function() {
                            return o(e, t, "", i)
                        }));
                        var s = ah(i);
                        return "ts" === s && i.length < 188 || !s && i.length < 376 ? Ev(t, (function() {
                            return o(e, t, "", i)
                        })) : o(null, t, s, i)
                    }
                },
                u = t({
                    uri: e,
                    beforeSend: function(e) {
                        e.overrideMimeType("text/plain; charset=x-user-defined"), e.addEventListener("progress", (function(t) {
                            return t.total, t.loaded, hv(e, null, {
                                statusCode: e.status
                            }, s)
                        }))
                    }
                }, (function(e, t) {
                    return hv(u, e, t, s)
                }));
            return u
        },
        Pv = vy.EventTarget,
        kv = vy.mergeOptions,
        xv = function(e, t) {
            if (!ov(e, t)) return !1;
            if (e.sidx && t.sidx && (e.sidx.offset !== t.sidx.offset || e.sidx.length !== t.sidx.length)) return !1;
            if (!e.sidx && t.sidx || e.sidx && !t.sidx) return !1;
            if (e.segments && !t.segments || !e.segments && t.segments) return !1;
            if (!e.segments && !t.segments) return !0;
            for (var n = 0; n < e.segments.length; n++) {
                var r = e.segments[n],
                    i = t.segments[n];
                if (r.uri !== i.uri) return !1;
                if (r.byterange || i.byterange) {
                    var a = r.byterange,
                        o = i.byterange;
                    if (a && !o || !a && o) return !1;
                    if (a.offset !== o.offset || a.length !== o.length) return !1
                }
            }
            return !0
        },
        Iv = function(e, t) {
            return (Boolean(!e.map && !t.map) || Boolean(e.map && t.map && e.map.byterange.offset === t.map.byterange.offset && e.map.byterange.length === t.map.byterange.length)) && e.uri === t.uri && e.byterange.offset === t.byterange.offset && e.byterange.length === t.byterange.length
        },
        Mv = function(e, t) {
            var n = {};
            for (var r in e) {
                var i = e[r].sidx;
                if (i) {
                    var a = Jc(i);
                    if (!t[a]) break;
                    var o = t[a].sidxInfo;
                    Iv(o, i) && (n[a] = t[a])
                }
            }
            return n
        },
        Lv = function(e) {
            function t(t, n, r, i) {
                var a;
                void 0 === r && (r = {}), (a = e.call(this) || this).masterPlaylistLoader_ = i || xs(a), i || (a.isMaster_ = !0);
                var o = r,
                    s = o.withCredentials,
                    u = void 0 !== s && s,
                    l = o.handleManifestRedirects,
                    c = void 0 !== l && l;
                if (a.vhs_ = n, a.withCredentials = u, a.handleManifestRedirects = c, !t) throw new Error("A non-empty playlist URL or object is required");
                return a.on("minimumUpdatePeriod", (function() {
                    a.refreshXml_()
                })), a.on("mediaupdatetimeout", (function() {
                    a.refreshMedia_(a.media().id)
                })), a.state = "HAVE_NOTHING", a.loadedPlaylists_ = {}, a.logger_ = wy("DashPlaylistLoader"), a.isMaster_ ? (a.masterPlaylistLoader_.srcUrl = t, a.masterPlaylistLoader_.sidxMapping_ = {}) : a.childPlaylist_ = t, a
            }
            Ms(t, e);
            var n = t.prototype;
            return n.requestErrored_ = function(e, t, n) {
                return !this.request || (this.request = null, e ? (this.error = "object" != typeof e || e instanceof Error ? {
                    status: t.status,
                    message: "DASH request error at URL: " + t.uri,
                    response: t.response,
                    code: 2
                } : e, n && (this.state = n), this.trigger("error"), !0) : void 0)
            }, n.addSidxSegments_ = function(e, t, n) {
                var r = this,
                    i = e.sidx && Jc(e.sidx);
                if (e.sidx && i && !this.masterPlaylistLoader_.sidxMapping_[i]) {
                    var a = Sy(this.handleManifestRedirects, e.sidx.resolvedUri),
                        o = function(a, o) {
                            if (!r.requestErrored_(a, o, t)) {
                                var s, u = r.masterPlaylistLoader_.sidxMapping_;
                                try {
                                    s = kd(xd(o.response).subarray(8))
                                } catch (e) {
                                    return void r.requestErrored_(e, o, t)
                                }
                                return u[i] = {
                                    sidxInfo: e.sidx,
                                    sidx: s
                                }, $c(e, s, e.sidx.resolvedUri), n(!0)
                            }
                        };
                    this.request = Cv(a, this.vhs_.xhr, (function(t, n, i, s) {
                        if (t) return o(t, n);
                        if (!i || "mp4" !== i) return o({
                            status: n.status,
                            message: "Unsupported " + (i || "unknown") + " container type for sidx segment at URL: " + a,
                            response: "",
                            playlist: e,
                            internal: !0,
                            blacklistDuration: 1 / 0,
                            code: 2
                        }, n);
                        var u = e.sidx.byterange,
                            l = u.offset,
                            c = u.length;
                        if (s.length >= c + l) return o(t, {
                            response: s.subarray(l, l + c),
                            status: n.status,
                            uri: n.uri
                        });
                        r.request = r.vhs_.xhr({
                            uri: a,
                            responseType: "arraybuffer",
                            headers: fv({
                                byterange: e.sidx.byterange
                            })
                        }, o)
                    }))
                } else this.mediaRequest_ = m.setTimeout((function() {
                    return n(!1)
                }), 0)
            }, n.dispose = function() {
                this.trigger("dispose"), this.stopRequest(), this.loadedPlaylists_ = {}, m.clearTimeout(this.minimumUpdatePeriodTimeout_), m.clearTimeout(this.mediaRequest_), m.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = null, this.mediaRequest_ = null, this.minimumUpdatePeriodTimeout_ = null, this.masterPlaylistLoader_.createMupOnMedia_ && (this.off("loadedmetadata", this.masterPlaylistLoader_.createMupOnMedia_), this.masterPlaylistLoader_.createMupOnMedia_ = null), this.off()
            }, n.hasPendingRequest = function() {
                return this.request || this.mediaRequest_
            }, n.stopRequest = function() {
                if (this.request) {
                    var e = this.request;
                    this.request = null, e.onreadystatechange = null, e.abort()
                }
            }, n.media = function(e) {
                var t = this;
                if (!e) return this.media_;
                if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                var n = this.state;
                if ("string" == typeof e) {
                    if (!this.masterPlaylistLoader_.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                    e = this.masterPlaylistLoader_.master.playlists[e]
                }
                var r = !this.media_ || e.id !== this.media_.id;
                if (r && this.loadedPlaylists_[e.id] && this.loadedPlaylists_[e.id].endList) return this.state = "HAVE_METADATA", this.media_ = e, void(r && (this.trigger("mediachanging"), this.trigger("mediachange")));
                r && (this.media_ && this.trigger("mediachanging"), this.addSidxSegments_(e, n, (function(r) {
                    t.haveMetadata({
                        startingState: n,
                        playlist: e
                    })
                })))
            }, n.haveMetadata = function(e) {
                var t = e.startingState,
                    n = e.playlist;
                this.state = "HAVE_METADATA", this.loadedPlaylists_[n.id] = n, this.mediaRequest_ = null, this.refreshMedia_(n.id), "HAVE_MASTER" === t ? this.trigger("loadedmetadata") : this.trigger("mediachange")
            }, n.pause = function() {
                this.masterPlaylistLoader_.createMupOnMedia_ && (this.off("loadedmetadata", this.masterPlaylistLoader_.createMupOnMedia_), this.masterPlaylistLoader_.createMupOnMedia_ = null), this.stopRequest(), m.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = null, this.isMaster_ && (m.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_), this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_ = null), "HAVE_NOTHING" === this.state && (this.started = !1)
            }, n.load = function(e) {
                var t = this;
                m.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = null;
                var n = this.media();
                if (e) {
                    var r = n ? n.targetDuration / 2 * 1e3 : 5e3;
                    this.mediaUpdateTimeout = m.setTimeout((function() {
                        return t.load()
                    }), r)
                } else this.started ? n && !n.endList ? (this.isMaster_ && !this.minimumUpdatePeriodTimeout_ && (this.trigger("minimumUpdatePeriod"), this.updateMinimumUpdatePeriodTimeout_()), this.trigger("mediaupdatetimeout")) : this.trigger("loadedplaylist") : this.start()
            }, n.start = function() {
                var e = this;
                this.started = !0, this.isMaster_ ? this.requestMaster_((function(t, n) {
                    e.haveMaster_(), e.hasPendingRequest() || e.media_ || e.media(e.masterPlaylistLoader_.master.playlists[0])
                })) : this.mediaRequest_ = m.setTimeout((function() {
                    return e.haveMaster_()
                }), 0)
            }, n.requestMaster_ = function(e) {
                var t = this;
                this.request = this.vhs_.xhr({
                    uri: this.masterPlaylistLoader_.srcUrl,
                    withCredentials: this.withCredentials
                }, (function(n, r) {
                    if (!t.requestErrored_(n, r)) {
                        var i = r.responseText !== t.masterPlaylistLoader_.masterXml_;
                        return t.masterPlaylistLoader_.masterXml_ = r.responseText, r.responseHeaders && r.responseHeaders.date ? t.masterLoaded_ = Date.parse(r.responseHeaders.date) : t.masterLoaded_ = Date.now(), t.masterPlaylistLoader_.srcUrl = Sy(t.handleManifestRedirects, t.masterPlaylistLoader_.srcUrl, r), i ? (t.handleMaster_(), void t.syncClientServerClock_((function() {
                            return e(r, i)
                        }))) : e(r, i)
                    }
                    "HAVE_NOTHING" === t.state && (t.started = !1)
                }))
            }, n.syncClientServerClock_ = function(e) {
                var t = this,
                    n = Cd(this.masterPlaylistLoader_.masterXml_);
                return null === n ? (this.masterPlaylistLoader_.clientOffset_ = this.masterLoaded_ - Date.now(), e()) : "DIRECT" === n.method ? (this.masterPlaylistLoader_.clientOffset_ = n.value - Date.now(), e()) : void(this.request = this.vhs_.xhr({
                    uri: _y(this.masterPlaylistLoader_.srcUrl, n.value),
                    method: n.method,
                    withCredentials: this.withCredentials
                }, (function(r, i) {
                    if (t.request) {
                        if (r) return t.masterPlaylistLoader_.clientOffset_ = t.masterLoaded_ - Date.now(), e();
                        var a;
                        a = "HEAD" === n.method ? i.responseHeaders && i.responseHeaders.date ? Date.parse(i.responseHeaders.date) : t.masterLoaded_ : Date.parse(i.responseText), t.masterPlaylistLoader_.clientOffset_ = a - Date.now(), e()
                    }
                })))
            }, n.haveMaster_ = function() {
                this.state = "HAVE_MASTER", this.isMaster_ ? this.trigger("loadedplaylist") : this.media_ || this.media(this.childPlaylist_)
            }, n.handleMaster_ = function() {
                this.mediaRequest_ = null;
                var e, t, n, r, i, a, o = (e = {
                        masterXml: this.masterPlaylistLoader_.masterXml_,
                        srcUrl: this.masterPlaylistLoader_.srcUrl,
                        clientOffset: this.masterPlaylistLoader_.clientOffset_,
                        sidxMapping: this.masterPlaylistLoader_.sidxMapping_
                    }, t = e.masterXml, n = e.srcUrl, r = e.clientOffset, i = e.sidxMapping, a = Ed(t, {
                        manifestUri: n,
                        clientOffset: r,
                        sidxMapping: i
                    }), ev(a, n), a),
                    s = this.masterPlaylistLoader_.master;
                s && (o = function(e, t, n) {
                    for (var r = !0, i = kv(e, {
                            duration: t.duration,
                            minimumUpdatePeriod: t.minimumUpdatePeriod
                        }), a = 0; a < t.playlists.length; a++) {
                        var o = t.playlists[a];
                        if (o.sidx) {
                            var s = Jc(o.sidx);
                            n && n[s] && n[s].sidx && $c(o, n[s].sidx, o.sidx.resolvedUri)
                        }
                        var u = sv(i, o, xv);
                        u && (i = u, r = !1)
                    }
                    return Jy(t, (function(e, t, n, a) {
                        if (e.playlists && e.playlists.length) {
                            var o = e.playlists[0].id,
                                s = sv(i, e.playlists[0], xv);
                            s && ((i = s).mediaGroups[t][n][a].playlists[0] = i.playlists[o], r = !1)
                        }
                    })), t.minimumUpdatePeriod !== e.minimumUpdatePeriod && (r = !1), r ? null : i
                }(s, o, this.masterPlaylistLoader_.sidxMapping_)), this.masterPlaylistLoader_.master = o || s;
                var u = this.masterPlaylistLoader_.master.locations && this.masterPlaylistLoader_.master.locations[0];
                return u && u !== this.masterPlaylistLoader_.srcUrl && (this.masterPlaylistLoader_.srcUrl = u), (!s || o && o.minimumUpdatePeriod !== s.minimumUpdatePeriod) && this.updateMinimumUpdatePeriodTimeout_(), Boolean(o)
            }, n.updateMinimumUpdatePeriodTimeout_ = function() {
                var e = this.masterPlaylistLoader_;
                e.createMupOnMedia_ && (e.off("loadedmetadata", e.createMupOnMedia_), e.createMupOnMedia_ = null), e.minimumUpdatePeriodTimeout_ && (m.clearTimeout(e.minimumUpdatePeriodTimeout_), e.minimumUpdatePeriodTimeout_ = null);
                var t = e.master && e.master.minimumUpdatePeriod;
                0 === t && (e.media() ? t = 1e3 * e.media().targetDuration : (e.createMupOnMedia_ = e.updateMinimumUpdatePeriodTimeout_, e.one("loadedmetadata", e.createMupOnMedia_))), "number" != typeof t || t <= 0 ? t < 0 && this.logger_("found invalid minimumUpdatePeriod of " + t + ", not setting a timeout") : this.createMUPTimeout_(t)
            }, n.createMUPTimeout_ = function(e) {
                var t = this.masterPlaylistLoader_;
                t.minimumUpdatePeriodTimeout_ = m.setTimeout((function() {
                    t.minimumUpdatePeriodTimeout_ = null, t.trigger("minimumUpdatePeriod"), t.createMUPTimeout_(e)
                }), e)
            }, n.refreshXml_ = function() {
                var e = this;
                this.requestMaster_((function(t, n) {
                    var r, i, a;
                    n && (e.media_ && (e.media_ = e.masterPlaylistLoader_.master.playlists[e.media_.id]), e.masterPlaylistLoader_.sidxMapping_ = (r = e.masterPlaylistLoader_.master, i = e.masterPlaylistLoader_.sidxMapping_, a = Mv(r.playlists, i), Jy(r, (function(e, t, n, r) {
                        if (e.playlists && e.playlists.length) {
                            var o = e.playlists;
                            a = kv(a, Mv(o, i))
                        }
                    })), a), e.addSidxSegments_(e.media(), e.state, (function(t) {
                        e.refreshMedia_(e.media().id)
                    })))
                }))
            }, n.refreshMedia_ = function(e) {
                var t = this;
                if (!e) throw new Error("refreshMedia_ must take a media id");
                this.media_ && this.isMaster_ && this.handleMaster_();
                var n = this.masterPlaylistLoader_.master.playlists,
                    r = !this.media_ || this.media_ !== n[e];
                if (r ? this.media_ = n[e] : this.trigger("playlistunchanged"), !this.mediaUpdateTimeout) {
                    ! function e() {
                        t.media().endList || (t.mediaUpdateTimeout = m.setTimeout((function() {
                            t.trigger("mediaupdatetimeout"), e()
                        }), uv(t.media(), Boolean(r))))
                    }()
                }
                this.trigger("loadedplaylist")
            }, t
        }(Pv),
        Dv = {
            GOAL_BUFFER_LENGTH: 30,
            MAX_GOAL_BUFFER_LENGTH: 60,
            BACK_BUFFER_LENGTH: 30,
            GOAL_BUFFER_LENGTH_RATE: 1,
            INITIAL_BANDWIDTH: 4194304,
            BANDWIDTH_VARIANCE: 1.2,
            BUFFER_LOW_WATER_LINE: 0,
            MAX_BUFFER_LOW_WATER_LINE: 30,
            EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE: 16,
            BUFFER_LOW_WATER_LINE_RATE: 1,
            BUFFER_HIGH_WATER_LINE: 30
        },
        Ov = function(e) {
            return e.on = e.addEventListener, e.off = e.removeEventListener, e
        },
        Rv = function(e) {
            return function() {
                var t = function(e) {
                        try {
                            return URL.createObjectURL(new Blob([e], {
                                type: "application/javascript"
                            }))
                        } catch (n) {
                            var t = new BlobBuilder;
                            return t.append(e), URL.createObjectURL(t.getBlob())
                        }
                    }(e),
                    n = Ov(new Worker(t));
                n.objURL = t;
                var r = n.terminate;
                return n.on = n.addEventListener, n.off = n.removeEventListener, n.terminate = function() {
                    return URL.revokeObjectURL(t), r.call(this)
                }, n
            }
        },
        Nv = function(e) {
            return "var browserWorkerPolyFill = " + Ov.toString() + ";\nbrowserWorkerPolyFill(self);\n" + e
        },
        Bv = function(e) {
            return e.toString().replace(/^function.+?{/, "").slice(0, -1)
        },
        Uv = Rv(Nv(Bv((function() {
            var e = function() {
                this.init = function() {
                    var e = {};
                    this.on = function(t, n) {
                        e[t] || (e[t] = []), e[t] = e[t].concat(n)
                    }, this.off = function(t, n) {
                        var r;
                        return !!e[t] && (r = e[t].indexOf(n), e[t] = e[t].slice(), e[t].splice(r, 1), r > -1)
                    }, this.trigger = function(t) {
                        var n, r, i, a;
                        if (n = e[t])
                            if (2 === arguments.length)
                                for (i = n.length, r = 0; r < i; ++r) n[r].call(this, arguments[1]);
                            else {
                                for (a = [], r = arguments.length, r = 1; r < arguments.length; ++r) a.push(arguments[r]);
                                for (i = n.length, r = 0; r < i; ++r) n[r].apply(this, a)
                            }
                    }, this.dispose = function() {
                        e = {}
                    }
                }
            };
            e.prototype.pipe = function(e) {
                return this.on("data", (function(t) {
                    e.push(t)
                })), this.on("done", (function(t) {
                    e.flush(t)
                })), this.on("partialdone", (function(t) {
                    e.partialFlush(t)
                })), this.on("endedtimeline", (function(t) {
                    e.endTimeline(t)
                })), this.on("reset", (function(t) {
                    e.reset(t)
                })), e
            }, e.prototype.push = function(e) {
                this.trigger("data", e)
            }, e.prototype.flush = function(e) {
                this.trigger("done", e)
            }, e.prototype.partialFlush = function(e) {
                this.trigger("partialdone", e)
            }, e.prototype.endTimeline = function(e) {
                this.trigger("endedtimeline", e)
            }, e.prototype.reset = function(e) {
                this.trigger("reset", e)
            };
            var t, n, r, i, a, o, s, u, l, c, d, h, p, f, m, g, y, v, b, T, _, S, w, A, E, C, P, k, x, I, M, L, D, O, R, N, B, U, F, j, H = e,
                G = Math.pow(2, 32) - 1;
            ! function() {
                var e;
                if (S = {
                        avc1: [],
                        avcC: [],
                        btrt: [],
                        dinf: [],
                        dref: [],
                        esds: [],
                        ftyp: [],
                        hdlr: [],
                        mdat: [],
                        mdhd: [],
                        mdia: [],
                        mfhd: [],
                        minf: [],
                        moof: [],
                        moov: [],
                        mp4a: [],
                        mvex: [],
                        mvhd: [],
                        pasp: [],
                        sdtp: [],
                        smhd: [],
                        stbl: [],
                        stco: [],
                        stsc: [],
                        stsd: [],
                        stsz: [],
                        stts: [],
                        styp: [],
                        tfdt: [],
                        tfhd: [],
                        traf: [],
                        trak: [],
                        trun: [],
                        trex: [],
                        tkhd: [],
                        vmhd: []
                    }, "undefined" != typeof Uint8Array) {
                    for (e in S) S.hasOwnProperty(e) && (S[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                    w = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), E = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), A = new Uint8Array([0, 0, 0, 1]), C = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), k = {
                        video: C,
                        audio: P
                    }, M = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), I = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), D = L, O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), R = L, x = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                }
            }(), t = function(e) {
                var t, n, r = [],
                    i = 0;
                for (t = 1; t < arguments.length; t++) r.push(arguments[t]);
                for (t = r.length; t--;) i += r[t].byteLength;
                for (n = new Uint8Array(i + 8), new DataView(n.buffer, n.byteOffset, n.byteLength).setUint32(0, n.byteLength), n.set(e, 4), t = 0, i = 8; t < r.length; t++) n.set(r[t], i), i += r[t].byteLength;
                return n
            }, n = function() {
                return t(S.dinf, t(S.dref, M))
            }, r = function(e) {
                return t(S.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
            }, m = function(e) {
                return t(S.hdlr, k[e])
            }, f = function(e) {
                var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
                return e.samplerate && (n[12] = e.samplerate >>> 24 & 255, n[13] = e.samplerate >>> 16 & 255, n[14] = e.samplerate >>> 8 & 255, n[15] = 255 & e.samplerate), t(S.mdhd, n)
            }, p = function(e) {
                return t(S.mdia, f(e), m(e.type), o(e))
            }, a = function(e) {
                return t(S.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
            }, o = function(e) {
                return t(S.minf, "video" === e.type ? t(S.vmhd, x) : t(S.smhd, I), n(), y(e))
            }, s = function(e, n) {
                for (var r = [], i = n.length; i--;) r[i] = b(n[i]);
                return t.apply(null, [S.moof, a(e)].concat(r))
            }, u = function(e) {
                for (var n = e.length, r = []; n--;) r[n] = d(e[n]);
                return t.apply(null, [S.moov, c(4294967295)].concat(r).concat(l(e)))
            }, l = function(e) {
                for (var n = e.length, r = []; n--;) r[n] = T(e[n]);
                return t.apply(null, [S.mvex].concat(r))
            }, c = function(e) {
                var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                return t(S.mvhd, n)
            }, g = function(e) {
                var n, r, i = e.samples || [],
                    a = new Uint8Array(4 + i.length);
                for (r = 0; r < i.length; r++) n = i[r].flags, a[r + 4] = n.dependsOn << 4 | n.isDependedOn << 2 | n.hasRedundancy;
                return t(S.sdtp, a)
            }, y = function(e) {
                return t(S.stbl, v(e), t(S.stts, R), t(S.stsc, D), t(S.stsz, O), t(S.stco, L))
            }, v = function(e) {
                return t(S.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? N(e) : B(e))
            }, N = function(e) {
                var n, r, i = e.sps || [],
                    a = e.pps || [],
                    o = [],
                    s = [];
                for (n = 0; n < i.length; n++) o.push((65280 & i[n].byteLength) >>> 8), o.push(255 & i[n].byteLength), o = o.concat(Array.prototype.slice.call(i[n]));
                for (n = 0; n < a.length; n++) s.push((65280 & a[n].byteLength) >>> 8), s.push(255 & a[n].byteLength), s = s.concat(Array.prototype.slice.call(a[n]));
                if (r = [S.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), t(S.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([i.length], o, [a.length], s))), t(S.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192]))], e.sarRatio) {
                    var u = e.sarRatio[0],
                        l = e.sarRatio[1];
                    r.push(t(S.pasp, new Uint8Array([(4278190080 & u) >> 24, (16711680 & u) >> 16, (65280 & u) >> 8, 255 & u, (4278190080 & l) >> 24, (16711680 & l) >> 16, (65280 & l) >> 8, 255 & l])))
                }
                return t.apply(null, r)
            }, B = function(e) {
                return t(S.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), r(e))
            }, h = function(e) {
                var n = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
                return t(S.tkhd, n)
            }, b = function(e) {
                var n, r, i, a, o, s;
                return n = t(S.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), o = Math.floor(e.baseMediaDecodeTime / (G + 1)), s = Math.floor(e.baseMediaDecodeTime % (G + 1)), r = t(S.tfdt, new Uint8Array([1, 0, 0, 0, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s])), 92, "audio" === e.type ? (i = _(e, 92), t(S.traf, n, r, i)) : (a = g(e), i = _(e, a.length + 92), t(S.traf, n, r, i, a))
            }, d = function(e) {
                return e.duration = e.duration || 4294967295, t(S.trak, h(e), p(e))
            }, T = function(e) {
                var n = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                return "video" !== e.type && (n[n.length - 1] = 0), t(S.trex, n)
            }, j = function(e, t) {
                var n = 0,
                    r = 0,
                    i = 0,
                    a = 0;
                return e.length && (void 0 !== e[0].duration && (n = 1), void 0 !== e[0].size && (r = 2), void 0 !== e[0].flags && (i = 4), void 0 !== e[0].compositionTimeOffset && (a = 8)), [0, 0, n | r | i | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
            }, F = function(e, n) {
                var r, i, a, o, s, u;
                for (n += 20 + 16 * (o = e.samples || []).length, a = j(o, n), (i = new Uint8Array(a.length + 16 * o.length)).set(a), r = a.length, u = 0; u < o.length; u++) s = o[u], i[r++] = (4278190080 & s.duration) >>> 24, i[r++] = (16711680 & s.duration) >>> 16, i[r++] = (65280 & s.duration) >>> 8, i[r++] = 255 & s.duration, i[r++] = (4278190080 & s.size) >>> 24, i[r++] = (16711680 & s.size) >>> 16, i[r++] = (65280 & s.size) >>> 8, i[r++] = 255 & s.size, i[r++] = s.flags.isLeading << 2 | s.flags.dependsOn, i[r++] = s.flags.isDependedOn << 6 | s.flags.hasRedundancy << 4 | s.flags.paddingValue << 1 | s.flags.isNonSyncSample, i[r++] = 61440 & s.flags.degradationPriority, i[r++] = 15 & s.flags.degradationPriority, i[r++] = (4278190080 & s.compositionTimeOffset) >>> 24, i[r++] = (16711680 & s.compositionTimeOffset) >>> 16, i[r++] = (65280 & s.compositionTimeOffset) >>> 8, i[r++] = 255 & s.compositionTimeOffset;
                return t(S.trun, i)
            }, U = function(e, n) {
                var r, i, a, o, s, u;
                for (n += 20 + 8 * (o = e.samples || []).length, a = j(o, n), (r = new Uint8Array(a.length + 8 * o.length)).set(a), i = a.length, u = 0; u < o.length; u++) s = o[u], r[i++] = (4278190080 & s.duration) >>> 24, r[i++] = (16711680 & s.duration) >>> 16, r[i++] = (65280 & s.duration) >>> 8, r[i++] = 255 & s.duration, r[i++] = (4278190080 & s.size) >>> 24, r[i++] = (16711680 & s.size) >>> 16, r[i++] = (65280 & s.size) >>> 8, r[i++] = 255 & s.size;
                return t(S.trun, r)
            }, _ = function(e, t) {
                return "audio" === e.type ? U(e, t) : F(e, t)
            };
            i = function() {
                return t(S.ftyp, w, A, w, E)
            };
            var V, W, q, z, X, K, Y, Q, $ = function(e) {
                    return t(S.mdat, e)
                },
                J = s,
                Z = function(e) {
                    var t, n = i(),
                        r = u(e);
                    return (t = new Uint8Array(n.byteLength + r.byteLength)).set(n), t.set(r, n.byteLength), t
                },
                ee = function(e, t) {
                    var n = {
                        size: 0,
                        flags: {
                            isLeading: 0,
                            dependsOn: 1,
                            isDependedOn: 0,
                            hasRedundancy: 0,
                            degradationPriority: 0,
                            isNonSyncSample: 1
                        }
                    };
                    return n.dataOffset = t, n.compositionTimeOffset = e.pts - e.dts, n.duration = e.duration, n.size = 4 * e.length, n.size += e.byteLength, e.keyFrame && (n.flags.dependsOn = 2, n.flags.isNonSyncSample = 0), n
                },
                te = function(e) {
                    var t, n, r = [],
                        i = [];
                    for (i.byteLength = 0, i.nalCount = 0, i.duration = 0, r.byteLength = 0, t = 0; t < e.length; t++) "access_unit_delimiter_rbsp" === (n = e[t]).nalUnitType ? (r.length && (r.duration = n.dts - r.dts, i.byteLength += r.byteLength, i.nalCount += r.length, i.duration += r.duration, i.push(r)), (r = [n]).byteLength = n.data.byteLength, r.pts = n.pts, r.dts = n.dts) : ("slice_layer_without_partitioning_rbsp_idr" === n.nalUnitType && (r.keyFrame = !0), r.duration = n.dts - r.dts, r.byteLength += n.data.byteLength, r.push(n));
                    return i.length && (!r.duration || r.duration <= 0) && (r.duration = i[i.length - 1].duration), i.byteLength += r.byteLength, i.nalCount += r.length, i.duration += r.duration, i.push(r), i
                },
                ne = function(e) {
                    var t, n, r = [],
                        i = [];
                    for (r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, i.byteLength = 0, i.nalCount = 0, i.duration = 0, i.pts = e[0].pts, i.dts = e[0].dts, t = 0; t < e.length; t++)(n = e[t]).keyFrame ? (r.length && (i.push(r), i.byteLength += r.byteLength, i.nalCount += r.nalCount, i.duration += r.duration), (r = [n]).nalCount = n.length, r.byteLength = n.byteLength, r.pts = n.pts, r.dts = n.dts, r.duration = n.duration) : (r.duration += n.duration, r.nalCount += n.length, r.byteLength += n.byteLength, r.push(n));
                    return i.length && r.duration <= 0 && (r.duration = i[i.length - 1].duration), i.byteLength += r.byteLength, i.nalCount += r.nalCount, i.duration += r.duration, i.push(r), i
                },
                re = function(e) {
                    var t;
                    return !e[0][0].keyFrame && e.length > 1 && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                },
                ie = function(e, t) {
                    var n, r, i, a, o, s = t || 0,
                        u = [];
                    for (n = 0; n < e.length; n++)
                        for (a = e[n], r = 0; r < a.length; r++) o = a[r], s += (i = ee(o, s)).size, u.push(i);
                    return u
                },
                ae = function(e) {
                    var t, n, r, i, a, o, s = 0,
                        u = e.byteLength,
                        l = e.nalCount,
                        c = new Uint8Array(u + 4 * l),
                        d = new DataView(c.buffer);
                    for (t = 0; t < e.length; t++)
                        for (i = e[t], n = 0; n < i.length; n++)
                            for (a = i[n], r = 0; r < a.length; r++) o = a[r], d.setUint32(s, o.data.byteLength), s += 4, c.set(o.data, s), s += o.data.byteLength;
                    return c
                },
                oe = [33, 16, 5, 32, 164, 27],
                se = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
                ue = function(e) {
                    for (var t = []; e--;) t.push(0);
                    return t
                },
                le = function() {
                    if (!V) {
                        var e = {
                            96e3: [oe, [227, 64], ue(154), [56]],
                            88200: [oe, [231], ue(170), [56]],
                            64e3: [oe, [248, 192], ue(240), [56]],
                            48e3: [oe, [255, 192], ue(268), [55, 148, 128], ue(54), [112]],
                            44100: [oe, [255, 192], ue(268), [55, 163, 128], ue(84), [112]],
                            32e3: [oe, [255, 192], ue(268), [55, 234], ue(226), [112]],
                            24e3: [oe, [255, 192], ue(268), [55, 255, 128], ue(268), [111, 112], ue(126), [224]],
                            16e3: [oe, [255, 192], ue(268), [55, 255, 128], ue(268), [111, 255], ue(269), [223, 108], ue(195), [1, 192]],
                            12e3: [se, ue(268), [3, 127, 248], ue(268), [6, 255, 240], ue(268), [13, 255, 224], ue(268), [27, 253, 128], ue(259), [56]],
                            11025: [se, ue(268), [3, 127, 248], ue(268), [6, 255, 240], ue(268), [13, 255, 224], ue(268), [27, 255, 192], ue(268), [55, 175, 128], ue(108), [112]],
                            8e3: [se, ue(268), [3, 121, 16], ue(47), [7]]
                        };
                        t = e, V = Object.keys(t).reduce((function(e, n) {
                            return e[n] = new Uint8Array(t[n].reduce((function(e, t) {
                                return e.concat(t)
                            }), [])), e
                        }), {})
                    }
                    var t;
                    return V
                },
                ce = 9e4;
            K = function(e, t) {
                return W(X(e, t))
            }, Y = function(e, t) {
                return q(z(e), t)
            }, Q = function(e, t, n) {
                return z(n ? e : e - t)
            };
            var de = ce,
                he = W = function(e) {
                    return e * ce
                },
                pe = (q = function(e, t) {
                    return e * t
                }, z = function(e) {
                    return e / ce
                }),
                fe = (X = function(e, t) {
                    return e / t
                }, K),
                me = Y,
                ge = Q,
                ye = function(e, t, n, r) {
                    var i, a, o, s, u, l = 0,
                        c = 0,
                        d = 0;
                    if (t.length && (i = fe(e.baseMediaDecodeTime, e.samplerate), a = Math.ceil(de / (e.samplerate / 1024)), n && r && (l = i - Math.max(n, r), d = (c = Math.floor(l / a)) * a), !(c < 1 || d > de / 2))) {
                        for ((o = le()[e.samplerate]) || (o = t[0].data), s = 0; s < c; s++) u = t[0], t.splice(0, 0, {
                            data: o,
                            dts: u.dts - a,
                            pts: u.pts - a
                        });
                        return e.baseMediaDecodeTime -= Math.floor(me(d, e.samplerate)), d
                    }
                },
                ve = function(e, t, n) {
                    return t.minSegmentDts >= n ? e : (t.minSegmentDts = 1 / 0, e.filter((function(e) {
                        return e.dts >= n && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                    })))
                },
                be = function(e) {
                    var t, n, r = [];
                    for (t = 0; t < e.length; t++) n = e[t], r.push({
                        size: n.data.byteLength,
                        duration: 1024
                    });
                    return r
                },
                Te = function(e) {
                    var t, n, r = 0,
                        i = new Uint8Array(function(e) {
                            var t, n = 0;
                            for (t = 0; t < e.length; t++) n += e[t].data.byteLength;
                            return n
                        }(e));
                    for (t = 0; t < e.length; t++) n = e[t], i.set(n.data, r), r += n.data.byteLength;
                    return i
                },
                _e = de,
                Se = function(e) {
                    delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts
                },
                we = function(e, t) {
                    var n, r = e.minSegmentDts;
                    return t || (r -= e.timelineStartInfo.dts), n = e.timelineStartInfo.baseMediaDecodeTime, n += r, n = Math.max(0, n), "audio" === e.type && (n *= e.samplerate / _e, n = Math.floor(n)), n
                },
                Ae = function(e, t) {
                    "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts), void 0 === e.minSegmentPts ? e.minSegmentPts = t.pts : e.minSegmentPts = Math.min(e.minSegmentPts, t.pts), void 0 === e.maxSegmentPts ? e.maxSegmentPts = t.pts : e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts)), "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts), void 0 === e.minSegmentDts ? e.minSegmentDts = t.dts : e.minSegmentDts = Math.min(e.minSegmentDts, t.dts), void 0 === e.maxSegmentDts ? e.maxSegmentDts = t.dts : e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts))
                },
                Ee = function(e) {
                    for (var t = 0, n = {
                            payloadType: -1,
                            payloadSize: 0
                        }, r = 0, i = 0; t < e.byteLength && 128 !== e[t];) {
                        for (; 255 === e[t];) r += 255, t++;
                        for (r += e[t++]; 255 === e[t];) i += 255, t++;
                        if (i += e[t++], !n.payload && 4 === r) {
                            if ("GA94" === String.fromCharCode(e[t + 3], e[t + 4], e[t + 5], e[t + 6])) {
                                n.payloadType = r, n.payloadSize = i, n.payload = e.subarray(t, t + i);
                                break
                            }
                            n.payload = void 0
                        }
                        t += i, r = 0, i = 0
                    }
                    return n
                },
                Ce = function(e) {
                    return 181 !== e.payload[0] || 49 != (e.payload[1] << 8 | e.payload[2]) || "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) || 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                },
                Pe = function(e, t) {
                    var n, r, i, a, o = [];
                    if (!(64 & t[0])) return o;
                    for (r = 31 & t[0], n = 0; n < r; n++) a = {
                        type: 3 & t[(i = 3 * n) + 2],
                        pts: e
                    }, 4 & t[i + 2] && (a.ccData = t[i + 3] << 8 | t[i + 4], o.push(a));
                    return o
                },
                ke = function(e) {
                    for (var t, n, r = e.byteLength, i = [], a = 1; a < r - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (i.push(a + 2), a += 2) : a++;
                    if (0 === i.length) return e;
                    t = r - i.length, n = new Uint8Array(t);
                    var o = 0;
                    for (a = 0; a < t; o++, a++) o === i[0] && (o++, i.shift()), n[a] = e[o];
                    return n
                },
                xe = 4,
                Ie = function e(t) {
                    t = t || {}, e.prototype.init.call(this), this.parse708captions_ = "boolean" != typeof t.parse708captions || t.parse708captions, this.captionPackets_ = [], this.ccStreams_ = [new je(0, 0), new je(0, 1), new je(1, 0), new je(1, 1)], this.parse708captions_ && (this.cc708Stream_ = new Re), this.reset(), this.ccStreams_.forEach((function(e) {
                        e.on("data", this.trigger.bind(this, "data")), e.on("partialdone", this.trigger.bind(this, "partialdone")), e.on("done", this.trigger.bind(this, "done"))
                    }), this), this.parse708captions_ && (this.cc708Stream_.on("data", this.trigger.bind(this, "data")), this.cc708Stream_.on("partialdone", this.trigger.bind(this, "partialdone")), this.cc708Stream_.on("done", this.trigger.bind(this, "done")))
                };
            (Ie.prototype = new H).push = function(e) {
                var t, n, r;
                if ("sei_rbsp" === e.nalUnitType && (t = Ee(e.escapedRBSP)).payload && t.payloadType === xe && (n = Ce(t)))
                    if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                    else {
                        if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                        r = Pe(e.pts, n), this.captionPackets_ = this.captionPackets_.concat(r), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                    }
            }, Ie.prototype.flushCCStreams = function(e) {
                this.ccStreams_.forEach((function(t) {
                    return "flush" === e ? t.flush() : t.partialFlush()
                }), this)
            }, Ie.prototype.flushStream = function(e) {
                this.captionPackets_.length ? (this.captionPackets_.forEach((function(e, t) {
                    e.presortIndex = t
                })), this.captionPackets_.sort((function(e, t) {
                    return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                })), this.captionPackets_.forEach((function(e) {
                    e.type < 2 ? this.dispatchCea608Packet(e) : this.dispatchCea708Packet(e)
                }), this), this.captionPackets_.length = 0, this.flushCCStreams(e)) : this.flushCCStreams(e)
            }, Ie.prototype.flush = function() {
                return this.flushStream("flush")
            }, Ie.prototype.partialFlush = function() {
                return this.flushStream("partialFlush")
            }, Ie.prototype.reset = function() {
                this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach((function(e) {
                    e.reset()
                }))
            }, Ie.prototype.dispatchCea608Packet = function(e) {
                this.setsTextOrXDSActive(e) ? this.activeCea608Channel_[e.type] = null : this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
            }, Ie.prototype.setsChannel1Active = function(e) {
                return 4096 == (30720 & e.ccData)
            }, Ie.prototype.setsChannel2Active = function(e) {
                return 6144 == (30720 & e.ccData)
            }, Ie.prototype.setsTextOrXDSActive = function(e) {
                return 256 == (28928 & e.ccData) || 4138 == (30974 & e.ccData) || 6186 == (30974 & e.ccData)
            }, Ie.prototype.dispatchCea708Packet = function(e) {
                this.parse708captions_ && this.cc708Stream_.push(e)
            };
            var Me = {
                    127: 9834,
                    4128: 32,
                    4129: 160,
                    4133: 8230,
                    4138: 352,
                    4140: 338,
                    4144: 9608,
                    4145: 8216,
                    4146: 8217,
                    4147: 8220,
                    4148: 8221,
                    4149: 8226,
                    4153: 8482,
                    4154: 353,
                    4156: 339,
                    4157: 8480,
                    4159: 376,
                    4214: 8539,
                    4215: 8540,
                    4216: 8541,
                    4217: 8542,
                    4218: 9168,
                    4219: 9124,
                    4220: 9123,
                    4221: 9135,
                    4222: 9126,
                    4223: 9121,
                    4256: 12600
                },
                Le = function(e) {
                    return 32 <= e && e <= 127 || 160 <= e && e <= 255
                },
                De = function(e) {
                    this.windowNum = e, this.reset()
                };
            De.prototype.reset = function() {
                this.clearText(), this.pendingNewLine = !1, this.winAttr = {}, this.penAttr = {}, this.penLoc = {}, this.penColor = {}, this.visible = 0, this.rowLock = 0, this.columnLock = 0, this.priority = 0, this.relativePositioning = 0, this.anchorVertical = 0, this.anchorHorizontal = 0, this.anchorPoint = 0, this.rowCount = 1, this.virtualRowCount = this.rowCount + 1, this.columnCount = 41, this.windowStyle = 0, this.penStyle = 0
            }, De.prototype.getText = function() {
                return this.rows.join("\n")
            }, De.prototype.clearText = function() {
                this.rows = [""], this.rowIdx = 0
            }, De.prototype.newLine = function(e) {
                for (this.rows.length >= this.virtualRowCount && "function" == typeof this.beforeRowOverflow && this.beforeRowOverflow(e), this.rows.length > 0 && (this.rows.push(""), this.rowIdx++); this.rows.length > this.virtualRowCount;) this.rows.shift(), this.rowIdx--
            }, De.prototype.isEmpty = function() {
                return 0 === this.rows.length || 1 === this.rows.length && "" === this.rows[0]
            }, De.prototype.addText = function(e) {
                this.rows[this.rowIdx] += e
            }, De.prototype.backspace = function() {
                if (!this.isEmpty()) {
                    var e = this.rows[this.rowIdx];
                    this.rows[this.rowIdx] = e.substr(0, e.length - 1)
                }
            };
            var Oe = function(e) {
                this.serviceNum = e, this.text = "", this.currentWindow = new De(-1), this.windows = []
            };
            Oe.prototype.init = function(e, t) {
                this.startPts = e;
                for (var n = 0; n < 8; n++) this.windows[n] = new De(n), "function" == typeof t && (this.windows[n].beforeRowOverflow = t)
            }, Oe.prototype.setCurrentWindow = function(e) {
                this.currentWindow = this.windows[e]
            };
            var Re = function e() {
                e.prototype.init.call(this);
                var t = this;
                this.current708Packet = null, this.services = {}, this.push = function(e) {
                    3 === e.type ? (t.new708Packet(), t.add708Bytes(e)) : (null === t.current708Packet && t.new708Packet(), t.add708Bytes(e))
                }
            };
            Re.prototype = new H, Re.prototype.new708Packet = function() {
                null !== this.current708Packet && this.push708Packet(), this.current708Packet = {
                    data: [],
                    ptsVals: []
                }
            }, Re.prototype.add708Bytes = function(e) {
                var t = e.ccData,
                    n = t >>> 8,
                    r = 255 & t;
                this.current708Packet.ptsVals.push(e.pts), this.current708Packet.data.push(n), this.current708Packet.data.push(r)
            }, Re.prototype.push708Packet = function() {
                var e = this.current708Packet,
                    t = e.data,
                    n = null,
                    r = null,
                    i = 0,
                    a = t[i++];
                for (e.seq = a >> 6, e.sizeCode = 63 & a; i < t.length; i++) r = 31 & (a = t[i++]), 7 === (n = a >> 5) && r > 0 && (n = a = t[i++]), this.pushServiceBlock(n, i, r), r > 0 && (i += r - 1)
            }, Re.prototype.pushServiceBlock = function(e, t, n) {
                var r, i = t,
                    a = this.current708Packet.data,
                    o = this.services[e];
                for (o || (o = this.initService(e, i)); i < t + n && i < a.length; i++) r = a[i], Le(r) ? i = this.handleText(i, o) : 16 === r ? i = this.extendedCommands(i, o) : 128 <= r && r <= 135 ? i = this.setCurrentWindow(i, o) : 152 <= r && r <= 159 ? i = this.defineWindow(i, o) : 136 === r ? i = this.clearWindows(i, o) : 140 === r ? i = this.deleteWindows(i, o) : 137 === r ? i = this.displayWindows(i, o) : 138 === r ? i = this.hideWindows(i, o) : 139 === r ? i = this.toggleWindows(i, o) : 151 === r ? i = this.setWindowAttributes(i, o) : 144 === r ? i = this.setPenAttributes(i, o) : 145 === r ? i = this.setPenColor(i, o) : 146 === r ? i = this.setPenLocation(i, o) : 143 === r ? o = this.reset(i, o) : 8 === r ? o.currentWindow.backspace() : 12 === r ? o.currentWindow.clearText() : 13 === r ? o.currentWindow.pendingNewLine = !0 : 14 === r ? o.currentWindow.clearText() : 141 === r && i++
            }, Re.prototype.extendedCommands = function(e, t) {
                var n = this.current708Packet.data[++e];
                return Le(n) && (e = this.handleText(e, t, !0)), e
            }, Re.prototype.getPts = function(e) {
                return this.current708Packet.ptsVals[Math.floor(e / 2)]
            }, Re.prototype.initService = function(e, t) {
                var n = this;
                return this.services[e] = new Oe(e), this.services[e].init(this.getPts(t), (function(t) {
                    n.flushDisplayed(t, n.services[e])
                })), this.services[e]
            }, Re.prototype.handleText = function(e, t, n) {
                var r, i, a = this.current708Packet.data[e],
                    o = (i = Me[r = (n ? 4096 : 0) | a] || r, 4096 & r && r === i ? "" : String.fromCharCode(i)),
                    s = t.currentWindow;
                return s.pendingNewLine && !s.isEmpty() && s.newLine(this.getPts(e)), s.pendingNewLine = !1, s.addText(o), e
            }, Re.prototype.setCurrentWindow = function(e, t) {
                var n = 7 & this.current708Packet.data[e];
                return t.setCurrentWindow(n), e
            }, Re.prototype.defineWindow = function(e, t) {
                var n = this.current708Packet.data,
                    r = n[e],
                    i = 7 & r;
                t.setCurrentWindow(i);
                var a = t.currentWindow;
                return r = n[++e], a.visible = (32 & r) >> 5, a.rowLock = (16 & r) >> 4, a.columnLock = (8 & r) >> 3, a.priority = 7 & r, r = n[++e], a.relativePositioning = (128 & r) >> 7, a.anchorVertical = 127 & r, r = n[++e], a.anchorHorizontal = r, r = n[++e], a.anchorPoint = (240 & r) >> 4, a.rowCount = 15 & r, r = n[++e], a.columnCount = 63 & r, r = n[++e], a.windowStyle = (56 & r) >> 3, a.penStyle = 7 & r, a.virtualRowCount = a.rowCount + 1, e
            }, Re.prototype.setWindowAttributes = function(e, t) {
                var n = this.current708Packet.data,
                    r = n[e],
                    i = t.currentWindow.winAttr;
                return r = n[++e], i.fillOpacity = (192 & r) >> 6, i.fillRed = (48 & r) >> 4, i.fillGreen = (12 & r) >> 2, i.fillBlue = 3 & r, r = n[++e], i.borderType = (192 & r) >> 6, i.borderRed = (48 & r) >> 4, i.borderGreen = (12 & r) >> 2, i.borderBlue = 3 & r, r = n[++e], i.borderType += (128 & r) >> 5, i.wordWrap = (64 & r) >> 6, i.printDirection = (48 & r) >> 4, i.scrollDirection = (12 & r) >> 2, i.justify = 3 & r, r = n[++e], i.effectSpeed = (240 & r) >> 4, i.effectDirection = (12 & r) >> 2, i.displayEffect = 3 & r, e
            }, Re.prototype.flushDisplayed = function(e, t) {
                for (var n = [], r = 0; r < 8; r++) t.windows[r].visible && !t.windows[r].isEmpty() && n.push(t.windows[r].getText());
                t.endPts = e, t.text = n.join("\n\n"), this.pushCaption(t), t.startPts = e
            }, Re.prototype.pushCaption = function(e) {
                "" !== e.text && (this.trigger("data", {
                    startPts: e.startPts,
                    endPts: e.endPts,
                    text: e.text,
                    stream: "cc708_" + e.serviceNum
                }), e.text = "", e.startPts = e.endPts)
            }, Re.prototype.displayWindows = function(e, t) {
                var n = this.current708Packet.data[++e],
                    r = this.getPts(e);
                this.flushDisplayed(r, t);
                for (var i = 0; i < 8; i++) n & 1 << i && (t.windows[i].visible = 1);
                return e
            }, Re.prototype.hideWindows = function(e, t) {
                var n = this.current708Packet.data[++e],
                    r = this.getPts(e);
                this.flushDisplayed(r, t);
                for (var i = 0; i < 8; i++) n & 1 << i && (t.windows[i].visible = 0);
                return e
            }, Re.prototype.toggleWindows = function(e, t) {
                var n = this.current708Packet.data[++e],
                    r = this.getPts(e);
                this.flushDisplayed(r, t);
                for (var i = 0; i < 8; i++) n & 1 << i && (t.windows[i].visible ^= 1);
                return e
            }, Re.prototype.clearWindows = function(e, t) {
                var n = this.current708Packet.data[++e],
                    r = this.getPts(e);
                this.flushDisplayed(r, t);
                for (var i = 0; i < 8; i++) n & 1 << i && t.windows[i].clearText();
                return e
            }, Re.prototype.deleteWindows = function(e, t) {
                var n = this.current708Packet.data[++e],
                    r = this.getPts(e);
                this.flushDisplayed(r, t);
                for (var i = 0; i < 8; i++) n & 1 << i && t.windows[i].reset();
                return e
            }, Re.prototype.setPenAttributes = function(e, t) {
                var n = this.current708Packet.data,
                    r = n[e],
                    i = t.currentWindow.penAttr;
                return r = n[++e], i.textTag = (240 & r) >> 4, i.offset = (12 & r) >> 2, i.penSize = 3 & r, r = n[++e], i.italics = (128 & r) >> 7, i.underline = (64 & r) >> 6, i.edgeType = (56 & r) >> 3, i.fontStyle = 7 & r, e
            }, Re.prototype.setPenColor = function(e, t) {
                var n = this.current708Packet.data,
                    r = n[e],
                    i = t.currentWindow.penColor;
                return r = n[++e], i.fgOpacity = (192 & r) >> 6, i.fgRed = (48 & r) >> 4, i.fgGreen = (12 & r) >> 2, i.fgBlue = 3 & r, r = n[++e], i.bgOpacity = (192 & r) >> 6, i.bgRed = (48 & r) >> 4, i.bgGreen = (12 & r) >> 2, i.bgBlue = 3 & r, r = n[++e], i.edgeRed = (48 & r) >> 4, i.edgeGreen = (12 & r) >> 2, i.edgeBlue = 3 & r, e
            }, Re.prototype.setPenLocation = function(e, t) {
                var n = this.current708Packet.data,
                    r = n[e],
                    i = t.currentWindow.penLoc;
                return t.currentWindow.pendingNewLine = !0, r = n[++e], i.row = 15 & r, r = n[++e], i.column = 63 & r, e
            }, Re.prototype.reset = function(e, t) {
                var n = this.getPts(e);
                return this.flushDisplayed(n, t), this.initService(t.serviceNum, e)
            };
            var Ne = {
                    42: 225,
                    92: 233,
                    94: 237,
                    95: 243,
                    96: 250,
                    123: 231,
                    124: 247,
                    125: 209,
                    126: 241,
                    127: 9608,
                    304: 174,
                    305: 176,
                    306: 189,
                    307: 191,
                    308: 8482,
                    309: 162,
                    310: 163,
                    311: 9834,
                    312: 224,
                    313: 160,
                    314: 232,
                    315: 226,
                    316: 234,
                    317: 238,
                    318: 244,
                    319: 251,
                    544: 193,
                    545: 201,
                    546: 211,
                    547: 218,
                    548: 220,
                    549: 252,
                    550: 8216,
                    551: 161,
                    552: 42,
                    553: 39,
                    554: 8212,
                    555: 169,
                    556: 8480,
                    557: 8226,
                    558: 8220,
                    559: 8221,
                    560: 192,
                    561: 194,
                    562: 199,
                    563: 200,
                    564: 202,
                    565: 203,
                    566: 235,
                    567: 206,
                    568: 207,
                    569: 239,
                    570: 212,
                    571: 217,
                    572: 249,
                    573: 219,
                    574: 171,
                    575: 187,
                    800: 195,
                    801: 227,
                    802: 205,
                    803: 204,
                    804: 236,
                    805: 210,
                    806: 242,
                    807: 213,
                    808: 245,
                    809: 123,
                    810: 125,
                    811: 92,
                    812: 94,
                    813: 95,
                    814: 124,
                    815: 126,
                    816: 196,
                    817: 228,
                    818: 214,
                    819: 246,
                    820: 223,
                    821: 165,
                    822: 164,
                    823: 9474,
                    824: 197,
                    825: 229,
                    826: 216,
                    827: 248,
                    828: 9484,
                    829: 9488,
                    830: 9492,
                    831: 9496
                },
                Be = function(e) {
                    return null === e ? "" : (e = Ne[e] || e, String.fromCharCode(e))
                },
                Ue = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                Fe = function() {
                    for (var e = [], t = 15; t--;) e.push("");
                    return e
                },
                je = function e(t, n) {
                    e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = n || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                        var t, n, r, i, a;
                        if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                            if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), r = t >>> 8, i = 255 & t, t !== this.PADDING_)
                                if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), n = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = n, this.startPts_ = e.pts;
                            else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                            else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                            else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                            else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                            else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                            else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = Fe();
                            else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = Fe();
                            else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = Fe()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                            else if (this.isSpecialCharacter(r, i)) a = Be((r = (3 & r) << 8) | i), this[this.mode_](e.pts, a), this.column_++;
                            else if (this.isExtCharacter(r, i)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), a = Be((r = (3 & r) << 8) | i), this[this.mode_](e.pts, a), this.column_++;
                            else if (this.isMidRowCode(r, i)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & i) && this.addFormatting(e.pts, ["i"]), 1 == (1 & i) && this.addFormatting(e.pts, ["u"]);
                            else if (this.isOffsetControlCode(r, i)) this.column_ += 3 & i;
                            else if (this.isPAC(r, i)) {
                                var o = Ue.indexOf(7968 & t);
                                "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1), this.setRollUp(e.pts, o)), o !== this.row_ && (this.clearFormatting(e.pts), this.row_ = o), 1 & i && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(i) && 14 == (14 & i) && this.addFormatting(e.pts, ["i"])
                            } else this.isNormalChar(r) && (0 === i && (i = null), a = Be(r), a += Be(i), this[this.mode_](e.pts, a), this.column_ += a.length)
                        } else this.lastControlCode_ = null
                    }
                };
            je.prototype = new H, je.prototype.flushDisplayed = function(e) {
                var t = this.displayed_.map((function(e, t) {
                    try {
                        return e.trim()
                    } catch (e) {
                        return this.trigger("log", {
                            level: "warn",
                            message: "Skipping a malformed 608 caption at index " + t + "."
                        }), ""
                    }
                }), this).join("\n").replace(/^\n+|\n+$/g, "");
                t.length && this.trigger("data", {
                    startPts: this.startPts_,
                    endPts: e,
                    text: t,
                    stream: this.name_
                })
            }, je.prototype.reset = function() {
                this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = Fe(), this.nonDisplayed_ = Fe(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
            }, je.prototype.setConstants = function() {
                0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
            }, je.prototype.isSpecialCharacter = function(e, t) {
                return e === this.EXT_ && t >= 48 && t <= 63
            }, je.prototype.isExtCharacter = function(e, t) {
                return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && t <= 63
            }, je.prototype.isMidRowCode = function(e, t) {
                return e === this.EXT_ && t >= 32 && t <= 47
            }, je.prototype.isOffsetControlCode = function(e, t) {
                return e === this.OFFSET_ && t >= 33 && t <= 35
            }, je.prototype.isPAC = function(e, t) {
                return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127
            }, je.prototype.isColorPAC = function(e) {
                return e >= 64 && e <= 79 || e >= 96 && e <= 127
            }, je.prototype.isNormalChar = function(e) {
                return e >= 32 && e <= 127
            }, je.prototype.setRollUp = function(e, t) {
                if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = Fe(), this.displayed_ = Fe()), void 0 !== t && t !== this.row_)
                    for (var n = 0; n < this.rollUpRows_; n++) this.displayed_[t - n] = this.displayed_[this.row_ - n], this.displayed_[this.row_ - n] = "";
                void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
            }, je.prototype.addFormatting = function(e, t) {
                this.formatting_ = this.formatting_.concat(t);
                var n = t.reduce((function(e, t) {
                    return e + "<" + t + ">"
                }), "");
                this[this.mode_](e, n)
            }, je.prototype.clearFormatting = function(e) {
                if (this.formatting_.length) {
                    var t = this.formatting_.reverse().reduce((function(e, t) {
                        return e + "</" + t + ">"
                    }), "");
                    this.formatting_ = [], this[this.mode_](e, t)
                }
            }, je.prototype.popOn = function(e, t) {
                var n = this.nonDisplayed_[this.row_];
                n += t, this.nonDisplayed_[this.row_] = n
            }, je.prototype.rollUp = function(e, t) {
                var n = this.displayed_[this.row_];
                n += t, this.displayed_[this.row_] = n
            }, je.prototype.shiftRowsUp_ = function() {
                var e;
                for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                this.displayed_[this.row_] = ""
            }, je.prototype.paintOn = function(e, t) {
                var n = this.displayed_[this.row_];
                n += t, this.displayed_[this.row_] = n
            };
            var He = {
                    CaptionStream: Ie,
                    Cea608Stream: je,
                    Cea708Stream: Re
                },
                Ge = {
                    H264_STREAM_TYPE: 27,
                    ADTS_STREAM_TYPE: 15,
                    METADATA_STREAM_TYPE: 21
                },
                Ve = "shared",
                We = function(e, t) {
                    var n = 1;
                    for (e > t && (n = -1); Math.abs(t - e) > 4294967296;) e += 8589934592 * n;
                    return e
                },
                qe = function e(t) {
                    var n, r;
                    e.prototype.init.call(this), this.type_ = t || Ve, this.push = function(e) {
                        this.type_ !== Ve && e.type !== this.type_ || (void 0 === r && (r = e.dts), e.dts = We(e.dts, r), e.pts = We(e.pts, r), n = e.dts, this.trigger("data", e))
                    }, this.flush = function() {
                        r = n, this.trigger("done")
                    }, this.endTimeline = function() {
                        this.flush(), this.trigger("endedtimeline")
                    }, this.discontinuity = function() {
                        r = void 0, n = void 0
                    }, this.reset = function() {
                        this.discontinuity(), this.trigger("reset")
                    }
                };
            qe.prototype = new H;
            var ze, Xe = qe,
                Ke = We,
                Ye = function(e, t, n) {
                    var r, i = "";
                    for (r = t; r < n; r++) i += "%" + ("00" + e[r].toString(16)).slice(-2);
                    return i
                },
                Qe = function(e, t, n) {
                    return decodeURIComponent(Ye(e, t, n))
                },
                $e = function(e, t, n) {
                    return unescape(Ye(e, t, n))
                },
                Je = function(e) {
                    return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                },
                Ze = {
                    TXXX: function(e) {
                        var t;
                        if (3 === e.data[0]) {
                            for (t = 1; t < e.data.length; t++)
                                if (0 === e.data[t]) {
                                    e.description = Qe(e.data, 1, t), e.value = Qe(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                    break
                                } e.data = e.value
                        }
                    },
                    WXXX: function(e) {
                        var t;
                        if (3 === e.data[0])
                            for (t = 1; t < e.data.length; t++)
                                if (0 === e.data[t]) {
                                    e.description = Qe(e.data, 1, t), e.url = Qe(e.data, t + 1, e.data.length);
                                    break
                                }
                    },
                    PRIV: function(e) {
                        var t;
                        for (t = 0; t < e.data.length; t++)
                            if (0 === e.data[t]) {
                                e.owner = $e(e.data, 0, t);
                                break
                            } e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                    }
                };
            (ze = function(e) {
                var t, n = {
                        descriptor: e && e.descriptor
                    },
                    r = 0,
                    i = [],
                    a = 0;
                if (ze.prototype.init.call(this), this.dispatchType = Ge.METADATA_STREAM_TYPE.toString(16), n.descriptor)
                    for (t = 0; t < n.descriptor.length; t++) this.dispatchType += ("00" + n.descriptor[t].toString(16)).slice(-2);
                this.push = function(e) {
                    var t, n, o, s, u;
                    if ("timed-metadata" === e.type)
                        if (e.dataAlignmentIndicator && (a = 0, i.length = 0), 0 === i.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0))) this.trigger("log", {
                            level: "warn",
                            message: "Skipping unrecognized metadata packet"
                        });
                        else if (i.push(e), a += e.data.byteLength, 1 === i.length && (r = Je(e.data.subarray(6, 10)), r += 10), !(a < r)) {
                        for (t = {
                                data: new Uint8Array(r),
                                frames: [],
                                pts: i[0].pts,
                                dts: i[0].dts
                            }, u = 0; u < r;) t.data.set(i[0].data.subarray(0, r - u), u), u += i[0].data.byteLength, a -= i[0].data.byteLength, i.shift();
                        n = 10, 64 & t.data[5] && (n += 4, n += Je(t.data.subarray(10, 14)), r -= Je(t.data.subarray(16, 20)));
                        do {
                            if ((o = Je(t.data.subarray(n + 4, n + 8))) < 1) return void this.trigger("log", {
                                level: "warn",
                                message: "Malformed ID3 frame encountered. Skipping metadata parsing."
                            });
                            if ((s = {
                                    id: String.fromCharCode(t.data[n], t.data[n + 1], t.data[n + 2], t.data[n + 3]),
                                    data: t.data.subarray(n + 10, n + o + 10)
                                }).key = s.id, Ze[s.id] && (Ze[s.id](s), "com.apple.streaming.transportStreamTimestamp" === s.owner)) {
                                var l = s.data,
                                    c = (1 & l[3]) << 30 | l[4] << 22 | l[5] << 14 | l[6] << 6 | l[7] >>> 2;
                                c *= 4, c += 3 & l[7], s.timeStamp = c, void 0 === t.pts && void 0 === t.dts && (t.pts = s.timeStamp, t.dts = s.timeStamp), this.trigger("timestamp", s)
                            }
                            t.frames.push(s), n += 10, n += o
                        } while (n < r);
                        this.trigger("data", t)
                    }
                }
            }).prototype = new H;
            var et, tt, nt, rt = ze,
                it = Xe,
                at = 188;
            (et = function() {
                var e = new Uint8Array(at),
                    t = 0;
                et.prototype.init.call(this), this.push = function(n) {
                    var r, i = 0,
                        a = at;
                    for (t ? ((r = new Uint8Array(n.byteLength + t)).set(e.subarray(0, t)), r.set(n, t), t = 0) : r = n; a < r.byteLength;) 71 !== r[i] || 71 !== r[a] ? (i++, a++) : (this.trigger("data", r.subarray(i, a)), i += at, a += at);
                    i < r.byteLength && (e.set(r.subarray(i), 0), t = r.byteLength - i)
                }, this.flush = function() {
                    t === at && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
                }, this.endTimeline = function() {
                    this.flush(), this.trigger("endedtimeline")
                }, this.reset = function() {
                    t = 0, this.trigger("reset")
                }
            }).prototype = new H, (tt = function() {
                var e, t, n, r;
                tt.prototype.init.call(this), r = this, this.packetsWaitingForPmt = [], this.programMapTable = void 0, e = function(e, r) {
                    var i = 0;
                    r.payloadUnitStartIndicator && (i += e[i] + 1), "pat" === r.type ? t(e.subarray(i), r) : n(e.subarray(i), r)
                }, t = function(e, t) {
                    t.section_number = e[7], t.last_section_number = e[8], r.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = r.pmtPid
                }, n = function(e, t) {
                    var n, i;
                    if (1 & e[5]) {
                        for (r.programMapTable = {
                                video: null,
                                audio: null,
                                "timed-metadata": {}
                            }, n = 3 + ((15 & e[1]) << 8 | e[2]) - 4, i = 12 + ((15 & e[10]) << 8 | e[11]); i < n;) {
                            var a = e[i],
                                o = (31 & e[i + 1]) << 8 | e[i + 2];
                            a === Ge.H264_STREAM_TYPE && null === r.programMapTable.video ? r.programMapTable.video = o : a === Ge.ADTS_STREAM_TYPE && null === r.programMapTable.audio ? r.programMapTable.audio = o : a === Ge.METADATA_STREAM_TYPE && (r.programMapTable["timed-metadata"][o] = a), i += 5 + ((15 & e[i + 3]) << 8 | e[i + 4])
                        }
                        t.programMapTable = r.programMapTable
                    }
                }, this.push = function(t) {
                    var n = {},
                        r = 4;
                    if (n.payloadUnitStartIndicator = !!(64 & t[1]), n.pid = 31 & t[1], n.pid <<= 8, n.pid |= t[2], (48 & t[3]) >>> 4 > 1 && (r += t[r] + 1), 0 === n.pid) n.type = "pat", e(t.subarray(r), n), this.trigger("data", n);
                    else if (n.pid === this.pmtPid)
                        for (n.type = "pmt", e(t.subarray(r), n), this.trigger("data", n); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                    else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, r, n]) : this.processPes_(t, r, n)
                }, this.processPes_ = function(e, t, n) {
                    n.pid === this.programMapTable.video ? n.streamType = Ge.H264_STREAM_TYPE : n.pid === this.programMapTable.audio ? n.streamType = Ge.ADTS_STREAM_TYPE : n.streamType = this.programMapTable["timed-metadata"][n.pid], n.type = "pes", n.data = e.subarray(t), this.trigger("data", n)
                }
            }).prototype = new H, tt.STREAM_TYPES = {
                h264: 27,
                adts: 15
            }, (nt = function() {
                var e, t = this,
                    n = !1,
                    r = {
                        data: [],
                        size: 0
                    },
                    i = {
                        data: [],
                        size: 0
                    },
                    a = {
                        data: [],
                        size: 0
                    },
                    o = function(e, n, r) {
                        var i, a, o = new Uint8Array(e.size),
                            s = {
                                type: n
                            },
                            u = 0,
                            l = 0;
                        if (e.data.length && !(e.size < 9)) {
                            for (s.trackId = e.data[0].pid, u = 0; u < e.data.length; u++) a = e.data[u], o.set(a.data, l), l += a.data.byteLength;
                            var c, d, h, p;
                            d = s, p = (c = o)[0] << 16 | c[1] << 8 | c[2], d.data = new Uint8Array, 1 === p && (d.packetLength = 6 + (c[4] << 8 | c[5]), d.dataAlignmentIndicator = 0 != (4 & c[6]), 192 & (h = c[7]) && (d.pts = (14 & c[9]) << 27 | (255 & c[10]) << 20 | (254 & c[11]) << 12 | (255 & c[12]) << 5 | (254 & c[13]) >>> 3, d.pts *= 4, d.pts += (6 & c[13]) >>> 1, d.dts = d.pts, 64 & h && (d.dts = (14 & c[14]) << 27 | (255 & c[15]) << 20 | (254 & c[16]) << 12 | (255 & c[17]) << 5 | (254 & c[18]) >>> 3, d.dts *= 4, d.dts += (6 & c[18]) >>> 1)), d.data = c.subarray(9 + c[8])), i = "video" === n || s.packetLength <= e.size, (r || i) && (e.size = 0, e.data.length = 0), i && t.trigger("data", s)
                        }
                    };
                nt.prototype.init.call(this), this.push = function(s) {
                    ({
                        pat: function() {},
                        pes: function() {
                            var e, t;
                            switch (s.streamType) {
                                case Ge.H264_STREAM_TYPE:
                                    e = r, t = "video";
                                    break;
                                case Ge.ADTS_STREAM_TYPE:
                                    e = i, t = "audio";
                                    break;
                                case Ge.METADATA_STREAM_TYPE:
                                    e = a, t = "timed-metadata";
                                    break;
                                default:
                                    return
                            }
                            s.payloadUnitStartIndicator && o(e, t, !0), e.data.push(s), e.size += s.data.byteLength
                        },
                        pmt: function() {
                            var r = {
                                type: "metadata",
                                tracks: []
                            };
                            null !== (e = s.programMapTable).video && r.tracks.push({
                                timelineStartInfo: {
                                    baseMediaDecodeTime: 0
                                },
                                id: +e.video,
                                codec: "avc",
                                type: "video"
                            }), null !== e.audio && r.tracks.push({
                                timelineStartInfo: {
                                    baseMediaDecodeTime: 0
                                },
                                id: +e.audio,
                                codec: "adts",
                                type: "audio"
                            }), n = !0, t.trigger("data", r)
                        }
                    })[s.type]()
                }, this.reset = function() {
                    r.size = 0, r.data.length = 0, i.size = 0, i.data.length = 0, this.trigger("reset")
                }, this.flushStreams_ = function() {
                    o(r, "video"), o(i, "audio"), o(a, "timed-metadata")
                }, this.flush = function() {
                    if (!n && e) {
                        var r = {
                            type: "metadata",
                            tracks: []
                        };
                        null !== e.video && r.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +e.video,
                            codec: "avc",
                            type: "video"
                        }), null !== e.audio && r.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +e.audio,
                            codec: "adts",
                            type: "audio"
                        }), t.trigger("data", r)
                    }
                    n = !1, this.flushStreams_(), this.trigger("done")
                }
            }).prototype = new H;
            var ot = {
                PAT_PID: 0,
                MP2T_PACKET_LENGTH: at,
                TransportPacketStream: et,
                TransportParseStream: tt,
                ElementaryStream: nt,
                TimestampRolloverStream: it,
                CaptionStream: He.CaptionStream,
                Cea608Stream: He.Cea608Stream,
                Cea708Stream: He.Cea708Stream,
                MetadataStream: rt
            };
            for (var st in Ge) Ge.hasOwnProperty(st) && (ot[st] = Ge[st]);
            var ut, lt = ot,
                ct = de,
                dt = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
            (ut = function(e) {
                var t, n = 0;
                ut.prototype.init.call(this), this.skipWarn_ = function(e, t) {
                    this.trigger("log", {
                        level: "warn",
                        message: "adts skiping bytes " + e + " to " + t + " in frame " + n + " outside syncword"
                    })
                }, this.push = function(r) {
                    var i, a, o, s, u, l = 0;
                    if (e || (n = 0), "audio" === r.type) {
                        var c;
                        for (t && t.length ? (o = t, (t = new Uint8Array(o.byteLength + r.data.byteLength)).set(o), t.set(r.data, o.byteLength)) : t = r.data; l + 7 < t.length;)
                            if (255 === t[l] && 240 == (246 & t[l + 1])) {
                                if ("number" == typeof c && (this.skipWarn_(c, l), c = null), a = 2 * (1 & ~t[l + 1]), i = (3 & t[l + 3]) << 11 | t[l + 4] << 3 | (224 & t[l + 5]) >> 5, u = (s = 1024 * (1 + (3 & t[l + 6]))) * ct / dt[(60 & t[l + 2]) >>> 2], t.byteLength - l < i) break;
                                this.trigger("data", {
                                    pts: r.pts + n * u,
                                    dts: r.dts + n * u,
                                    sampleCount: s,
                                    audioobjecttype: 1 + (t[l + 2] >>> 6 & 3),
                                    channelcount: (1 & t[l + 2]) << 2 | (192 & t[l + 3]) >>> 6,
                                    samplerate: dt[(60 & t[l + 2]) >>> 2],
                                    samplingfrequencyindex: (60 & t[l + 2]) >>> 2,
                                    samplesize: 16,
                                    data: t.subarray(l + 7 + a, l + i)
                                }), n++, l += i
                            } else "number" != typeof c && (c = l), l++;
                        "number" == typeof c && (this.skipWarn_(c, l), c = null), t = t.subarray(l)
                    }
                }, this.flush = function() {
                    n = 0, this.trigger("done")
                }, this.reset = function() {
                    t = void 0, this.trigger("reset")
                }, this.endTimeline = function() {
                    t = void 0, this.trigger("endedtimeline")
                }
            }).prototype = new H;
            var ht, pt, ft, mt = ut,
                gt = function(e) {
                    var t = e.byteLength,
                        n = 0,
                        r = 0;
                    this.length = function() {
                        return 8 * t
                    }, this.bitsAvailable = function() {
                        return 8 * t + r
                    }, this.loadWord = function() {
                        var i = e.byteLength - t,
                            a = new Uint8Array(4),
                            o = Math.min(4, t);
                        if (0 === o) throw new Error("no bytes available");
                        a.set(e.subarray(i, i + o)), n = new DataView(a.buffer).getUint32(0), r = 8 * o, t -= o
                    }, this.skipBits = function(e) {
                        var i;
                        r > e ? (n <<= e, r -= e) : (e -= r, e -= 8 * (i = Math.floor(e / 8)), t -= i, this.loadWord(), n <<= e, r -= e)
                    }, this.readBits = function(e) {
                        var i = Math.min(r, e),
                            a = n >>> 32 - i;
                        return (r -= i) > 0 ? n <<= i : t > 0 && this.loadWord(), (i = e - i) > 0 ? a << i | this.readBits(i) : a
                    }, this.skipLeadingZeros = function() {
                        var e;
                        for (e = 0; e < r; ++e)
                            if (0 != (n & 2147483648 >>> e)) return n <<= e, r -= e, e;
                        return this.loadWord(), e + this.skipLeadingZeros()
                    }, this.skipUnsignedExpGolomb = function() {
                        this.skipBits(1 + this.skipLeadingZeros())
                    }, this.skipExpGolomb = function() {
                        this.skipBits(1 + this.skipLeadingZeros())
                    }, this.readUnsignedExpGolomb = function() {
                        var e = this.skipLeadingZeros();
                        return this.readBits(e + 1) - 1
                    }, this.readExpGolomb = function() {
                        var e = this.readUnsignedExpGolomb();
                        return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                    }, this.readBoolean = function() {
                        return 1 === this.readBits(1)
                    }, this.readUnsignedByte = function() {
                        return this.readBits(8)
                    }, this.loadWord()
                };
            (pt = function() {
                var e, t, n = 0;
                pt.prototype.init.call(this), this.push = function(r) {
                    var i;
                    t ? ((i = new Uint8Array(t.byteLength + r.data.byteLength)).set(t), i.set(r.data, t.byteLength), t = i) : t = r.data;
                    for (var a = t.byteLength; n < a - 3; n++)
                        if (1 === t[n + 2]) {
                            e = n + 5;
                            break
                        } for (; e < a;) switch (t[e]) {
                        case 0:
                            if (0 !== t[e - 1]) {
                                e += 2;
                                break
                            }
                            if (0 !== t[e - 2]) {
                                e++;
                                break
                            }
                            n + 3 !== e - 2 && this.trigger("data", t.subarray(n + 3, e - 2));
                            do {
                                e++
                            } while (1 !== t[e] && e < a);
                            n = e - 2, e += 3;
                            break;
                        case 1:
                            if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                e += 3;
                                break
                            }
                            this.trigger("data", t.subarray(n + 3, e - 2)), n = e - 2, e += 3;
                            break;
                        default:
                            e += 3
                    }
                    t = t.subarray(n), e -= n, n = 0
                }, this.reset = function() {
                    t = null, n = 0, this.trigger("reset")
                }, this.flush = function() {
                    t && t.byteLength > 3 && this.trigger("data", t.subarray(n + 3)), t = null, n = 0, this.trigger("done")
                }, this.endTimeline = function() {
                    this.flush(), this.trigger("endedtimeline")
                }
            }).prototype = new H, ft = {
                100: !0,
                110: !0,
                122: !0,
                244: !0,
                44: !0,
                83: !0,
                86: !0,
                118: !0,
                128: !0,
                138: !0,
                139: !0,
                134: !0
            }, (ht = function() {
                var e, t, n, r, i, a, o, s = new pt;
                ht.prototype.init.call(this), e = this, this.push = function(e) {
                    "video" === e.type && (t = e.trackId, n = e.pts, r = e.dts, s.push(e))
                }, s.on("data", (function(o) {
                    var s = {
                        trackId: t,
                        pts: n,
                        dts: r,
                        data: o,
                        nalUnitTypeCode: 31 & o[0]
                    };
                    switch (s.nalUnitTypeCode) {
                        case 5:
                            s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                            break;
                        case 6:
                            s.nalUnitType = "sei_rbsp", s.escapedRBSP = i(o.subarray(1));
                            break;
                        case 7:
                            s.nalUnitType = "seq_parameter_set_rbsp", s.escapedRBSP = i(o.subarray(1)), s.config = a(s.escapedRBSP);
                            break;
                        case 8:
                            s.nalUnitType = "pic_parameter_set_rbsp";
                            break;
                        case 9:
                            s.nalUnitType = "access_unit_delimiter_rbsp"
                    }
                    e.trigger("data", s)
                })), s.on("done", (function() {
                    e.trigger("done")
                })), s.on("partialdone", (function() {
                    e.trigger("partialdone")
                })), s.on("reset", (function() {
                    e.trigger("reset")
                })), s.on("endedtimeline", (function() {
                    e.trigger("endedtimeline")
                })), this.flush = function() {
                    s.flush()
                }, this.partialFlush = function() {
                    s.partialFlush()
                }, this.reset = function() {
                    s.reset()
                }, this.endTimeline = function() {
                    s.endTimeline()
                }, o = function(e, t) {
                    var n, r = 8,
                        i = 8;
                    for (n = 0; n < e; n++) 0 !== i && (i = (r + t.readExpGolomb() + 256) % 256), r = 0 === i ? r : i
                }, i = function(e) {
                    for (var t, n, r = e.byteLength, i = [], a = 1; a < r - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (i.push(a + 2), a += 2) : a++;
                    if (0 === i.length) return e;
                    t = r - i.length, n = new Uint8Array(t);
                    var o = 0;
                    for (a = 0; a < t; o++, a++) o === i[0] && (o++, i.shift()), n[a] = e[o];
                    return n
                }, a = function(e) {
                    var t, n, r, i, a, s, u, l, c, d, h, p, f = 0,
                        m = 0,
                        g = 0,
                        y = 0,
                        v = [1, 1];
                    if (n = (t = new gt(e)).readUnsignedByte(), i = t.readUnsignedByte(), r = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), ft[n] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                        for (h = 3 !== a ? 8 : 12, p = 0; p < h; p++) t.readBoolean() && o(p < 6 ? 16 : 64, t);
                    if (t.skipUnsignedExpGolomb(), 0 === (s = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                    else if (1 === s)
                        for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), u = t.readUnsignedExpGolomb(), p = 0; p < u; p++) t.skipExpGolomb();
                    if (t.skipUnsignedExpGolomb(), t.skipBits(1), l = t.readUnsignedExpGolomb(), c = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (f = t.readUnsignedExpGolomb(), m = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                        switch (t.readUnsignedByte()) {
                            case 1:
                                v = [1, 1];
                                break;
                            case 2:
                                v = [12, 11];
                                break;
                            case 3:
                                v = [10, 11];
                                break;
                            case 4:
                                v = [16, 11];
                                break;
                            case 5:
                                v = [40, 33];
                                break;
                            case 6:
                                v = [24, 11];
                                break;
                            case 7:
                                v = [20, 11];
                                break;
                            case 8:
                                v = [32, 11];
                                break;
                            case 9:
                                v = [80, 33];
                                break;
                            case 10:
                                v = [18, 11];
                                break;
                            case 11:
                                v = [15, 11];
                                break;
                            case 12:
                                v = [64, 33];
                                break;
                            case 13:
                                v = [160, 99];
                                break;
                            case 14:
                                v = [4, 3];
                                break;
                            case 15:
                                v = [3, 2];
                                break;
                            case 16:
                                v = [2, 1];
                                break;
                            case 255:
                                v = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                        }
                        v && (v[0], v[1])
                    }
                    return {
                        profileIdc: n,
                        levelIdc: r,
                        profileCompatibility: i,
                        width: 16 * (l + 1) - 2 * f - 2 * m,
                        height: (2 - d) * (c + 1) * 16 - 2 * g - 2 * y,
                        sarRatio: v
                    }
                }
            }).prototype = new H;
            var yt, vt = {
                    H264Stream: ht,
                    NalByteStream: pt
                },
                bt = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
                Tt = function(e, t) {
                    var n = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                    return n = n >= 0 ? n : 0, (16 & e[t + 5]) >> 4 ? n + 20 : n + 10
                },
                _t = function e(t, n) {
                    return t.length - n < 10 || t[n] !== "I".charCodeAt(0) || t[n + 1] !== "D".charCodeAt(0) || t[n + 2] !== "3".charCodeAt(0) ? n : e(t, n += Tt(t, n))
                },
                St = function(e) {
                    return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                },
                wt = function(e, t, n) {
                    return unescape(function(e, t, n) {
                        var r, i = "";
                        for (r = t; r < n; r++) i += "%" + ("00" + e[r].toString(16)).slice(-2);
                        return i
                    }(e, t, n))
                },
                At = {
                    isLikelyAacData: function(e) {
                        var t = _t(e, 0);
                        return e.length >= t + 2 && 255 == (255 & e[t]) && 240 == (240 & e[t + 1]) && 16 == (22 & e[t + 1])
                    },
                    parseId3TagSize: Tt,
                    parseAdtsSize: function(e, t) {
                        var n = (224 & e[t + 5]) >> 5,
                            r = e[t + 4] << 3;
                        return 6144 & e[t + 3] | r | n
                    },
                    parseType: function(e, t) {
                        return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null
                    },
                    parseSampleRate: function(e) {
                        for (var t = 0; t + 5 < e.length;) {
                            if (255 === e[t] && 240 == (246 & e[t + 1])) return bt[(60 & e[t + 2]) >>> 2];
                            t++
                        }
                        return null
                    },
                    parseAacTimestamp: function(e) {
                        var t, n, r;
                        t = 10, 64 & e[5] && (t += 4, t += St(e.subarray(10, 14)));
                        do {
                            if ((n = St(e.subarray(t + 4, t + 8))) < 1) return null;
                            if ("PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])) {
                                r = e.subarray(t + 10, t + n + 10);
                                for (var i = 0; i < r.byteLength; i++)
                                    if (0 === r[i]) {
                                        if ("com.apple.streaming.transportStreamTimestamp" === wt(r, 0, i)) {
                                            var a = r.subarray(i + 1),
                                                o = (1 & a[3]) << 30 | a[4] << 22 | a[5] << 14 | a[6] << 6 | a[7] >>> 2;
                                            return o *= 4, o += 3 & a[7]
                                        }
                                        break
                                    }
                            }
                            t += 10, t += n
                        } while (t < e.byteLength);
                        return null
                    }
                };
            (yt = function() {
                var e = new Uint8Array,
                    t = 0;
                yt.prototype.init.call(this), this.setTimestamp = function(e) {
                    t = e
                }, this.push = function(n) {
                    var r, i, a, o, s = 0,
                        u = 0;
                    for (e.length ? (o = e.length, (e = new Uint8Array(n.byteLength + o)).set(e.subarray(0, o)), e.set(n, o)) : e = n; e.length - u >= 3;)
                        if (e[u] !== "I".charCodeAt(0) || e[u + 1] !== "D".charCodeAt(0) || e[u + 2] !== "3".charCodeAt(0))
                            if (255 != (255 & e[u]) || 240 != (240 & e[u + 1])) u++;
                            else {
                                if (e.length - u < 7) break;
                                if (u + (s = At.parseAdtsSize(e, u)) > e.length) break;
                                a = {
                                    type: "audio",
                                    data: e.subarray(u, u + s),
                                    pts: t,
                                    dts: t
                                }, this.trigger("data", a), u += s
                            }
                    else {
                        if (e.length - u < 10) break;
                        if (u + (s = At.parseId3TagSize(e, u)) > e.length) break;
                        i = {
                            type: "timed-metadata",
                            data: e.subarray(u, u + s)
                        }, this.trigger("data", i), u += s
                    }
                    r = e.length - u, e = r > 0 ? e.subarray(u) : new Uint8Array
                }, this.reset = function() {
                    e = new Uint8Array, this.trigger("reset")
                }, this.endTimeline = function() {
                    e = new Uint8Array, this.trigger("endedtimeline")
                }
            }).prototype = new H;
            var Et, Ct, Pt, kt, xt = yt,
                It = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
                Mt = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility", "sarRatio"],
                Lt = vt.H264Stream,
                Dt = At.isLikelyAacData,
                Ot = de,
                Rt = function(e, t) {
                    var n;
                    if (e.length !== t.length) return !1;
                    for (n = 0; n < e.length; n++)
                        if (e[n] !== t[n]) return !1;
                    return !0
                },
                Nt = function(e, t, n, r, i, a) {
                    return {
                        start: {
                            dts: e,
                            pts: e + (n - t)
                        },
                        end: {
                            dts: e + (r - t),
                            pts: e + (i - n)
                        },
                        prependedContentDuration: a,
                        baseMediaDecodeTime: e
                    }
                };
            (Ct = function(e, t) {
                var n = [],
                    r = 0,
                    i = 0,
                    a = 0,
                    o = 1 / 0;
                t = t || {}, Ct.prototype.init.call(this), this.push = function(t) {
                    Ae(e, t), e && It.forEach((function(n) {
                        e[n] = t[n]
                    })), n.push(t)
                }, this.setEarliestDts = function(e) {
                    i = e
                }, this.setVideoBaseMediaDecodeTime = function(e) {
                    o = e
                }, this.setAudioAppendStart = function(e) {
                    a = e
                }, this.flush = function() {
                    var s, u, l, c, d, h, p;
                    0 !== n.length ? (s = ve(n, e, i), e.baseMediaDecodeTime = we(e, t.keepOriginalTimestamps), p = ye(e, s, a, o), e.samples = be(s), l = $(Te(s)), n = [], u = J(r, [e]), c = new Uint8Array(u.byteLength + l.byteLength), r++, c.set(u), c.set(l, u.byteLength), Se(e), d = Math.ceil(1024 * Ot / e.samplerate), s.length && (h = s.length * d, this.trigger("segmentTimingInfo", Nt(fe(e.baseMediaDecodeTime, e.samplerate), s[0].dts, s[0].pts, s[0].dts + h, s[0].pts + h, p || 0)), this.trigger("timingInfo", {
                        start: s[0].pts,
                        end: s[0].pts + h
                    })), this.trigger("data", {
                        track: e,
                        boxes: c
                    }), this.trigger("done", "AudioSegmentStream")) : this.trigger("done", "AudioSegmentStream")
                }, this.reset = function() {
                    Se(e), n = [], this.trigger("reset")
                }
            }).prototype = new H, (Et = function(e, t) {
                var n, r, i = 0,
                    a = [],
                    o = [];
                t = t || {}, Et.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.push = function(t) {
                    Ae(e, t), "seq_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.config, e.sps = [t.data], Mt.forEach((function(t) {
                        e[t] = n[t]
                    }), this)), "pic_parameter_set_rbsp" !== t.nalUnitType || r || (r = t.data, e.pps = [t.data]), a.push(t)
                }, this.flush = function() {
                    for (var n, r, s, u, l, c, d, h, p = 0; a.length && "access_unit_delimiter_rbsp" !== a[0].nalUnitType;) a.shift();
                    if (0 === a.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                    if (n = te(a), (s = ne(n))[0][0].keyFrame || ((r = this.getGopForFusion_(a[0], e)) ? (p = r.duration, s.unshift(r), s.byteLength += r.byteLength, s.nalCount += r.nalCount, s.pts = r.pts, s.dts = r.dts, s.duration += r.duration) : s = re(s)), o.length) {
                        var f;
                        if (!(f = t.alignGopsAtEnd ? this.alignGopsAtEnd_(s) : this.alignGopsAtStart_(s))) return this.gopCache_.unshift({
                            gop: s.pop(),
                            pps: e.pps,
                            sps: e.sps
                        }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                        Se(e), s = f
                    }
                    Ae(e, s), e.samples = ie(s), l = $(ae(s)), e.baseMediaDecodeTime = we(e, t.keepOriginalTimestamps), this.trigger("processedGopsInfo", s.map((function(e) {
                        return {
                            pts: e.pts,
                            dts: e.dts,
                            byteLength: e.byteLength
                        }
                    }))), d = s[0], h = s[s.length - 1], this.trigger("segmentTimingInfo", Nt(e.baseMediaDecodeTime, d.dts, d.pts, h.dts + h.duration, h.pts + h.duration, p)), this.trigger("timingInfo", {
                        start: s[0].pts,
                        end: s[s.length - 1].pts + s[s.length - 1].duration
                    }), this.gopCache_.unshift({
                        gop: s.pop(),
                        pps: e.pps,
                        sps: e.sps
                    }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), u = J(i, [e]), c = new Uint8Array(u.byteLength + l.byteLength), i++, c.set(u), c.set(l, u.byteLength), this.trigger("data", {
                        track: e,
                        boxes: c
                    }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
                }, this.reset = function() {
                    this.resetStream_(), a = [], this.gopCache_.length = 0, o.length = 0, this.trigger("reset")
                }, this.resetStream_ = function() {
                    Se(e), n = void 0, r = void 0
                }, this.getGopForFusion_ = function(t) {
                    var n, r, i, a, o, s = 1 / 0;
                    for (o = 0; o < this.gopCache_.length; o++) i = (a = this.gopCache_[o]).gop, e.pps && Rt(e.pps[0], a.pps[0]) && e.sps && Rt(e.sps[0], a.sps[0]) && (i.dts < e.timelineStartInfo.dts || (n = t.dts - i.dts - i.duration) >= -1e4 && n <= 45e3 && (!r || s > n) && (r = a, s = n));
                    return r ? r.gop : null
                }, this.alignGopsAtStart_ = function(e) {
                    var t, n, r, i, a, s, u, l;
                    for (a = e.byteLength, s = e.nalCount, u = e.duration, t = n = 0; t < o.length && n < e.length && (r = o[t], i = e[n], r.pts !== i.pts);) i.pts > r.pts ? t++ : (n++, a -= i.byteLength, s -= i.nalCount, u -= i.duration);
                    return 0 === n ? e : n === e.length ? null : ((l = e.slice(n)).byteLength = a, l.duration = u, l.nalCount = s, l.pts = l[0].pts, l.dts = l[0].dts, l)
                }, this.alignGopsAtEnd_ = function(e) {
                    var t, n, r, i, a, s, u;
                    for (t = o.length - 1, n = e.length - 1, a = null, s = !1; t >= 0 && n >= 0;) {
                        if (r = o[t], i = e[n], r.pts === i.pts) {
                            s = !0;
                            break
                        }
                        r.pts > i.pts ? t-- : (t === o.length - 1 && (a = n), n--)
                    }
                    if (!s && null === a) return null;
                    if (0 === (u = s ? n : a)) return e;
                    var l = e.slice(u),
                        c = l.reduce((function(e, t) {
                            return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                        }), {
                            byteLength: 0,
                            duration: 0,
                            nalCount: 0
                        });
                    return l.byteLength = c.byteLength, l.duration = c.duration, l.nalCount = c.nalCount, l.pts = l[0].pts, l.dts = l[0].dts, l
                }, this.alignGopsWith = function(e) {
                    o = e
                }
            }).prototype = new H, (kt = function(e, t) {
                this.numberOfTracks = 0, this.metadataStream = t, void 0 !== (e = e || {}).remux ? this.remuxTracks = !!e.remux : this.remuxTracks = !0, "boolean" == typeof e.keepOriginalTimestamps ? this.keepOriginalTimestamps = e.keepOriginalTimestamps : this.keepOriginalTimestamps = !1, this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, kt.prototype.init.call(this), this.push = function(e) {
                    return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), this.pendingBytes += e.boxes.byteLength, "video" === e.track.type && (this.videoTrack = e.track, this.pendingBoxes.push(e.boxes)), void("audio" === e.track.type && (this.audioTrack = e.track, this.pendingBoxes.unshift(e.boxes))))
                }
            }).prototype = new H, kt.prototype.flush = function(e) {
                var t, n, r, i, a = 0,
                    o = {
                        captions: [],
                        captionStreams: {},
                        metadata: [],
                        info: {}
                    },
                    s = 0;
                if (this.pendingTracks.length < this.numberOfTracks) {
                    if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                    if (this.remuxTracks) return;
                    if (0 === this.pendingTracks.length) return this.emittedTracks++, void(this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
                }
                if (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts, Mt.forEach((function(e) {
                        o.info[e] = this.videoTrack[e]
                    }), this)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts, It.forEach((function(e) {
                        o.info[e] = this.audioTrack[e]
                    }), this)), this.videoTrack || this.audioTrack) {
                    for (1 === this.pendingTracks.length ? o.type = this.pendingTracks[0].type : o.type = "combined", this.emittedTracks += this.pendingTracks.length, r = Z(this.pendingTracks), o.initSegment = new Uint8Array(r.byteLength), o.initSegment.set(r), o.data = new Uint8Array(this.pendingBytes), i = 0; i < this.pendingBoxes.length; i++) o.data.set(this.pendingBoxes[i], a), a += this.pendingBoxes[i].byteLength;
                    for (i = 0; i < this.pendingCaptions.length; i++)(t = this.pendingCaptions[i]).startTime = ge(t.startPts, s, this.keepOriginalTimestamps), t.endTime = ge(t.endPts, s, this.keepOriginalTimestamps), o.captionStreams[t.stream] = !0, o.captions.push(t);
                    for (i = 0; i < this.pendingMetadata.length; i++)(n = this.pendingMetadata[i]).cueTime = ge(n.pts, s, this.keepOriginalTimestamps), o.metadata.push(n);
                    for (o.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", o), i = 0; i < o.captions.length; i++) t = o.captions[i], this.trigger("caption", t);
                    for (i = 0; i < o.metadata.length; i++) n = o.metadata[i], this.trigger("id3Frame", n)
                }
                this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
            }, kt.prototype.setRemux = function(e) {
                this.remuxTracks = e
            }, (Pt = function(e) {
                var t, n, r = this,
                    i = !0;
                Pt.prototype.init.call(this), e = e || {}, this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function() {
                    var i = {};
                    this.transmuxPipeline_ = i, i.type = "aac", i.metadataStream = new lt.MetadataStream, i.aacStream = new xt, i.audioTimestampRolloverStream = new lt.TimestampRolloverStream("audio"), i.timedMetadataTimestampRolloverStream = new lt.TimestampRolloverStream("timed-metadata"), i.adtsStream = new mt, i.coalesceStream = new kt(e, i.metadataStream), i.headOfPipeline = i.aacStream, i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream), i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream), i.metadataStream.on("timestamp", (function(e) {
                        i.aacStream.setTimestamp(e.timeStamp)
                    })), i.aacStream.on("data", (function(a) {
                        "timed-metadata" !== a.type && "audio" !== a.type || i.audioSegmentStream || (n = n || {
                            timelineStartInfo: {
                                baseMediaDecodeTime: r.baseMediaDecodeTime
                            },
                            codec: "adts",
                            type: "audio"
                        }, i.coalesceStream.numberOfTracks++, i.audioSegmentStream = new Ct(n, e), i.audioSegmentStream.on("log", r.getLogTrigger_("audioSegmentStream")), i.audioSegmentStream.on("timingInfo", r.trigger.bind(r, "audioTimingInfo")), i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream), r.trigger("trackinfo", {
                            hasAudio: !!n,
                            hasVideo: !!t
                        }))
                    })), i.coalesceStream.on("data", this.trigger.bind(this, "data")), i.coalesceStream.on("done", this.trigger.bind(this, "done"))
                }, this.setupTsPipeline = function() {
                    var i = {};
                    this.transmuxPipeline_ = i, i.type = "ts", i.metadataStream = new lt.MetadataStream, i.packetStream = new lt.TransportPacketStream, i.parseStream = new lt.TransportParseStream, i.elementaryStream = new lt.ElementaryStream, i.timestampRolloverStream = new lt.TimestampRolloverStream, i.adtsStream = new mt, i.h264Stream = new Lt, i.captionStream = new lt.CaptionStream(e), i.coalesceStream = new kt(e, i.metadataStream), i.headOfPipeline = i.packetStream, i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream), i.timestampRolloverStream.pipe(i.h264Stream), i.timestampRolloverStream.pipe(i.adtsStream), i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream), i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream), i.elementaryStream.on("data", (function(a) {
                        var o;
                        if ("metadata" === a.type) {
                            for (o = a.tracks.length; o--;) t || "video" !== a.tracks[o].type ? n || "audio" !== a.tracks[o].type || ((n = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = r.baseMediaDecodeTime) : (t = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = r.baseMediaDecodeTime;
                            t && !i.videoSegmentStream && (i.coalesceStream.numberOfTracks++, i.videoSegmentStream = new Et(t, e), i.videoSegmentStream.on("log", r.getLogTrigger_("videoSegmentStream")), i.videoSegmentStream.on("timelineStartInfo", (function(t) {
                                n && !e.keepOriginalTimestamps && (n.timelineStartInfo = t, i.audioSegmentStream.setEarliestDts(t.dts - r.baseMediaDecodeTime))
                            })), i.videoSegmentStream.on("processedGopsInfo", r.trigger.bind(r, "gopInfo")), i.videoSegmentStream.on("segmentTimingInfo", r.trigger.bind(r, "videoSegmentTimingInfo")), i.videoSegmentStream.on("baseMediaDecodeTime", (function(e) {
                                n && i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                            })), i.videoSegmentStream.on("timingInfo", r.trigger.bind(r, "videoTimingInfo")), i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)), n && !i.audioSegmentStream && (i.coalesceStream.numberOfTracks++, i.audioSegmentStream = new Ct(n, e), i.audioSegmentStream.on("log", r.getLogTrigger_("audioSegmentStream")), i.audioSegmentStream.on("timingInfo", r.trigger.bind(r, "audioTimingInfo")), i.audioSegmentStream.on("segmentTimingInfo", r.trigger.bind(r, "audioSegmentTimingInfo")), i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)), r.trigger("trackinfo", {
                                hasAudio: !!n,
                                hasVideo: !!t
                            })
                        }
                    })), i.coalesceStream.on("data", this.trigger.bind(this, "data")), i.coalesceStream.on("id3Frame", (function(e) {
                        e.dispatchType = i.metadataStream.dispatchType, r.trigger("id3Frame", e)
                    })), i.coalesceStream.on("caption", this.trigger.bind(this, "caption")), i.coalesceStream.on("done", this.trigger.bind(this, "done"))
                }, this.setBaseMediaDecodeTime = function(r) {
                    var i = this.transmuxPipeline_;
                    e.keepOriginalTimestamps || (this.baseMediaDecodeTime = r), n && (n.timelineStartInfo.dts = void 0, n.timelineStartInfo.pts = void 0, Se(n), i.audioTimestampRolloverStream && i.audioTimestampRolloverStream.discontinuity()), t && (i.videoSegmentStream && (i.videoSegmentStream.gopCache_ = []), t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, Se(t), i.captionStream.reset()), i.timestampRolloverStream && i.timestampRolloverStream.discontinuity()
                }, this.setAudioAppendStart = function(e) {
                    n && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
                }, this.setRemux = function(t) {
                    var n = this.transmuxPipeline_;
                    e.remux = t, n && n.coalesceStream && n.coalesceStream.setRemux(t)
                }, this.alignGopsWith = function(e) {
                    t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
                }, this.getLogTrigger_ = function(e) {
                    var t = this;
                    return function(n) {
                        n.stream = e, t.trigger("log", n)
                    }
                }, this.push = function(e) {
                    if (i) {
                        var t = Dt(e);
                        if (t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), this.transmuxPipeline_)
                            for (var n = Object.keys(this.transmuxPipeline_), r = 0; r < n.length; r++) {
                                var a = n[r];
                                "headOfPipeline" !== a && this.transmuxPipeline_[a].on && this.transmuxPipeline_[a].on("log", this.getLogTrigger_(a))
                            }
                        i = !1
                    }
                    this.transmuxPipeline_.headOfPipeline.push(e)
                }, this.flush = function() {
                    i = !0, this.transmuxPipeline_.headOfPipeline.flush()
                }, this.endTimeline = function() {
                    this.transmuxPipeline_.headOfPipeline.endTimeline()
                }, this.reset = function() {
                    this.transmuxPipeline_.headOfPipeline && this.transmuxPipeline_.headOfPipeline.reset()
                }, this.resetCaptions = function() {
                    this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
                }
            }).prototype = new H;
            var Bt, Ut, Ft, jt = {
                    Transmuxer: Pt,
                    VideoSegmentStream: Et,
                    AudioSegmentStream: Ct,
                    AUDIO_PROPERTIES: It,
                    VIDEO_PROPERTIES: Mt,
                    generateSegmentTimingInfo: Nt
                },
                Ht = function(e) {
                    return e >>> 0
                },
                Gt = function(e) {
                    var t = "";
                    return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), t += String.fromCharCode(e[2]), t += String.fromCharCode(e[3])
                },
                Vt = Ht,
                Wt = function e(t, n) {
                    var r, i, a, o, s, u = [];
                    if (!n.length) return null;
                    for (r = 0; r < t.byteLength;) i = Vt(t[r] << 24 | t[r + 1] << 16 | t[r + 2] << 8 | t[r + 3]), a = Gt(t.subarray(r + 4, r + 8)), o = i > 1 ? r + i : t.byteLength, a === n[0] && (1 === n.length ? u.push(t.subarray(r + 8, o)) : (s = e(t.subarray(r + 8, o), n.slice(1))).length && (u = u.concat(s))), r = o;
                    return u
                },
                qt = Ht,
                zt = function(e) {
                    var t = {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        baseMediaDecodeTime: qt(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7])
                    };
                    return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += qt(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), t
                },
                Xt = function(e) {
                    return {
                        isLeading: (12 & e[0]) >>> 2,
                        dependsOn: 3 & e[0],
                        isDependedOn: (192 & e[1]) >>> 6,
                        hasRedundancy: (48 & e[1]) >>> 4,
                        paddingValue: (14 & e[1]) >>> 1,
                        isNonSyncSample: 1 & e[1],
                        degradationPriority: e[2] << 8 | e[3]
                    }
                },
                Kt = function(e) {
                    var t, n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            samples: []
                        },
                        r = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = 1 & n.flags[2],
                        a = 4 & n.flags[2],
                        o = 1 & n.flags[1],
                        s = 2 & n.flags[1],
                        u = 4 & n.flags[1],
                        l = 8 & n.flags[1],
                        c = r.getUint32(4),
                        d = 8;
                    for (i && (n.dataOffset = r.getInt32(d), d += 4), a && c && (t = {
                            flags: Xt(e.subarray(d, d + 4))
                        }, d += 4, o && (t.duration = r.getUint32(d), d += 4), s && (t.size = r.getUint32(d), d += 4), l && (1 === n.version ? t.compositionTimeOffset = r.getInt32(d) : t.compositionTimeOffset = r.getUint32(d), d += 4), n.samples.push(t), c--); c--;) t = {}, o && (t.duration = r.getUint32(d), d += 4), s && (t.size = r.getUint32(d), d += 4), u && (t.flags = Xt(e.subarray(d, d + 4)), d += 4), l && (1 === n.version ? t.compositionTimeOffset = r.getInt32(d) : t.compositionTimeOffset = r.getUint32(d), d += 4), n.samples.push(t);
                    return n
                },
                Yt = function(e) {
                    var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        r = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            trackId: n.getUint32(4)
                        },
                        i = 1 & r.flags[2],
                        a = 2 & r.flags[2],
                        o = 8 & r.flags[2],
                        s = 16 & r.flags[2],
                        u = 32 & r.flags[2],
                        l = 65536 & r.flags[0],
                        c = 131072 & r.flags[0];
                    return t = 8, i && (t += 4, r.baseDataOffset = n.getUint32(12), t += 4), a && (r.sampleDescriptionIndex = n.getUint32(t), t += 4), o && (r.defaultSampleDuration = n.getUint32(t), t += 4), s && (r.defaultSampleSize = n.getUint32(t), t += 4), u && (r.defaultSampleFlags = n.getUint32(t)), l && (r.durationIsEmpty = !0), !i && c && (r.baseDataOffsetIsMoof = !0), r
                },
                Qt = ke,
                $t = He.CaptionStream,
                Jt = function(e, t) {
                    for (var n = e, r = 0; r < t.length; r++) {
                        var i = t[r];
                        if (n < i.size) return i;
                        n -= i.size
                    }
                    return null
                },
                Zt = function(e, t) {
                    var n = Wt(e, ["moof", "traf"]),
                        r = Wt(e, ["mdat"]),
                        i = {},
                        a = [];
                    return r.forEach((function(e, t) {
                        var r = n[t];
                        a.push({
                            mdat: e,
                            traf: r
                        })
                    })), a.forEach((function(e) {
                        var n, r = e.mdat,
                            a = e.traf,
                            o = Wt(a, ["tfhd"]),
                            s = Yt(o[0]),
                            u = s.trackId,
                            l = Wt(a, ["tfdt"]),
                            c = l.length > 0 ? zt(l[0]).baseMediaDecodeTime : 0,
                            d = Wt(a, ["trun"]);
                        t === u && d.length > 0 && (n = function(e, t, n) {
                            var r, i, a, o, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                u = {
                                    logs: [],
                                    seiNals: []
                                };
                            for (i = 0; i + 4 < e.length; i += a)
                                if (a = s.getUint32(i), i += 4, !(a <= 0)) switch (31 & e[i]) {
                                    case 6:
                                        var l = e.subarray(i + 1, i + 1 + a),
                                            c = Jt(i, t);
                                        if (r = {
                                                nalUnitType: "sei_rbsp",
                                                size: a,
                                                data: l,
                                                escapedRBSP: Qt(l),
                                                trackId: n
                                            }, c) r.pts = c.pts, r.dts = c.dts, o = c;
                                        else {
                                            if (!o) {
                                                u.logs.push({
                                                    level: "warn",
                                                    message: "We've encountered a nal unit without data at " + i + " for trackId " + n + ". See mux.js#223."
                                                });
                                                break
                                            }
                                            r.pts = o.pts, r.dts = o.dts
                                        }
                                        u.seiNals.push(r)
                                }
                            return u
                        }(r, function(e, t, n) {
                            var r = t,
                                i = n.defaultSampleDuration || 0,
                                a = n.defaultSampleSize || 0,
                                o = n.trackId,
                                s = [];
                            return e.forEach((function(e) {
                                var t = Kt(e).samples;
                                t.forEach((function(e) {
                                    void 0 === e.duration && (e.duration = i), void 0 === e.size && (e.size = a), e.trackId = o, e.dts = r, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = r + e.compositionTimeOffset, r += e.duration
                                })), s = s.concat(t)
                            })), s
                        }(d, c, s), u), i[u] || (i[u] = {
                            seiNals: [],
                            logs: []
                        }), i[u].seiNals = i[u].seiNals.concat(n.seiNals), i[u].logs = i[u].logs.concat(n.logs))
                    })), i
                },
                en = function() {
                    var e, t, n, r, i, a, o = !1;
                    this.isInitialized = function() {
                        return o
                    }, this.init = function(t) {
                        e = new $t, o = !0, a = !!t && t.isPartial, e.on("data", (function(e) {
                            e.startTime = e.startPts / r, e.endTime = e.endPts / r, i.captions.push(e), i.captionStreams[e.stream] = !0
                        })), e.on("log", (function(e) {
                            i.logs.push(e)
                        }))
                    }, this.isNewInit = function(e, t) {
                        return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length) && (n !== e[0] || r !== t[n])
                    }, this.parse = function(e, a, o) {
                        var s;
                        if (!this.isInitialized()) return null;
                        if (!a || !o) return null;
                        if (this.isNewInit(a, o)) n = a[0], r = o[n];
                        else if (null === n || !r) return t.push(e), null;
                        for (; t.length > 0;) {
                            var u = t.shift();
                            this.parse(u, a, o)
                        }
                        return (s = function(e, t, n) {
                            if (null === t) return null;
                            var r = Zt(e, t)[t] || {};
                            return {
                                seiNals: r.seiNals,
                                logs: r.logs,
                                timescale: n
                            }
                        }(e, n, r)) && s.logs && (i.logs = i.logs.concat(s.logs)), null !== s && s.seiNals ? (this.pushNals(s.seiNals), this.flushStream(), i) : i.logs.length ? {
                            logs: i.logs,
                            captions: [],
                            captionStreams: []
                        } : null
                    }, this.pushNals = function(t) {
                        if (!this.isInitialized() || !t || 0 === t.length) return null;
                        t.forEach((function(t) {
                            e.push(t)
                        }))
                    }, this.flushStream = function() {
                        if (!this.isInitialized()) return null;
                        a ? e.partialFlush() : e.flush()
                    }, this.clearParsedCaptions = function() {
                        i.captions = [], i.captionStreams = {}, i.logs = []
                    }, this.resetCaptionStream = function() {
                        if (!this.isInitialized()) return null;
                        e.reset()
                    }, this.clearAllCaptions = function() {
                        this.clearParsedCaptions(), this.resetCaptionStream()
                    }, this.reset = function() {
                        t = [], n = null, r = null, i ? this.clearParsedCaptions() : i = {
                            captions: [],
                            captionStreams: {},
                            logs: []
                        }, this.resetCaptionStream()
                    }, this.reset()
                },
                tn = Ht,
                nn = function(e) {
                    return ("00" + e.toString(16)).slice(-2)
                };
            Bt = function(e, t) {
                var n, r, i;
                return n = Wt(t, ["moof", "traf"]), r = [].concat.apply([], n.map((function(t) {
                    return Wt(t, ["tfhd"]).map((function(n) {
                        var r, i, a;
                        return r = tn(n[4] << 24 | n[5] << 16 | n[6] << 8 | n[7]), i = e[r] || 9e4, (a = "number" != typeof(a = Wt(t, ["tfdt"]).map((function(e) {
                            var t, n;
                            return t = e[0], n = tn(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (n *= Math.pow(2, 32), n += tn(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), n
                        }))[0]) || isNaN(a) ? 1 / 0 : a) / i
                    }))
                }))), i = Math.min.apply(null, r), isFinite(i) ? i : 0
            }, Ut = function(e) {
                var t = Wt(e, ["moov", "trak"]),
                    n = [];
                return t.forEach((function(e) {
                    var t, r, i = {},
                        a = Wt(e, ["tkhd"])[0];
                    a && (r = (t = new DataView(a.buffer, a.byteOffset, a.byteLength)).getUint8(0), i.id = 0 === r ? t.getUint32(12) : t.getUint32(20));
                    var o = Wt(e, ["mdia", "hdlr"])[0];
                    if (o) {
                        var s = Gt(o.subarray(8, 12));
                        i.type = "vide" === s ? "video" : "soun" === s ? "audio" : s
                    }
                    var u = Wt(e, ["mdia", "minf", "stbl", "stsd"])[0];
                    if (u) {
                        var l = u.subarray(8);
                        i.codec = Gt(l.subarray(4, 8));
                        var c, d = Wt(l, [i.codec])[0];
                        d && (/^[a-z]vc[1-9]$/i.test(i.codec) ? (c = d.subarray(78), "avcC" === Gt(c.subarray(4, 8)) && c.length > 11 ? (i.codec += ".", i.codec += nn(c[9]), i.codec += nn(c[10]), i.codec += nn(c[11])) : i.codec = "avc1.4d400d") : /^mp4[a,v]$/i.test(i.codec) ? (c = d.subarray(28), "esds" === Gt(c.subarray(4, 8)) && c.length > 20 && 0 !== c[19] ? (i.codec += "." + nn(c[19]), i.codec += "." + nn(c[20] >>> 2 & 63).replace(/^0/, "")) : i.codec = "mp4a.40.2") : i.codec = i.codec.toLowerCase())
                    }
                    var h = Wt(e, ["mdia", "mdhd"])[0];
                    h && (i.timescale = Ft(h)), n.push(i)
                })), n
            };
            var rn = Bt,
                an = Ut,
                on = (Ft = function(e) {
                    var t = 0 === e[0] ? 12 : 20;
                    return tn(e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3])
                }, function(e) {
                    var t = 31 & e[1];
                    return t <<= 8, t |= e[2]
                }),
                sn = function(e) {
                    return !!(64 & e[1])
                },
                un = function(e) {
                    var t = 0;
                    return (48 & e[3]) >>> 4 > 1 && (t += e[4] + 1), t
                },
                ln = function(e) {
                    switch (e) {
                        case 5:
                            return "slice_layer_without_partitioning_rbsp_idr";
                        case 6:
                            return "sei_rbsp";
                        case 7:
                            return "seq_parameter_set_rbsp";
                        case 8:
                            return "pic_parameter_set_rbsp";
                        case 9:
                            return "access_unit_delimiter_rbsp";
                        default:
                            return null
                    }
                },
                cn = {
                    parseType: function(e, t) {
                        var n = on(e);
                        return 0 === n ? "pat" : n === t ? "pmt" : t ? "pes" : null
                    },
                    parsePat: function(e) {
                        var t = sn(e),
                            n = 4 + un(e);
                        return t && (n += e[n] + 1), (31 & e[n + 10]) << 8 | e[n + 11]
                    },
                    parsePmt: function(e) {
                        var t = {},
                            n = sn(e),
                            r = 4 + un(e);
                        if (n && (r += e[r] + 1), 1 & e[r + 5]) {
                            var i;
                            i = 3 + ((15 & e[r + 1]) << 8 | e[r + 2]) - 4;
                            for (var a = 12 + ((15 & e[r + 10]) << 8 | e[r + 11]); a < i;) {
                                var o = r + a;
                                t[(31 & e[o + 1]) << 8 | e[o + 2]] = e[o], a += 5 + ((15 & e[o + 3]) << 8 | e[o + 4])
                            }
                            return t
                        }
                    },
                    parsePayloadUnitStartIndicator: sn,
                    parsePesType: function(e, t) {
                        switch (t[on(e)]) {
                            case Ge.H264_STREAM_TYPE:
                                return "video";
                            case Ge.ADTS_STREAM_TYPE:
                                return "audio";
                            case Ge.METADATA_STREAM_TYPE:
                                return "timed-metadata";
                            default:
                                return null
                        }
                    },
                    parsePesTime: function(e) {
                        if (!sn(e)) return null;
                        var t = 4 + un(e);
                        if (t >= e.byteLength) return null;
                        var n, r = null;
                        return 192 & (n = e[t + 7]) && ((r = {}).pts = (14 & e[t + 9]) << 27 | (255 & e[t + 10]) << 20 | (254 & e[t + 11]) << 12 | (255 & e[t + 12]) << 5 | (254 & e[t + 13]) >>> 3, r.pts *= 4, r.pts += (6 & e[t + 13]) >>> 1, r.dts = r.pts, 64 & n && (r.dts = (14 & e[t + 14]) << 27 | (255 & e[t + 15]) << 20 | (254 & e[t + 16]) << 12 | (255 & e[t + 17]) << 5 | (254 & e[t + 18]) >>> 3, r.dts *= 4, r.dts += (6 & e[t + 18]) >>> 1)), r
                    },
                    videoPacketContainsKeyFrame: function(e) {
                        for (var t = 4 + un(e), n = e.subarray(t), r = 0, i = 0, a = !1; i < n.byteLength - 3; i++)
                            if (1 === n[i + 2]) {
                                r = i + 5;
                                break
                            } for (; r < n.byteLength;) switch (n[r]) {
                            case 0:
                                if (0 !== n[r - 1]) {
                                    r += 2;
                                    break
                                }
                                if (0 !== n[r - 2]) {
                                    r++;
                                    break
                                }
                                i + 3 !== r - 2 && "slice_layer_without_partitioning_rbsp_idr" === ln(31 & n[i + 3]) && (a = !0);
                                do {
                                    r++
                                } while (1 !== n[r] && r < n.length);
                                i = r - 2, r += 3;
                                break;
                            case 1:
                                if (0 !== n[r - 1] || 0 !== n[r - 2]) {
                                    r += 3;
                                    break
                                }
                                "slice_layer_without_partitioning_rbsp_idr" === ln(31 & n[i + 3]) && (a = !0), i = r - 2, r += 3;
                                break;
                            default:
                                r += 3
                        }
                        return n = n.subarray(i), r -= i, i = 0, n && n.byteLength > 3 && "slice_layer_without_partitioning_rbsp_idr" === ln(31 & n[i + 3]) && (a = !0), a
                    }
                },
                dn = Ke,
                hn = {};
            hn.ts = cn, hn.aac = At;
            var pn = de,
                fn = 188,
                mn = 71,
                gn = function(e, t, n) {
                    for (var r, i, a, o, s = 0, u = fn, l = !1; u <= e.byteLength;)
                        if (e[s] !== mn || e[u] !== mn && u !== e.byteLength) s++, u++;
                        else {
                            switch (r = e.subarray(s, u), hn.ts.parseType(r, t.pid)) {
                                case "pes":
                                    i = hn.ts.parsePesType(r, t.table), a = hn.ts.parsePayloadUnitStartIndicator(r), "audio" === i && a && (o = hn.ts.parsePesTime(r)) && (o.type = "audio", n.audio.push(o), l = !0)
                            }
                            if (l) break;
                            s += fn, u += fn
                        } for (s = (u = e.byteLength) - fn, l = !1; s >= 0;)
                        if (e[s] !== mn || e[u] !== mn && u !== e.byteLength) s--, u--;
                        else {
                            switch (r = e.subarray(s, u), hn.ts.parseType(r, t.pid)) {
                                case "pes":
                                    i = hn.ts.parsePesType(r, t.table), a = hn.ts.parsePayloadUnitStartIndicator(r), "audio" === i && a && (o = hn.ts.parsePesTime(r)) && (o.type = "audio", n.audio.push(o), l = !0)
                            }
                            if (l) break;
                            s -= fn, u -= fn
                        }
                },
                yn = function(e, t, n) {
                    for (var r, i, a, o, s, u, l, c = 0, d = fn, h = !1, p = {
                            data: [],
                            size: 0
                        }; d < e.byteLength;)
                        if (e[c] !== mn || e[d] !== mn) c++, d++;
                        else {
                            switch (r = e.subarray(c, d), hn.ts.parseType(r, t.pid)) {
                                case "pes":
                                    if (i = hn.ts.parsePesType(r, t.table), a = hn.ts.parsePayloadUnitStartIndicator(r), "video" === i && (a && !h && (o = hn.ts.parsePesTime(r)) && (o.type = "video", n.video.push(o), h = !0), !n.firstKeyFrame)) {
                                        if (a && 0 !== p.size) {
                                            for (s = new Uint8Array(p.size), u = 0; p.data.length;) l = p.data.shift(), s.set(l, u), u += l.byteLength;
                                            if (hn.ts.videoPacketContainsKeyFrame(s)) {
                                                var f = hn.ts.parsePesTime(s);
                                                f ? (n.firstKeyFrame = f, n.firstKeyFrame.type = "video") : console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")
                                            }
                                            p.size = 0
                                        }
                                        p.data.push(r), p.size += r.byteLength
                                    }
                            }
                            if (h && n.firstKeyFrame) break;
                            c += fn, d += fn
                        } for (c = (d = e.byteLength) - fn, h = !1; c >= 0;)
                        if (e[c] !== mn || e[d] !== mn) c--, d--;
                        else {
                            switch (r = e.subarray(c, d), hn.ts.parseType(r, t.pid)) {
                                case "pes":
                                    i = hn.ts.parsePesType(r, t.table), a = hn.ts.parsePayloadUnitStartIndicator(r), "video" === i && a && (o = hn.ts.parsePesTime(r)) && (o.type = "video", n.video.push(o), h = !0)
                            }
                            if (h) break;
                            c -= fn, d -= fn
                        }
                },
                vn = function(e) {
                    var t = {
                            pid: null,
                            table: null
                        },
                        n = {};
                    for (var r in function(e, t) {
                            for (var n, r = 0, i = fn; i < e.byteLength;)
                                if (e[r] !== mn || e[i] !== mn) r++, i++;
                                else {
                                    switch (n = e.subarray(r, i), hn.ts.parseType(n, t.pid)) {
                                        case "pat":
                                            t.pid = hn.ts.parsePat(n);
                                            break;
                                        case "pmt":
                                            var a = hn.ts.parsePmt(n);
                                            t.table = t.table || {}, Object.keys(a).forEach((function(e) {
                                                t.table[e] = a[e]
                                            }))
                                    }
                                    r += fn, i += fn
                                }
                        }(e, t), t.table) {
                        if (t.table.hasOwnProperty(r)) switch (t.table[r]) {
                            case Ge.H264_STREAM_TYPE:
                                n.video = [], yn(e, t, n), 0 === n.video.length && delete n.video;
                                break;
                            case Ge.ADTS_STREAM_TYPE:
                                n.audio = [], gn(e, t, n), 0 === n.audio.length && delete n.audio
                        }
                    }
                    return n
                },
                bn = function(e, t) {
                    var n;
                    return (n = hn.aac.isLikelyAacData(e) ? function(e) {
                        for (var t, n = !1, r = 0, i = null, a = null, o = 0, s = 0; e.length - s >= 3;) {
                            switch (hn.aac.parseType(e, s)) {
                                case "timed-metadata":
                                    if (e.length - s < 10) {
                                        n = !0;
                                        break
                                    }
                                    if ((o = hn.aac.parseId3TagSize(e, s)) > e.length) {
                                        n = !0;
                                        break
                                    }
                                    null === a && (t = e.subarray(s, s + o), a = hn.aac.parseAacTimestamp(t)), s += o;
                                    break;
                                case "audio":
                                    if (e.length - s < 7) {
                                        n = !0;
                                        break
                                    }
                                    if ((o = hn.aac.parseAdtsSize(e, s)) > e.length) {
                                        n = !0;
                                        break
                                    }
                                    null === i && (t = e.subarray(s, s + o), i = hn.aac.parseSampleRate(t)), r++, s += o;
                                    break;
                                default:
                                    s++
                            }
                            if (n) return null
                        }
                        if (null === i || null === a) return null;
                        var u = pn / i;
                        return {
                            audio: [{
                                type: "audio",
                                dts: a,
                                pts: a
                            }, {
                                type: "audio",
                                dts: a + 1024 * r * u,
                                pts: a + 1024 * r * u
                            }]
                        }
                    }(e) : vn(e)) && (n.audio || n.video) ? (function(e, t) {
                        if (e.audio && e.audio.length) {
                            var n = t;
                            (void 0 === n || isNaN(n)) && (n = e.audio[0].dts), e.audio.forEach((function(e) {
                                e.dts = dn(e.dts, n), e.pts = dn(e.pts, n), e.dtsTime = e.dts / pn, e.ptsTime = e.pts / pn
                            }))
                        }
                        if (e.video && e.video.length) {
                            var r = t;
                            if ((void 0 === r || isNaN(r)) && (r = e.video[0].dts), e.video.forEach((function(e) {
                                    e.dts = dn(e.dts, r), e.pts = dn(e.pts, r), e.dtsTime = e.dts / pn, e.ptsTime = e.pts / pn
                                })), e.firstKeyFrame) {
                                var i = e.firstKeyFrame;
                                i.dts = dn(i.dts, r), i.pts = dn(i.pts, r), i.dtsTime = i.dts / pn, i.ptsTime = i.pts / pn
                            }
                        }
                    }(n, t), n) : null
                },
                Tn = function() {
                    function e(e, t) {
                        this.options = t || {}, this.self = e, this.init()
                    }
                    var t = e.prototype;
                    return t.init = function() {
                        this.transmuxer && this.transmuxer.dispose(), this.transmuxer = new jt.Transmuxer(this.options),
                            function(e, t) {
                                t.on("data", (function(t) {
                                    var n = t.initSegment;
                                    t.initSegment = {
                                        data: n.buffer,
                                        byteOffset: n.byteOffset,
                                        byteLength: n.byteLength
                                    };
                                    var r = t.data;
                                    t.data = r.buffer, e.postMessage({
                                        action: "data",
                                        segment: t,
                                        byteOffset: r.byteOffset,
                                        byteLength: r.byteLength
                                    }, [t.data])
                                })), t.on("done", (function(t) {
                                    e.postMessage({
                                        action: "done"
                                    })
                                })), t.on("gopInfo", (function(t) {
                                    e.postMessage({
                                        action: "gopInfo",
                                        gopInfo: t
                                    })
                                })), t.on("videoSegmentTimingInfo", (function(t) {
                                    var n = {
                                        start: {
                                            decode: pe(t.start.dts),
                                            presentation: pe(t.start.pts)
                                        },
                                        end: {
                                            decode: pe(t.end.dts),
                                            presentation: pe(t.end.pts)
                                        },
                                        baseMediaDecodeTime: pe(t.baseMediaDecodeTime)
                                    };
                                    t.prependedContentDuration && (n.prependedContentDuration = pe(t.prependedContentDuration)), e.postMessage({
                                        action: "videoSegmentTimingInfo",
                                        videoSegmentTimingInfo: n
                                    })
                                })), t.on("audioSegmentTimingInfo", (function(t) {
                                    var n = {
                                        start: {
                                            decode: pe(t.start.dts),
                                            presentation: pe(t.start.pts)
                                        },
                                        end: {
                                            decode: pe(t.end.dts),
                                            presentation: pe(t.end.pts)
                                        },
                                        baseMediaDecodeTime: pe(t.baseMediaDecodeTime)
                                    };
                                    t.prependedContentDuration && (n.prependedContentDuration = pe(t.prependedContentDuration)), e.postMessage({
                                        action: "audioSegmentTimingInfo",
                                        audioSegmentTimingInfo: n
                                    })
                                })), t.on("id3Frame", (function(t) {
                                    e.postMessage({
                                        action: "id3Frame",
                                        id3Frame: t
                                    })
                                })), t.on("caption", (function(t) {
                                    e.postMessage({
                                        action: "caption",
                                        caption: t
                                    })
                                })), t.on("trackinfo", (function(t) {
                                    e.postMessage({
                                        action: "trackinfo",
                                        trackInfo: t
                                    })
                                })), t.on("audioTimingInfo", (function(t) {
                                    e.postMessage({
                                        action: "audioTimingInfo",
                                        audioTimingInfo: {
                                            start: pe(t.start),
                                            end: pe(t.end)
                                        }
                                    })
                                })), t.on("videoTimingInfo", (function(t) {
                                    e.postMessage({
                                        action: "videoTimingInfo",
                                        videoTimingInfo: {
                                            start: pe(t.start),
                                            end: pe(t.end)
                                        }
                                    })
                                })), t.on("log", (function(t) {
                                    e.postMessage({
                                        action: "log",
                                        log: t
                                    })
                                }))
                            }(this.self, this.transmuxer)
                    }, t.pushMp4Captions = function(e) {
                        this.captionParser || (this.captionParser = new en, this.captionParser.init());
                        var t = new Uint8Array(e.data, e.byteOffset, e.byteLength),
                            n = this.captionParser.parse(t, e.trackIds, e.timescales);
                        this.self.postMessage({
                            action: "mp4Captions",
                            captions: n && n.captions || [],
                            logs: n && n.logs || [],
                            data: t.buffer
                        }, [t.buffer])
                    }, t.probeMp4StartTime = function(e) {
                        var t = e.timescales,
                            n = e.data,
                            r = rn(t, n);
                        this.self.postMessage({
                            action: "probeMp4StartTime",
                            startTime: r,
                            data: n
                        }, [n.buffer])
                    }, t.probeMp4Tracks = function(e) {
                        var t = e.data,
                            n = an(t);
                        this.self.postMessage({
                            action: "probeMp4Tracks",
                            tracks: n,
                            data: t
                        }, [t.buffer])
                    }, t.probeTs = function(e) {
                        var t = e.data,
                            n = e.baseStartTime,
                            r = "number" != typeof n || isNaN(n) ? void 0 : n * de,
                            i = bn(t, r),
                            a = null;
                        i && ((a = {
                            hasVideo: i.video && 2 === i.video.length || !1,
                            hasAudio: i.audio && 2 === i.audio.length || !1
                        }).hasVideo && (a.videoStart = i.video[0].ptsTime), a.hasAudio && (a.audioStart = i.audio[0].ptsTime)), this.self.postMessage({
                            action: "probeTs",
                            result: a,
                            data: t
                        }, [t.buffer])
                    }, t.clearAllMp4Captions = function() {
                        this.captionParser && this.captionParser.clearAllCaptions()
                    }, t.clearParsedMp4Captions = function() {
                        this.captionParser && this.captionParser.clearParsedCaptions()
                    }, t.push = function(e) {
                        var t = new Uint8Array(e.data, e.byteOffset, e.byteLength);
                        this.transmuxer.push(t)
                    }, t.reset = function() {
                        this.transmuxer.reset()
                    }, t.setTimestampOffset = function(e) {
                        var t = e.timestampOffset || 0;
                        this.transmuxer.setBaseMediaDecodeTime(Math.round(he(t)))
                    }, t.setAudioAppendStart = function(e) {
                        this.transmuxer.setAudioAppendStart(Math.ceil(he(e.appendStart)))
                    }, t.setRemux = function(e) {
                        this.transmuxer.setRemux(e.remux)
                    }, t.flush = function(e) {
                        this.transmuxer.flush(), self.postMessage({
                            action: "done",
                            type: "transmuxed"
                        })
                    }, t.endTimeline = function() {
                        this.transmuxer.endTimeline(), self.postMessage({
                            action: "endedtimeline",
                            type: "transmuxed"
                        })
                    }, t.alignGopsWith = function(e) {
                        this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())
                    }, e
                }();
            self.onmessage = function(e) {
                "init" === e.data.action && e.data.options ? this.messageHandlers = new Tn(self, e.data.options) : (this.messageHandlers || (this.messageHandlers = new Tn(self)), e.data && e.data.action && "init" !== e.data.action && this.messageHandlers[e.data.action] && this.messageHandlers[e.data.action](e.data))
            }
        })))),
        Fv = function(e) {
            var t = e.transmuxer,
                n = e.bytes,
                r = e.audioAppendStart,
                i = e.gopsToAlignWith,
                a = e.remux,
                o = e.onData,
                s = e.onTrackInfo,
                u = e.onAudioTimingInfo,
                l = e.onVideoTimingInfo,
                c = e.onVideoSegmentTimingInfo,
                d = e.onAudioSegmentTimingInfo,
                h = e.onId3,
                p = e.onCaptions,
                f = e.onDone,
                m = e.onEndedTimeline,
                g = e.onTransmuxerLog,
                y = e.isEndOfTimeline,
                v = {
                    buffer: []
                },
                b = y;
            if (t.onmessage = function(n) {
                    t.currentTransmux === e && ("data" === n.data.action && function(e, t, n) {
                        var r = e.data.segment,
                            i = r.type,
                            a = r.initSegment,
                            o = r.captions,
                            s = r.captionStreams,
                            u = r.metadata,
                            l = r.videoFrameDtsTime,
                            c = r.videoFramePtsTime;
                        t.buffer.push({
                            captions: o,
                            captionStreams: s,
                            metadata: u
                        });
                        var d = e.data.segment.boxes || {
                                data: e.data.segment.data
                            },
                            h = {
                                type: i,
                                data: new Uint8Array(d.data, d.data.byteOffset, d.data.byteLength),
                                initSegment: new Uint8Array(a.data, a.byteOffset, a.byteLength)
                            };
                        void 0 !== l && (h.videoFrameDtsTime = l), void 0 !== c && (h.videoFramePtsTime = c), n(h)
                    }(n, v, o), "trackinfo" === n.data.action && s(n.data.trackInfo), "gopInfo" === n.data.action && function(e, t) {
                        t.gopInfo = e.data.gopInfo
                    }(n, v), "audioTimingInfo" === n.data.action && u(n.data.audioTimingInfo), "videoTimingInfo" === n.data.action && l(n.data.videoTimingInfo), "videoSegmentTimingInfo" === n.data.action && c(n.data.videoSegmentTimingInfo), "audioSegmentTimingInfo" === n.data.action && d(n.data.audioSegmentTimingInfo), "id3Frame" === n.data.action && h([n.data.id3Frame], n.data.id3Frame.dispatchType), "caption" === n.data.action && p(n.data.caption), "endedtimeline" === n.data.action && (b = !1, m()), "log" === n.data.action && g(n.data.log), "transmuxed" === n.data.type && (b || (t.onmessage = null, function(e) {
                        var t = e.transmuxedData,
                            n = e.callback;
                        t.buffer = [], n(t)
                    }({
                        transmuxedData: v,
                        callback: f
                    }), jv(t))))
                }, r && t.postMessage({
                    action: "setAudioAppendStart",
                    appendStart: r
                }), Array.isArray(i) && t.postMessage({
                    action: "alignGopsWith",
                    gopsToAlignWith: i
                }), void 0 !== a && t.postMessage({
                    action: "setRemux",
                    remux: a
                }), n.byteLength) {
                var T = n instanceof ArrayBuffer ? n : n.buffer,
                    _ = n instanceof ArrayBuffer ? 0 : n.byteOffset;
                t.postMessage({
                    action: "push",
                    data: T,
                    byteOffset: _,
                    byteLength: n.byteLength
                }, [T])
            }
            y && t.postMessage({
                action: "endTimeline"
            }), t.postMessage({
                action: "flush"
            })
        },
        jv = function(e) {
            e.currentTransmux = null, e.transmuxQueue.length && (e.currentTransmux = e.transmuxQueue.shift(), "function" == typeof e.currentTransmux ? e.currentTransmux() : Fv(e.currentTransmux))
        },
        Hv = function(e, t) {
            e.postMessage({
                action: t
            }), jv(e)
        },
        Gv = function(e, t) {
            if (!t.currentTransmux) return t.currentTransmux = e, void Hv(t, e);
            t.transmuxQueue.push(Hv.bind(null, t, e))
        },
        Vv = function(e) {
            if (!e.transmuxer.currentTransmux) return e.transmuxer.currentTransmux = e, void Fv(e);
            e.transmuxer.transmuxQueue.push(e)
        },
        Wv = function(e) {
            Gv("reset", e)
        },
        qv = function(e) {
            var t = new Uv;
            t.currentTransmux = null, t.transmuxQueue = [];
            var n = t.terminate;
            return t.terminate = function() {
                return t.currentTransmux = null, t.transmuxQueue.length = 0, n.call(t)
            }, t.postMessage({
                action: "init",
                options: e
            }), t
        },
        zv = function(e) {
            var t = e.transmuxer,
                n = e.endAction || e.action,
                r = e.callback,
                i = ks({}, e, {
                    endAction: null,
                    transmuxer: null,
                    callback: null
                });
            if (t.addEventListener("message", (function i(a) {
                    a.data.action === n && (t.removeEventListener("message", i), a.data.data && (a.data.data = new Uint8Array(a.data.data, e.byteOffset || 0, e.byteLength || a.data.data.byteLength), e.data && (e.data = a.data.data)), r(a.data))
                })), e.data) {
                var a = e.data instanceof ArrayBuffer;
                i.byteOffset = a ? 0 : e.data.byteOffset, i.byteLength = e.data.byteLength;
                var o = [a ? e.data : e.data.buffer];
                t.postMessage(i, o)
            } else t.postMessage(i)
        },
        Xv = 2,
        Kv = -101,
        Yv = -102,
        Qv = function(e) {
            e.forEach((function(e) {
                e.abort()
            }))
        },
        $v = function(e, t) {
            return t.timedout ? {
                status: t.status,
                message: "HLS request timed-out at URL: " + t.uri,
                code: Kv,
                xhr: t
            } : t.aborted ? {
                status: t.status,
                message: "HLS request aborted at URL: " + t.uri,
                code: Yv,
                xhr: t
            } : e ? {
                status: t.status,
                message: "HLS request errored at URL: " + t.uri,
                code: Xv,
                xhr: t
            } : "arraybuffer" === t.responseType && 0 === t.response.byteLength ? {
                status: t.status,
                message: "Empty HLS response at URL: " + t.uri,
                code: Xv,
                xhr: t
            } : null
        },
        Jv = function(e, t, n) {
            return function(r, i) {
                var a = i.response,
                    o = $v(r, i);
                if (o) return n(o, e);
                if (16 !== a.byteLength) return n({
                    status: i.status,
                    message: "Invalid HLS key at URL: " + i.uri,
                    code: Xv,
                    xhr: i
                }, e);
                for (var s = new DataView(a), u = new Uint32Array([s.getUint32(0), s.getUint32(4), s.getUint32(8), s.getUint32(12)]), l = 0; l < t.length; l++) t[l].bytes = u;
                return n(null, e)
            }
        },
        Zv = function(e, t) {
            var n = ah(e.map.bytes);
            if ("mp4" !== n) {
                var r = e.map.resolvedUri || e.map.uri;
                return t({
                    internal: !0,
                    message: "Found unsupported " + (n || "unknown") + " container for initialization segment at URL: " + r,
                    code: Xv
                })
            }
            zv({
                action: "probeMp4Tracks",
                data: e.map.bytes,
                transmuxer: e.transmuxer,
                callback: function(n) {
                    var r = n.tracks,
                        i = n.data;
                    return e.map.bytes = i, r.forEach((function(t) {
                        e.map.tracks = e.map.tracks || {}, e.map.tracks[t.type] || (e.map.tracks[t.type] = t, "number" == typeof t.id && t.timescale && (e.map.timescales = e.map.timescales || {}, e.map.timescales[t.id] = t.timescale))
                    })), t(null)
                }
            })
        },
        eb = function(e) {
            var t = e.segment,
                n = e.finishProcessingFn,
                r = e.responseType;
            return function(e, i) {
                var a = $v(e, i);
                if (a) return n(a, t);
                var o = "arraybuffer" !== r && i.responseText ? function(e) {
                    for (var t = new Uint8Array(new ArrayBuffer(e.length)), n = 0; n < e.length; n++) t[n] = e.charCodeAt(n);
                    return t.buffer
                }(i.responseText.substring(t.lastReachedChar || 0)) : i.response;
                return t.stats = function(e) {
                    return {
                        bandwidth: e.bandwidth,
                        bytesReceived: e.bytesReceived || 0,
                        roundTripTime: e.roundTripTime || 0
                    }
                }(i), t.key ? t.encryptedBytes = new Uint8Array(o) : t.bytes = new Uint8Array(o), n(null, t)
            }
        },
        tb = function(e) {
            var t = e.segment,
                n = e.bytes,
                r = e.trackInfoFn,
                i = e.timingInfoFn,
                a = e.videoSegmentTimingInfoFn,
                o = e.audioSegmentTimingInfoFn,
                s = e.id3Fn,
                u = e.captionsFn,
                l = e.isEndOfTimeline,
                c = e.endedTimelineFn,
                d = e.dataFn,
                h = e.doneFn,
                p = e.onTransmuxerLog,
                f = t.map && t.map.tracks || {},
                m = Boolean(f.audio && f.video),
                g = i.bind(null, t, "audio", "start"),
                y = i.bind(null, t, "audio", "end"),
                v = i.bind(null, t, "video", "start"),
                b = i.bind(null, t, "video", "end");
            zv({
                action: "probeTs",
                transmuxer: t.transmuxer,
                data: n,
                baseStartTime: t.baseStartTime,
                callback: function(e) {
                    t.bytes = n = e.data;
                    var i = e.result;
                    i && (r(t, {
                        hasAudio: i.hasAudio,
                        hasVideo: i.hasVideo,
                        isMuxed: m
                    }), r = null, i.hasAudio && !m && g(i.audioStart), i.hasVideo && v(i.videoStart), g = null, v = null), Vv({
                        bytes: n,
                        transmuxer: t.transmuxer,
                        audioAppendStart: t.audioAppendStart,
                        gopsToAlignWith: t.gopsToAlignWith,
                        remux: m,
                        onData: function(e) {
                            e.type = "combined" === e.type ? "video" : e.type, d(t, e)
                        },
                        onTrackInfo: function(e) {
                            r && (m && (e.isMuxed = !0), r(t, e))
                        },
                        onAudioTimingInfo: function(e) {
                            g && void 0 !== e.start && (g(e.start), g = null), y && void 0 !== e.end && y(e.end)
                        },
                        onVideoTimingInfo: function(e) {
                            v && void 0 !== e.start && (v(e.start), v = null), b && void 0 !== e.end && b(e.end)
                        },
                        onVideoSegmentTimingInfo: function(e) {
                            a(e)
                        },
                        onAudioSegmentTimingInfo: function(e) {
                            o(e)
                        },
                        onId3: function(e, n) {
                            s(t, e, n)
                        },
                        onCaptions: function(e) {
                            u(t, [e])
                        },
                        isEndOfTimeline: l,
                        onEndedTimeline: function() {
                            c()
                        },
                        onTransmuxerLog: p,
                        onDone: function(e) {
                            h && (e.type = "combined" === e.type ? "video" : e.type, h(null, t, e))
                        }
                    })
                }
            })
        },
        nb = function(e) {
            var t = e.segment,
                n = e.bytes,
                r = e.trackInfoFn,
                i = e.timingInfoFn,
                a = e.videoSegmentTimingInfoFn,
                o = e.audioSegmentTimingInfoFn,
                s = e.id3Fn,
                u = e.captionsFn,
                l = e.isEndOfTimeline,
                c = e.endedTimelineFn,
                d = e.dataFn,
                h = e.doneFn,
                p = e.onTransmuxerLog,
                f = new Uint8Array(n);
            if (function(e) {
                    return Fd(e, ["moof"]).length > 0
                }(f)) {
                t.isFmp4 = !0;
                var m = t.map.tracks,
                    g = {
                        isFmp4: !0,
                        hasVideo: !!m.video,
                        hasAudio: !!m.audio
                    };
                m.audio && m.audio.codec && "enca" !== m.audio.codec && (g.audioCodec = m.audio.codec), m.video && m.video.codec && "encv" !== m.video.codec && (g.videoCodec = m.video.codec), m.video && m.audio && (g.isMuxed = !0), r(t, g);
                var y = function(e) {
                    d(t, {
                        data: f,
                        type: g.hasAudio && !g.isMuxed ? "audio" : "video"
                    }), e && e.length && u(t, e), h(null, t, {})
                };
                zv({
                    action: "probeMp4StartTime",
                    timescales: t.map.timescales,
                    data: f,
                    transmuxer: t.transmuxer,
                    callback: function(e) {
                        var r = e.data,
                            a = e.startTime;
                        n = r.buffer, t.bytes = f = r, g.hasAudio && !g.isMuxed && i(t, "audio", "start", a), g.hasVideo && i(t, "video", "start", a), m.video && r.byteLength && t.transmuxer ? zv({
                            action: "pushMp4Captions",
                            endAction: "mp4Captions",
                            transmuxer: t.transmuxer,
                            data: f,
                            timescales: t.map.timescales,
                            trackIds: [m.video.id],
                            callback: function(e) {
                                n = e.data.buffer, t.bytes = f = e.data, e.logs.forEach((function(e) {
                                    p(vy.mergeOptions(e, {
                                        stream: "mp4CaptionParser"
                                    }))
                                })), y(e.captions)
                            }
                        }) : y()
                    }
                })
            } else if (t.transmuxer) {
                if (void 0 === t.container && (t.container = ah(f)), "ts" !== t.container && "aac" !== t.container) return r(t, {
                    hasAudio: !1,
                    hasVideo: !1
                }), void h(null, t, {});
                tb({
                    segment: t,
                    bytes: n,
                    trackInfoFn: r,
                    timingInfoFn: i,
                    videoSegmentTimingInfoFn: a,
                    audioSegmentTimingInfoFn: o,
                    id3Fn: s,
                    captionsFn: u,
                    isEndOfTimeline: l,
                    endedTimelineFn: c,
                    dataFn: d,
                    doneFn: h,
                    onTransmuxerLog: p
                })
            } else h(null, t, {})
        },
        rb = function(e, t) {
            var n, r = e.id,
                i = e.key,
                a = e.encryptedBytes,
                o = e.decryptionWorker;
            o.addEventListener("message", (function e(n) {
                if (n.data.source === r) {
                    o.removeEventListener("message", e);
                    var i = n.data.decrypted;
                    t(new Uint8Array(i.bytes, i.byteOffset, i.byteLength))
                }
            })), n = i.bytes.slice ? i.bytes.slice() : new Uint32Array(Array.prototype.slice.call(i.bytes)), o.postMessage(vv({
                source: r,
                encrypted: a,
                key: n,
                iv: i.iv
            }), [a.buffer, n.buffer])
        },
        ib = function(e) {
            var t = e.activeXhrs,
                n = e.decryptionWorker,
                r = e.trackInfoFn,
                i = e.timingInfoFn,
                a = e.videoSegmentTimingInfoFn,
                o = e.audioSegmentTimingInfoFn,
                s = e.id3Fn,
                u = e.captionsFn,
                l = e.isEndOfTimeline,
                c = e.endedTimelineFn,
                d = e.dataFn,
                h = e.doneFn,
                p = e.onTransmuxerLog,
                f = 0,
                m = !1;
            return function(e, g) {
                if (!m) {
                    if (e) return m = !0, Qv(t), h(e, g);
                    if ((f += 1) === t.length) {
                        var y = function() {
                            if (g.encryptedBytes) return function(e) {
                                var t = e.decryptionWorker,
                                    n = e.segment,
                                    r = e.trackInfoFn,
                                    i = e.timingInfoFn,
                                    a = e.videoSegmentTimingInfoFn,
                                    o = e.audioSegmentTimingInfoFn,
                                    s = e.id3Fn,
                                    u = e.captionsFn,
                                    l = e.isEndOfTimeline,
                                    c = e.endedTimelineFn,
                                    d = e.dataFn,
                                    h = e.doneFn,
                                    p = e.onTransmuxerLog;
                                rb({
                                    id: n.requestId,
                                    key: n.key,
                                    encryptedBytes: n.encryptedBytes,
                                    decryptionWorker: t
                                }, (function(e) {
                                    n.bytes = e, nb({
                                        segment: n,
                                        bytes: n.bytes,
                                        trackInfoFn: r,
                                        timingInfoFn: i,
                                        videoSegmentTimingInfoFn: a,
                                        audioSegmentTimingInfoFn: o,
                                        id3Fn: s,
                                        captionsFn: u,
                                        isEndOfTimeline: l,
                                        endedTimelineFn: c,
                                        dataFn: d,
                                        doneFn: h,
                                        onTransmuxerLog: p
                                    })
                                }))
                            }({
                                decryptionWorker: n,
                                segment: g,
                                trackInfoFn: r,
                                timingInfoFn: i,
                                videoSegmentTimingInfoFn: a,
                                audioSegmentTimingInfoFn: o,
                                id3Fn: s,
                                captionsFn: u,
                                isEndOfTimeline: l,
                                endedTimelineFn: c,
                                dataFn: d,
                                doneFn: h,
                                onTransmuxerLog: p
                            });
                            nb({
                                segment: g,
                                bytes: g.bytes,
                                trackInfoFn: r,
                                timingInfoFn: i,
                                videoSegmentTimingInfoFn: a,
                                audioSegmentTimingInfoFn: o,
                                id3Fn: s,
                                captionsFn: u,
                                isEndOfTimeline: l,
                                endedTimelineFn: c,
                                dataFn: d,
                                doneFn: h,
                                onTransmuxerLog: p
                            })
                        };
                        if (g.endOfAllRequests = Date.now(), g.map && g.map.encryptedBytes && !g.map.bytes) return rb({
                            decryptionWorker: n,
                            id: g.requestId + "-init",
                            encryptedBytes: g.map.encryptedBytes,
                            key: g.map.key
                        }, (function(e) {
                            g.map.bytes = e, Zv(g, (function(e) {
                                if (e) return Qv(t), h(e, g);
                                y()
                            }))
                        }));
                        y()
                    }
                }
            }
        },
        ab = function(e) {
            var t = e.segment,
                n = e.progressFn;
            return e.trackInfoFn, e.timingInfoFn, e.videoSegmentTimingInfoFn, e.audioSegmentTimingInfoFn, e.id3Fn, e.captionsFn, e.isEndOfTimeline, e.endedTimelineFn, e.dataFn,
                function(e) {
                    if (!e.target.aborted) return t.stats = vy.mergeOptions(t.stats, function(e) {
                        var t = e.target,
                            n = {
                                bandwidth: 1 / 0,
                                bytesReceived: 0,
                                roundTripTime: Date.now() - t.requestTime || 0
                            };
                        return n.bytesReceived = e.loaded, n.bandwidth = Math.floor(n.bytesReceived / n.roundTripTime * 8 * 1e3), n
                    }(e)), !t.stats.firstBytesReceivedAt && t.stats.bytesReceived && (t.stats.firstBytesReceivedAt = Date.now()), n(e, t)
                }
        },
        ob = function(e) {
            var t = e.xhr,
                n = e.xhrOptions,
                r = e.decryptionWorker,
                i = e.segment,
                a = e.abortFn,
                o = e.progressFn,
                s = e.trackInfoFn,
                u = e.timingInfoFn,
                l = e.videoSegmentTimingInfoFn,
                c = e.audioSegmentTimingInfoFn,
                d = e.id3Fn,
                h = e.captionsFn,
                p = e.isEndOfTimeline,
                f = e.endedTimelineFn,
                m = e.dataFn,
                g = e.doneFn,
                y = e.onTransmuxerLog,
                v = [],
                b = ib({
                    activeXhrs: v,
                    decryptionWorker: r,
                    trackInfoFn: s,
                    timingInfoFn: u,
                    videoSegmentTimingInfoFn: l,
                    audioSegmentTimingInfoFn: c,
                    id3Fn: d,
                    captionsFn: h,
                    isEndOfTimeline: p,
                    endedTimelineFn: f,
                    dataFn: m,
                    doneFn: g,
                    onTransmuxerLog: y
                });
            if (i.key && !i.key.bytes) {
                var T = [i.key];
                i.map && !i.map.bytes && i.map.key && i.map.key.resolvedUri === i.key.resolvedUri && T.push(i.map.key);
                var _ = t(vy.mergeOptions(n, {
                    uri: i.key.resolvedUri,
                    responseType: "arraybuffer"
                }), Jv(i, T, b));
                v.push(_)
            }
            if (i.map && !i.map.bytes) {
                if (i.map.key && (!i.key || i.key.resolvedUri !== i.map.key.resolvedUri)) {
                    var S = t(vy.mergeOptions(n, {
                        uri: i.map.key.resolvedUri,
                        responseType: "arraybuffer"
                    }), Jv(i, [i.map.key], b));
                    v.push(S)
                }
                var w = t(vy.mergeOptions(n, {
                    uri: i.map.resolvedUri,
                    responseType: "arraybuffer",
                    headers: fv(i.map)
                }), function(e) {
                    var t = e.segment,
                        n = e.finishProcessingFn;
                    return function(e, r) {
                        var i = $v(e, r);
                        if (i) return n(i, t);
                        var a = new Uint8Array(r.response);
                        if (t.map.key) return t.map.encryptedBytes = a, n(null, t);
                        t.map.bytes = a, Zv(t, (function(e) {
                            if (e) return e.xhr = r, e.status = r.status, n(e, t);
                            n(null, t)
                        }))
                    }
                }({
                    segment: i,
                    finishProcessingFn: b
                }));
                v.push(w)
            }
            var A = vy.mergeOptions(n, {
                    uri: i.part && i.part.resolvedUri || i.resolvedUri,
                    responseType: "arraybuffer",
                    headers: fv(i)
                }),
                E = t(A, eb({
                    segment: i,
                    finishProcessingFn: b,
                    responseType: A.responseType
                }));
            E.addEventListener("progress", ab({
                segment: i,
                progressFn: o,
                trackInfoFn: s,
                timingInfoFn: u,
                videoSegmentTimingInfoFn: l,
                audioSegmentTimingInfoFn: c,
                id3Fn: d,
                captionsFn: h,
                isEndOfTimeline: p,
                endedTimelineFn: f,
                dataFn: m
            })), v.push(E);
            var C = {};
            return v.forEach((function(e) {
                    e.addEventListener("loadend", function(e) {
                        var t = e.loadendState,
                            n = e.abortFn;
                        return function(e) {
                            e.target.aborted && n && !t.calledAbortFn && (n(), t.calledAbortFn = !0)
                        }
                    }({
                        loadendState: C,
                        abortFn: a
                    }))
                })),
                function() {
                    return Qv(v)
                }
        },
        sb = wy("CodecUtils"),
        ub = function(e, t) {
            var n = t.attributes || {};
            return e && e.mediaGroups && e.mediaGroups.AUDIO && n.AUDIO && e.mediaGroups.AUDIO[n.AUDIO]
        },
        lb = function(e) {
            var t = {};
            return e.forEach((function(e) {
                var n = e.mediaType,
                    r = e.type,
                    i = e.details;
                t[n] = t[n] || [], t[n].push(Yu("" + r + i))
            })), Object.keys(t).forEach((function(e) {
                if (t[e].length > 1) return sb("multiple " + e + " codecs found as attributes: " + t[e].join(", ") + ". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."), void(t[e] = null);
                t[e] = t[e][0]
            })), t
        },
        cb = function(e) {
            var t = 0;
            return e.audio && t++, e.video && t++, t
        },
        db = function(e, t) {
            var n = t.attributes || {},
                r = lb(function(e) {
                    var t = e.attributes || {};
                    if (t.CODECS) return Qu(t.CODECS)
                }(t) || []);
            if (ub(e, t) && !r.audio && ! function(e, t) {
                    if (!ub(e, t)) return !0;
                    var n = t.attributes || {},
                        r = e.mediaGroups.AUDIO[n.AUDIO];
                    for (var i in r)
                        if (!r[i].uri && !r[i].playlists) return !0;
                    return !1
                }(e, t)) {
                var i = lb(function(e, t) {
                    if (!e.mediaGroups.AUDIO || !t) return null;
                    var n = e.mediaGroups.AUDIO[t];
                    if (!n) return null;
                    for (var r in n) {
                        var i = n[r];
                        if (i.default && i.playlists) return Qu(i.playlists[0].attributes.CODECS)
                    }
                    return null
                }(e, n.AUDIO) || []);
                i.audio && (r.audio = i.audio)
            }
            return r
        },
        hb = wy("PlaylistSelector"),
        pb = function(e) {
            if (e && e.playlist) {
                var t = e.playlist;
                return JSON.stringify({
                    id: t.id,
                    bandwidth: e.bandwidth,
                    width: e.width,
                    height: e.height,
                    codecs: t.attributes && t.attributes.CODECS || ""
                })
            }
        },
        fb = function(e, t) {
            if (!e) return "";
            var n = m.getComputedStyle(e);
            return n ? n[t] : ""
        },
        mb = function(e, t) {
            var n = e.slice();
            e.sort((function(e, r) {
                var i = t(e, r);
                return 0 === i ? n.indexOf(e) - n.indexOf(r) : i
            }))
        },
        gb = function(e, t) {
            var n, r;
            return e.attributes.BANDWIDTH && (n = e.attributes.BANDWIDTH), n = n || m.Number.MAX_VALUE, t.attributes.BANDWIDTH && (r = t.attributes.BANDWIDTH), n - (r = r || m.Number.MAX_VALUE)
        },
        yb = function(e, t, n, r, i, a) {
            if (e) {
                var o = {
                        bandwidth: t,
                        width: n,
                        height: r,
                        limitRenditionByPlayerDimensions: i
                    },
                    s = e.playlists;
                Yy.isAudioOnly(e) && (s = a.getAudioTrackPlaylists_(), o.audioOnly = !0);
                var u = s.map((function(e) {
                    var t = e.attributes && e.attributes.RESOLUTION && e.attributes.RESOLUTION.width,
                        n = e.attributes && e.attributes.RESOLUTION && e.attributes.RESOLUTION.height;
                    return {
                        bandwidth: e.attributes && e.attributes.BANDWIDTH || m.Number.MAX_VALUE,
                        width: t,
                        height: n,
                        playlist: e
                    }
                }));
                mb(u, (function(e, t) {
                    return e.bandwidth - t.bandwidth
                }));
                var l = (u = u.filter((function(e) {
                    return !Yy.isIncompatible(e.playlist)
                }))).filter((function(e) {
                    return Yy.isEnabled(e.playlist)
                }));
                l.length || (l = u.filter((function(e) {
                    return !Yy.isDisabled(e.playlist)
                })));
                var c = l.filter((function(e) {
                        return e.bandwidth * Dv.BANDWIDTH_VARIANCE < t
                    })),
                    d = c[c.length - 1],
                    h = c.filter((function(e) {
                        return e.bandwidth === d.bandwidth
                    }))[0];
                if (!1 === i) {
                    var p = h || l[0] || u[0];
                    if (p && p.playlist) {
                        var f = "sortedPlaylistReps";
                        return h && (f = "bandwidthBestRep"), l[0] && (f = "enabledPlaylistReps"), hb("choosing " + pb(p) + " using " + f + " with options", o), p.playlist
                    }
                    return hb("could not choose a playlist with options", o), null
                }
                var g = c.filter((function(e) {
                    return e.width && e.height
                }));
                mb(g, (function(e, t) {
                    return e.width - t.width
                }));
                var y = g.filter((function(e) {
                    return e.width === n && e.height === r
                }));
                d = y[y.length - 1];
                var v, b, T, _ = y.filter((function(e) {
                    return e.bandwidth === d.bandwidth
                }))[0];
                _ || (b = (v = g.filter((function(e) {
                    return e.width > n || e.height > r
                }))).filter((function(e) {
                    return e.width === v[0].width && e.height === v[0].height
                })), d = b[b.length - 1], T = b.filter((function(e) {
                    return e.bandwidth === d.bandwidth
                }))[0]);
                var S = T || _ || h || l[0] || u[0];
                if (S && S.playlist) {
                    var w = "sortedPlaylistReps";
                    return T ? w = "resolutionPlusOneRep" : _ ? w = "resolutionBestRep" : h ? w = "bandwidthBestRep" : l[0] && (w = "enabledPlaylistReps"), hb("choosing " + pb(S) + " using " + w + " with options", o), S.playlist
                }
                return hb("could not choose a playlist with options", o), null
            }
        },
        vb = function() {
            var e = this.useDevicePixelRatio && m.devicePixelRatio || 1;
            return yb(this.playlists.master, this.systemBandwidth, parseInt(fb(this.tech_.el(), "width"), 10) * e, parseInt(fb(this.tech_.el(), "height"), 10) * e, this.limitRenditionByPlayerDimensions, this.masterPlaylistController_)
        },
        bb = function(e) {
            var t = e.inbandTextTracks,
                n = e.metadataArray,
                r = e.timestampOffset,
                i = e.videoDuration;
            if (n) {
                var a = m.WebKitDataCue || m.VTTCue,
                    o = t.metadataTrack_;
                if (o && (n.forEach((function(e) {
                        var t = e.cueTime + r;
                        !("number" != typeof t || m.isNaN(t) || t < 0) && t < 1 / 0 && e.frames.forEach((function(e) {
                            var n = new a(t, t, e.value || e.url || e.data || "");
                            n.frame = e, n.value = e,
                                function(e) {
                                    Object.defineProperties(e.frame, {
                                        id: {
                                            get: function() {
                                                return vy.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."), e.value.key
                                            }
                                        },
                                        value: {
                                            get: function() {
                                                return vy.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."), e.value.data
                                            }
                                        },
                                        privateData: {
                                            get: function() {
                                                return vy.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."), e.value.data
                                            }
                                        }
                                    })
                                }(n), o.addCue(n)
                        }))
                    })), o.cues && o.cues.length)) {
                    for (var s = o.cues, u = [], l = 0; l < s.length; l++) s[l] && u.push(s[l]);
                    var c = u.reduce((function(e, t) {
                            var n = e[t.startTime] || [];
                            return n.push(t), e[t.startTime] = n, e
                        }), {}),
                        d = Object.keys(c).sort((function(e, t) {
                            return Number(e) - Number(t)
                        }));
                    d.forEach((function(e, t) {
                        var n = c[e],
                            r = Number(d[t + 1]) || i;
                        n.forEach((function(e) {
                            e.endTime = r
                        }))
                    }))
                }
            }
        },
        Tb = function(e, t, n) {
            var r, i;
            if (n && n.cues)
                for (r = n.cues.length; r--;)(i = n.cues[r]).startTime >= e && i.endTime <= t && n.removeCue(i)
        },
        _b = function(e) {
            return "number" == typeof e && isFinite(e)
        },
        Sb = 1 / 60,
        wb = function(e) {
            var t = e.startOfSegment,
                n = e.duration,
                r = e.segment,
                i = e.part,
                a = e.playlist,
                o = a.mediaSequence,
                s = a.id,
                u = a.segments,
                l = void 0 === u ? [] : u,
                c = e.mediaIndex,
                d = e.partIndex,
                h = e.timeline,
                p = l.length - 1,
                f = "mediaIndex/partIndex increment";
            e.getMediaInfoForTime ? f = "getMediaInfoForTime (" + e.getMediaInfoForTime + ")" : e.isSyncRequest && (f = "getSyncSegmentCandidate (isSyncRequest)");
            var m = "number" == typeof d,
                g = e.segment.uri ? "segment" : "pre-segment",
                y = m ? Ry({
                    preloadSegment: r
                }) - 1 : 0;
            return g + " [" + (o + c) + "/" + (o + p) + "]" + (m ? " part [" + d + "/" + y + "]" : "") + " segment start/end [" + r.start + " => " + r.end + "]" + (m ? " part start/end [" + i.start + " => " + i.end + "]" : "") + " startOfSegment [" + t + "] duration [" + n + "] timeline [" + h + "] selected by [" + f + "] playlist [" + s + "]"
        },
        Ab = function(e) {
            return e + "TimingInfo"
        },
        Eb = function(e) {
            var t = e.timelineChangeController,
                n = e.currentTimeline,
                r = e.segmentTimeline,
                i = e.loaderType,
                a = e.audioDisabled;
            if (n === r) return !1;
            if ("audio" === i) {
                var o = t.lastTimelineChange({
                    type: "main"
                });
                return !o || o.to !== r
            }
            if ("main" === i && a) {
                var s = t.pendingTimelineChange({
                    type: "audio"
                });
                return !s || s.to !== r
            }
            return !1
        },
        Cb = function(e) {
            var t = e.segmentDuration,
                n = e.maxDuration;
            return !!t && Math.round(t) > n + Ay
        },
        Pb = function(e, t) {
            if ("hls" !== t) return null;
            var n, r, i, a, o = (n = e.audioTimingInfo, r = e.videoTimingInfo, i = n && "number" == typeof n.start && "number" == typeof n.end ? n.end - n.start : 0, a = r && "number" == typeof r.start && "number" == typeof r.end ? r.end - r.start : 0, Math.max(i, a));
            if (!o) return null;
            var s = e.playlist.targetDuration,
                u = Cb({
                    segmentDuration: o,
                    maxDuration: 2 * s
                }),
                l = Cb({
                    segmentDuration: o,
                    maxDuration: s
                }),
                c = "Segment with index " + e.mediaIndex + " from playlist " + e.playlist.id + " has a duration of " + o + " when the reported duration is " + e.duration + " and the target duration is " + s + ". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";
            return u || l ? {
                severity: u ? "warn" : "info",
                message: c
            } : null
        },
        kb = function(e) {
            function t(t, n) {
                var r;
                if (r = e.call(this) || this, !t) throw new TypeError("Initialization settings are required");
                if ("function" != typeof t.currentTime) throw new TypeError("No currentTime getter specified");
                if (!t.mediaSource) throw new TypeError("No MediaSource specified");
                return r.bandwidth = t.bandwidth, r.throughput = {
                    rate: 0,
                    count: 0
                }, r.roundTrip = NaN, r.resetStats_(), r.mediaIndex = null, r.partIndex = null, r.hasPlayed_ = t.hasPlayed, r.currentTime_ = t.currentTime, r.seekable_ = t.seekable, r.seeking_ = t.seeking, r.duration_ = t.duration, r.mediaSource_ = t.mediaSource, r.vhs_ = t.vhs, r.loaderType_ = t.loaderType, r.currentMediaInfo_ = void 0, r.startingMediaInfo_ = void 0, r.segmentMetadataTrack_ = t.segmentMetadataTrack, r.goalBufferLength_ = t.goalBufferLength, r.sourceType_ = t.sourceType, r.sourceUpdater_ = t.sourceUpdater, r.inbandTextTracks_ = t.inbandTextTracks, r.state_ = "INIT", r.timelineChangeController_ = t.timelineChangeController, r.shouldSaveSegmentTimingInfo_ = !0, r.parse708captions_ = t.parse708captions, r.checkBufferTimeout_ = null, r.error_ = void 0, r.currentTimeline_ = -1, r.pendingSegment_ = null, r.xhrOptions_ = null, r.pendingSegments_ = [], r.audioDisabled_ = !1, r.isPendingTimestampOffset_ = !1, r.gopBuffer_ = [], r.timeMapping_ = 0, r.safeAppend_ = vy.browser.IE_VERSION >= 11, r.appendInitSegment_ = {
                    audio: !0,
                    video: !0
                }, r.playlistOfLastInitSegment_ = {
                    audio: null,
                    video: null
                }, r.callQueue_ = [], r.loadQueue_ = [], r.metadataQueue_ = {
                    id3: [],
                    caption: []
                }, r.waitingOnRemove_ = !1, r.quotaExceededErrorRetryTimeout_ = null, r.activeInitSegmentId_ = null, r.initSegments_ = {}, r.cacheEncryptionKeys_ = t.cacheEncryptionKeys, r.keyCache_ = {}, r.decrypter_ = t.decrypter, r.syncController_ = t.syncController, r.syncPoint_ = {
                    segmentIndex: 0,
                    time: 0
                }, r.transmuxer_ = r.createTransmuxer_(), r.triggerSyncInfoUpdate_ = function() {
                    return r.trigger("syncinfoupdate")
                }, r.syncController_.on("syncinfoupdate", r.triggerSyncInfoUpdate_), r.mediaSource_.addEventListener("sourceopen", (function() {
                    r.isEndOfStream_() || (r.ended_ = !1)
                })), r.fetchAtBuffer_ = !1, r.logger_ = wy("SegmentLoader[" + r.loaderType_ + "]"), Object.defineProperty(xs(r), "state", {
                    get: function() {
                        return this.state_
                    },
                    set: function(e) {
                        e !== this.state_ && (this.logger_(this.state_ + " -> " + e), this.state_ = e, this.trigger("statechange"))
                    }
                }), r.sourceUpdater_.on("ready", (function() {
                    r.hasEnoughInfoToAppend_() && r.processCallQueue_()
                })), "main" === r.loaderType_ && r.timelineChangeController_.on("pendingtimelinechange", (function() {
                    r.hasEnoughInfoToAppend_() && r.processCallQueue_()
                })), "audio" === r.loaderType_ && r.timelineChangeController_.on("timelinechange", (function() {
                    r.hasEnoughInfoToLoad_() && r.processLoadQueue_(), r.hasEnoughInfoToAppend_() && r.processCallQueue_()
                })), r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.createTransmuxer_ = function() {
                return qv({
                    remux: !1,
                    alignGopsAtEnd: this.safeAppend_,
                    keepOriginalTimestamps: !0,
                    parse708captions: this.parse708captions_
                })
            }, n.resetStats_ = function() {
                this.mediaBytesTransferred = 0, this.mediaRequests = 0, this.mediaRequestsAborted = 0, this.mediaRequestsTimedout = 0, this.mediaRequestsErrored = 0, this.mediaTransferDuration = 0, this.mediaSecondsLoaded = 0, this.mediaAppends = 0
            }, n.dispose = function() {
                this.trigger("dispose"), this.state = "DISPOSED", this.pause(), this.abort_(), this.transmuxer_ && this.transmuxer_.terminate(), this.resetStats_(), this.checkBufferTimeout_ && m.clearTimeout(this.checkBufferTimeout_), this.syncController_ && this.triggerSyncInfoUpdate_ && this.syncController_.off("syncinfoupdate", this.triggerSyncInfoUpdate_), this.off()
            }, n.setAudio = function(e) {
                this.audioDisabled_ = !e, e ? this.appendInitSegment_.audio = !0 : this.sourceUpdater_.removeAudio(0, this.duration_())
            }, n.abort = function() {
                "WAITING" === this.state ? (this.abort_(), this.state = "READY", this.paused() || this.monitorBuffer_()) : this.pendingSegment_ && (this.pendingSegment_ = null)
            }, n.abort_ = function() {
                this.pendingSegment_ && this.pendingSegment_.abortRequests && this.pendingSegment_.abortRequests(), this.pendingSegment_ = null, this.callQueue_ = [], this.loadQueue_ = [], this.metadataQueue_.id3 = [], this.metadataQueue_.caption = [], this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_), this.waitingOnRemove_ = !1, m.clearTimeout(this.quotaExceededErrorRetryTimeout_), this.quotaExceededErrorRetryTimeout_ = null
            }, n.checkForAbort_ = function(e) {
                return "APPENDING" !== this.state || this.pendingSegment_ ? !this.pendingSegment_ || this.pendingSegment_.requestId !== e : (this.state = "READY", !0)
            }, n.error = function(e) {
                return void 0 !== e && (this.logger_("error occurred:", e), this.error_ = e), this.pendingSegment_ = null, this.error_
            }, n.endOfStream = function() {
                this.ended_ = !0, this.transmuxer_ && Wv(this.transmuxer_), this.gopBuffer_.length = 0, this.pause(), this.trigger("ended")
            }, n.buffered_ = function() {
                var e = this.getMediaInfo_();
                if (!this.sourceUpdater_ || !e) return vy.createTimeRanges();
                if ("main" === this.loaderType_) {
                    var t = e.hasAudio,
                        n = e.hasVideo,
                        r = e.isMuxed;
                    if (n && t && !this.audioDisabled_ && !r) return this.sourceUpdater_.buffered();
                    if (n) return this.sourceUpdater_.videoBuffered()
                }
                return this.sourceUpdater_.audioBuffered()
            }, n.initSegmentForMap = function(e, t) {
                if (void 0 === t && (t = !1), !e) return null;
                var n = bv(e),
                    r = this.initSegments_[n];
                return t && !r && e.bytes && (this.initSegments_[n] = r = {
                    resolvedUri: e.resolvedUri,
                    byterange: e.byterange,
                    bytes: e.bytes,
                    tracks: e.tracks,
                    timescales: e.timescales
                }), r || e
            }, n.segmentKey = function(e, t) {
                if (void 0 === t && (t = !1), !e) return null;
                var n = Tv(e),
                    r = this.keyCache_[n];
                this.cacheEncryptionKeys_ && t && !r && e.bytes && (this.keyCache_[n] = r = {
                    resolvedUri: e.resolvedUri,
                    bytes: e.bytes
                });
                var i = {
                    resolvedUri: (r || e).resolvedUri
                };
                return r && (i.bytes = r.bytes), i
            }, n.couldBeginLoading_ = function() {
                return this.playlist_ && !this.paused()
            }, n.load = function() {
                if (this.monitorBuffer_(), this.playlist_) return "INIT" === this.state && this.couldBeginLoading_() ? this.init_() : void(!this.couldBeginLoading_() || "READY" !== this.state && "INIT" !== this.state || (this.state = "READY"))
            }, n.init_ = function() {
                return this.state = "READY", this.resetEverything(), this.monitorBuffer_()
            }, n.playlist = function(e, t) {
                if (void 0 === t && (t = {}), e) {
                    var n = this.playlist_,
                        r = this.pendingSegment_;
                    this.playlist_ = e, this.xhrOptions_ = t, "INIT" === this.state && (e.syncInfo = {
                        mediaSequence: e.mediaSequence,
                        time: 0
                    }, "main" === this.loaderType_ && this.syncController_.setDateTimeMappingForStart(e));
                    var i = null;
                    if (n && (n.id ? i = n.id : n.uri && (i = n.uri)), this.logger_("playlist update [" + i + " => " + (e.id || e.uri) + "]"), this.trigger("syncinfoupdate"), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                    if (!n || n.uri !== e.uri) return null !== this.mediaIndex && this.resyncLoader(), this.currentMediaInfo_ = void 0, void this.trigger("playlistupdate");
                    var a = e.mediaSequence - n.mediaSequence;
                    if (this.logger_("live window shift [" + a + "]"), null !== this.mediaIndex)
                        if (this.mediaIndex -= a, this.mediaIndex < 0) this.mediaIndex = null, this.partIndex = null;
                        else {
                            var o = this.playlist_.segments[this.mediaIndex];
                            if (this.partIndex && (!o.parts || !o.parts.length || !o.parts[this.partIndex])) {
                                var s = this.mediaIndex;
                                this.logger_("currently processing part (index " + this.partIndex + ") no longer exists."), this.resetLoader(), this.mediaIndex = s
                            }
                        } r && (r.mediaIndex -= a, r.mediaIndex < 0 ? (r.mediaIndex = null, r.partIndex = null) : (r.mediaIndex >= 0 && (r.segment = e.segments[r.mediaIndex]), r.partIndex >= 0 && r.segment.parts && (r.part = r.segment.parts[r.partIndex]))), this.syncController_.saveExpiredSegmentInfo(n, e)
                }
            }, n.pause = function() {
                this.checkBufferTimeout_ && (m.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = null)
            }, n.paused = function() {
                return null === this.checkBufferTimeout_
            }, n.resetEverything = function(e) {
                this.ended_ = !1, this.appendInitSegment_ = {
                    audio: !0,
                    video: !0
                }, this.resetLoader(), this.remove(0, 1 / 0, e), this.transmuxer_ && this.transmuxer_.postMessage({
                    action: "clearAllMp4Captions"
                })
            }, n.resetLoader = function() {
                this.fetchAtBuffer_ = !1, this.resyncLoader()
            }, n.resyncLoader = function() {
                this.transmuxer_ && Wv(this.transmuxer_), this.mediaIndex = null, this.partIndex = null, this.syncPoint_ = null, this.isPendingTimestampOffset_ = !1, this.callQueue_ = [], this.loadQueue_ = [], this.metadataQueue_.id3 = [], this.metadataQueue_.caption = [], this.abort(), this.transmuxer_ && this.transmuxer_.postMessage({
                    action: "clearParsedMp4Captions"
                })
            }, n.remove = function(e, t, n, r) {
                if (void 0 === n && (n = function() {}), void 0 === r && (r = !1), t === 1 / 0 && (t = this.duration_()), t <= e) this.logger_("skipping remove because end ${end} is <= start ${start}");
                else if (this.sourceUpdater_ && this.getMediaInfo_()) {
                    var i = 1,
                        a = function() {
                            0 === --i && n()
                        };
                    for (var o in !r && this.audioDisabled_ || (i++, this.sourceUpdater_.removeAudio(e, t, a)), (r || "main" === this.loaderType_) && (this.gopBuffer_ = function(e, t, n, r) {
                            for (var i = Math.ceil((t - r) * uh), a = Math.ceil((n - r) * uh), o = e.slice(), s = e.length; s-- && !(e[s].pts <= a););
                            if (-1 === s) return o;
                            for (var u = s + 1; u-- && !(e[u].pts <= i););
                            return u = Math.max(u, 0), o.splice(u, s - u + 1), o
                        }(this.gopBuffer_, e, t, this.timeMapping_), i++, this.sourceUpdater_.removeVideo(e, t, a)), this.inbandTextTracks_) Tb(e, t, this.inbandTextTracks_[o]);
                    Tb(e, t, this.segmentMetadataTrack_), a()
                } else this.logger_("skipping remove because no source updater or starting media info")
            }, n.monitorBuffer_ = function() {
                this.checkBufferTimeout_ && m.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = m.setTimeout(this.monitorBufferTick_.bind(this), 1)
            }, n.monitorBufferTick_ = function() {
                "READY" === this.state && this.fillBuffer_(), this.checkBufferTimeout_ && m.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = m.setTimeout(this.monitorBufferTick_.bind(this), 500)
            }, n.fillBuffer_ = function() {
                if (!this.sourceUpdater_.updating()) {
                    var e = this.chooseNextRequest_();
                    e && ("number" == typeof e.timestampOffset && (this.isPendingTimestampOffset_ = !1, this.timelineChangeController_.pendingTimelineChange({
                        type: this.loaderType_,
                        from: this.currentTimeline_,
                        to: e.timeline
                    })), this.loadSegment_(e))
                }
            }, n.isEndOfStream_ = function(e, t, n) {
                if (void 0 === e && (e = this.mediaIndex), void 0 === t && (t = this.playlist_), void 0 === n && (n = this.partIndex), !t || !this.mediaSource_) return !1;
                var r = "number" == typeof e && t.segments[e],
                    i = e + 1 === t.segments.length,
                    a = !r || !r.parts || n + 1 === r.parts.length;
                return t.endList && "open" === this.mediaSource_.readyState && i && a
            }, n.chooseNextRequest_ = function() {
                var e = My(this.buffered_()) || 0,
                    t = Math.max(0, e - this.currentTime_()),
                    n = !this.hasPlayed_() && t >= 1,
                    r = t >= this.goalBufferLength_(),
                    i = this.playlist_.segments;
                if (!i.length || n || r) return null;
                this.syncPoint_ = this.syncPoint_ || this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());
                var a = {
                    partIndex: null,
                    mediaIndex: null,
                    startOfSegment: null,
                    playlist: this.playlist_,
                    isSyncRequest: Boolean(!this.syncPoint_)
                };
                if (a.isSyncRequest) a.mediaIndex = function(e, t, n) {
                    t = t || [];
                    for (var r = [], i = 0, a = 0; a < t.length; a++) {
                        var o = t[a];
                        if (e === o.timeline && (r.push(a), (i += o.duration) > n)) return a
                    }
                    return 0 === r.length ? 0 : r[r.length - 1]
                }(this.currentTimeline_, i, e);
                else if (null !== this.mediaIndex) {
                    var o = i[this.mediaIndex],
                        s = "number" == typeof this.partIndex ? this.partIndex : -1;
                    a.startOfSegment = o.end ? o.end : e, o.parts && o.parts[s + 1] ? (a.mediaIndex = this.mediaIndex, a.partIndex = s + 1) : a.mediaIndex = this.mediaIndex + 1
                } else {
                    var u = Yy.getMediaInfoForTime({
                            playlist: this.playlist_,
                            currentTime: this.fetchAtBuffer_ ? e : this.currentTime_(),
                            startingPartIndex: this.syncPoint_.partIndex,
                            startingSegmentIndex: this.syncPoint_.segmentIndex,
                            startTime: this.syncPoint_.time
                        }),
                        l = u.segmentIndex,
                        c = u.startTime,
                        d = u.partIndex;
                    a.getMediaInfoForTime = this.fetchAtBuffer_ ? "bufferedEnd" : "currentTime", a.mediaIndex = l, a.startOfSegment = c, a.partIndex = d
                }
                var h = i[a.mediaIndex],
                    p = h && "number" == typeof a.partIndex && h.parts && h.parts[a.partIndex];
                if (!h || "number" == typeof a.partIndex && !p) return null;
                "number" != typeof a.partIndex && h.parts && (a.partIndex = 0);
                var f = this.mediaSource_ && "ended" === this.mediaSource_.readyState;
                return a.mediaIndex >= i.length - 1 && f && !this.seeking_() ? null : this.generateSegmentInfo_(a)
            }, n.generateSegmentInfo_ = function(e) {
                var t = e.playlist,
                    n = e.mediaIndex,
                    r = e.startOfSegment,
                    i = e.isSyncRequest,
                    a = e.partIndex,
                    o = e.forceTimestampOffset,
                    s = e.getMediaInfoForTime,
                    u = t.segments[n],
                    l = "number" == typeof a && u.parts[a],
                    c = {
                        requestId: "segment-loader-" + Math.random(),
                        uri: l && l.resolvedUri || u.resolvedUri,
                        mediaIndex: n,
                        partIndex: l ? a : null,
                        isSyncRequest: i,
                        startOfSegment: r,
                        playlist: t,
                        bytes: null,
                        encryptedBytes: null,
                        timestampOffset: null,
                        timeline: u.timeline,
                        duration: l && l.duration || u.duration,
                        segment: u,
                        part: l,
                        byteLength: 0,
                        transmuxer: this.transmuxer_,
                        getMediaInfoForTime: s
                    },
                    d = void 0 !== o ? o : this.isPendingTimestampOffset_;
                c.timestampOffset = this.timestampOffsetForSegment_({
                    segmentTimeline: u.timeline,
                    currentTimeline: this.currentTimeline_,
                    startOfSegment: r,
                    buffered: this.buffered_(),
                    overrideCheck: d
                });
                var h = My(this.sourceUpdater_.audioBuffered());
                return "number" == typeof h && (c.audioAppendStart = h - this.sourceUpdater_.audioTimestampOffset()), this.sourceUpdater_.videoBuffered().length && (c.gopsToAlignWith = function(e, t, n) {
                    if (null == t || !e.length) return [];
                    var r, i = Math.ceil((t - n + 3) * uh);
                    for (r = 0; r < e.length && !(e[r].pts > i); r++);
                    return e.slice(r)
                }(this.gopBuffer_, this.currentTime_() - this.sourceUpdater_.videoTimestampOffset(), this.timeMapping_)), c
            }, n.timestampOffsetForSegment_ = function(e) {
                return n = (t = e).segmentTimeline, r = t.currentTimeline, i = t.startOfSegment, a = t.buffered, t.overrideCheck || n !== r ? n < r ? i : a.length ? a.end(a.length - 1) : i : null;
                var t, n, r, i, a
            }, n.earlyAbortWhenNeeded_ = function(e) {
                if (!this.vhs_.tech_.paused() && this.xhrOptions_.timeout && this.playlist_.attributes.BANDWIDTH && !(Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3)) {
                    var t = this.currentTime_(),
                        n = e.bandwidth,
                        r = this.pendingSegment_.duration,
                        i = Yy.estimateSegmentRequestTime(r, n, this.playlist_, e.bytesReceived),
                        a = function(e, t, n) {
                            return void 0 === n && (n = 1), ((e.length ? e.end(e.length - 1) : 0) - t) / n
                        }(this.buffered_(), t, this.vhs_.tech_.playbackRate()) - 1;
                    if (!(i <= a)) {
                        var o = function(e) {
                            var t = e.master,
                                n = e.currentTime,
                                r = e.bandwidth,
                                i = e.duration,
                                a = e.segmentDuration,
                                o = e.timeUntilRebuffer,
                                s = e.currentTimeline,
                                u = e.syncController,
                                l = t.playlists.filter((function(e) {
                                    return !Yy.isIncompatible(e)
                                })),
                                c = l.filter(Yy.isEnabled);
                            c.length || (c = l.filter((function(e) {
                                return !Yy.isDisabled(e)
                            })));
                            var d = c.filter(Yy.hasAttribute.bind(null, "BANDWIDTH")).map((function(e) {
                                    var t = u.getSyncPoint(e, i, s, n) ? 1 : 2;
                                    return {
                                        playlist: e,
                                        rebufferingImpact: Yy.estimateSegmentRequestTime(a, r, e) * t - o
                                    }
                                })),
                                h = d.filter((function(e) {
                                    return e.rebufferingImpact <= 0
                                }));
                            return mb(h, (function(e, t) {
                                return gb(t.playlist, e.playlist)
                            })), h.length ? h[0] : (mb(d, (function(e, t) {
                                return e.rebufferingImpact - t.rebufferingImpact
                            })), d[0] || null)
                        }({
                            master: this.vhs_.playlists.master,
                            currentTime: t,
                            bandwidth: n,
                            duration: this.duration_(),
                            segmentDuration: r,
                            timeUntilRebuffer: a,
                            currentTimeline: this.currentTimeline_,
                            syncController: this.syncController_
                        });
                        if (o) {
                            var s = i - a - o.rebufferingImpact,
                                u = .5;
                            a <= Ay && (u = 1), !o.playlist || o.playlist.uri === this.playlist_.uri || s < u || (this.bandwidth = o.playlist.attributes.BANDWIDTH * Dv.BANDWIDTH_VARIANCE + 1, this.trigger("earlyabort"))
                        }
                    }
                }
            }, n.handleAbort_ = function(e) {
                this.logger_("Aborting " + wb(e)), this.mediaRequestsAborted += 1
            }, n.handleProgress_ = function(e, t) {
                this.earlyAbortWhenNeeded_(t.stats), this.checkForAbort_(t.requestId) || this.trigger("progress")
            }, n.handleTrackInfo_ = function(e, t) {
                this.earlyAbortWhenNeeded_(e.stats), this.checkForAbort_(e.requestId) || this.checkForIllegalMediaSwitch(t) || (t = t || {}, function(e, t) {
                    if (!e && !t || !e && t || e && !t) return !1;
                    if (e === t) return !0;
                    var n = Object.keys(e).sort(),
                        r = Object.keys(t).sort();
                    if (n.length !== r.length) return !1;
                    for (var i = 0; i < n.length; i++) {
                        var a = n[i];
                        if (a !== r[i]) return !1;
                        if (e[a] !== t[a]) return !1
                    }
                    return !0
                }(this.currentMediaInfo_, t) || (this.appendInitSegment_ = {
                    audio: !0,
                    video: !0
                }, this.startingMediaInfo_ = t, this.currentMediaInfo_ = t, this.logger_("trackinfo update", t), this.trigger("trackinfo")), this.checkForAbort_(e.requestId) || (this.pendingSegment_.trackInfo = t, this.hasEnoughInfoToAppend_() && this.processCallQueue_()))
            }, n.handleTimingInfo_ = function(e, t, n, r) {
                if (this.earlyAbortWhenNeeded_(e.stats), !this.checkForAbort_(e.requestId)) {
                    var i = this.pendingSegment_,
                        a = Ab(t);
                    i[a] = i[a] || {}, i[a][n] = r, this.logger_("timinginfo: " + t + " - " + n + " - " + r), this.hasEnoughInfoToAppend_() && this.processCallQueue_()
                }
            }, n.handleCaptions_ = function(e, t) {
                var n = this;
                if (this.earlyAbortWhenNeeded_(e.stats), !this.checkForAbort_(e.requestId))
                    if (0 !== t.length)
                        if (this.pendingSegment_.hasAppendedData_) {
                            var r = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset(),
                                i = {};
                            t.forEach((function(e) {
                                i[e.stream] = i[e.stream] || {
                                    startTime: 1 / 0,
                                    captions: [],
                                    endTime: 0
                                };
                                var t = i[e.stream];
                                t.startTime = Math.min(t.startTime, e.startTime + r), t.endTime = Math.max(t.endTime, e.endTime + r), t.captions.push(e)
                            })), Object.keys(i).forEach((function(e) {
                                var t = i[e],
                                    a = t.startTime,
                                    o = t.endTime,
                                    s = t.captions,
                                    u = n.inbandTextTracks_;
                                n.logger_("adding cues from " + a + " -> " + o + " for " + e),
                                    function(e, t, n) {
                                        if (!e[n]) {
                                            t.trigger({
                                                type: "usage",
                                                name: "vhs-608"
                                            }), t.trigger({
                                                type: "usage",
                                                name: "hls-608"
                                            });
                                            var r = n;
                                            /^cc708_/.test(n) && (r = "SERVICE" + n.split("_")[1]);
                                            var i = t.textTracks().getTrackById(r);
                                            if (i) e[n] = i;
                                            else {
                                                var a = n,
                                                    o = n,
                                                    s = !1,
                                                    u = (t.options_.vhs && t.options_.vhs.captionServices || {})[r];
                                                u && (a = u.label, o = u.language, s = u.default), e[n] = t.addRemoteTextTrack({
                                                    kind: "captions",
                                                    id: r,
                                                    default: s,
                                                    label: a,
                                                    language: o
                                                }, !1).track
                                            }
                                        }
                                    }(u, n.vhs_.tech_, e), Tb(a, o, u[e]),
                                    function(e) {
                                        var t = e.inbandTextTracks,
                                            n = e.captionArray,
                                            r = e.timestampOffset;
                                        if (n) {
                                            var i = m.WebKitDataCue || m.VTTCue;
                                            n.forEach((function(e) {
                                                var n = e.stream;
                                                t[n].addCue(new i(e.startTime + r, e.endTime + r, e.text))
                                            }))
                                        }
                                    }({
                                        captionArray: s,
                                        inbandTextTracks: u,
                                        timestampOffset: r
                                    })
                            })), this.transmuxer_ && this.transmuxer_.postMessage({
                                action: "clearParsedMp4Captions"
                            })
                        } else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this, e, t));
                else this.logger_("SegmentLoader received no captions from a caption event")
            }, n.handleId3_ = function(e, t, n) {
                if (this.earlyAbortWhenNeeded_(e.stats), !this.checkForAbort_(e.requestId))
                    if (this.pendingSegment_.hasAppendedData_) {
                        var r = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset();
                        ! function(e, t, n) {
                            e.metadataTrack_ || (e.metadataTrack_ = n.addRemoteTextTrack({
                                kind: "metadata",
                                label: "Timed Metadata"
                            }, !1).track, e.metadataTrack_.inBandMetadataTrackDispatchType = t)
                        }(this.inbandTextTracks_, n, this.vhs_.tech_), bb({
                            inbandTextTracks: this.inbandTextTracks_,
                            metadataArray: t,
                            timestampOffset: r,
                            videoDuration: this.duration_()
                        })
                    } else this.metadataQueue_.id3.push(this.handleId3_.bind(this, e, t, n))
            }, n.processMetadataQueue_ = function() {
                this.metadataQueue_.id3.forEach((function(e) {
                    return e()
                })), this.metadataQueue_.caption.forEach((function(e) {
                    return e()
                })), this.metadataQueue_.id3 = [], this.metadataQueue_.caption = []
            }, n.processCallQueue_ = function() {
                var e = this.callQueue_;
                this.callQueue_ = [], e.forEach((function(e) {
                    return e()
                }))
            }, n.processLoadQueue_ = function() {
                var e = this.loadQueue_;
                this.loadQueue_ = [], e.forEach((function(e) {
                    return e()
                }))
            }, n.hasEnoughInfoToLoad_ = function() {
                if ("audio" !== this.loaderType_) return !0;
                var e = this.pendingSegment_;
                return !!e && (!this.getCurrentMediaInfo_() || !Eb({
                    timelineChangeController: this.timelineChangeController_,
                    currentTimeline: this.currentTimeline_,
                    segmentTimeline: e.timeline,
                    loaderType: this.loaderType_,
                    audioDisabled: this.audioDisabled_
                }))
            }, n.getCurrentMediaInfo_ = function(e) {
                return void 0 === e && (e = this.pendingSegment_), e && e.trackInfo || this.currentMediaInfo_
            }, n.getMediaInfo_ = function(e) {
                return void 0 === e && (e = this.pendingSegment_), this.getCurrentMediaInfo_(e) || this.startingMediaInfo_
            }, n.hasEnoughInfoToAppend_ = function() {
                if (!this.sourceUpdater_.ready()) return !1;
                if (this.waitingOnRemove_ || this.quotaExceededErrorRetryTimeout_) return !1;
                var e = this.pendingSegment_,
                    t = this.getCurrentMediaInfo_();
                if (!e || !t) return !1;
                var n = t.hasAudio,
                    r = t.hasVideo,
                    i = t.isMuxed;
                return !(r && !e.videoTimingInfo) && (!(n && !this.audioDisabled_ && !i && !e.audioTimingInfo) && !Eb({
                    timelineChangeController: this.timelineChangeController_,
                    currentTimeline: this.currentTimeline_,
                    segmentTimeline: e.timeline,
                    loaderType: this.loaderType_,
                    audioDisabled: this.audioDisabled_
                }))
            }, n.handleData_ = function(e, t) {
                if (this.earlyAbortWhenNeeded_(e.stats), !this.checkForAbort_(e.requestId))
                    if (!this.callQueue_.length && this.hasEnoughInfoToAppend_()) {
                        var n = this.pendingSegment_;
                        if (this.setTimeMapping_(n.timeline), this.updateMediaSecondsLoaded_(n.segment), "closed" !== this.mediaSource_.readyState) {
                            if (e.map && (e.map = this.initSegmentForMap(e.map, !0), n.segment.map = e.map), e.key && this.segmentKey(e.key, !0), n.isFmp4 = e.isFmp4, n.timingInfo = n.timingInfo || {}, n.isFmp4) this.trigger("fmp4"), n.timingInfo.start = n[Ab(t.type)].start;
                            else {
                                var r, i = this.getCurrentMediaInfo_(),
                                    a = "main" === this.loaderType_ && i && i.hasVideo;
                                a && (r = n.videoTimingInfo.start), n.timingInfo.start = this.trueSegmentStart_({
                                    currentStart: n.timingInfo.start,
                                    playlist: n.playlist,
                                    mediaIndex: n.mediaIndex,
                                    currentVideoTimestampOffset: this.sourceUpdater_.videoTimestampOffset(),
                                    useVideoTimingInfo: a,
                                    firstVideoFrameTimeForData: r,
                                    videoTimingInfo: n.videoTimingInfo,
                                    audioTimingInfo: n.audioTimingInfo
                                })
                            }
                            if (this.updateAppendInitSegmentStatus(n, t.type), this.updateSourceBufferTimestampOffset_(n), n.isSyncRequest) {
                                this.updateTimingInfoEnd_(n), this.syncController_.saveSegmentTimingInfo({
                                    segmentInfo: n,
                                    shouldSaveTimelineMapping: "main" === this.loaderType_
                                });
                                var o = this.chooseNextRequest_();
                                if (o.mediaIndex !== n.mediaIndex || o.partIndex !== n.partIndex) return void this.logger_("sync segment was incorrect, not appending");
                                this.logger_("sync segment was correct, appending")
                            }
                            n.hasAppendedData_ = !0, this.processMetadataQueue_(), this.appendData_(n, t)
                        }
                    } else this.callQueue_.push(this.handleData_.bind(this, e, t))
            }, n.updateAppendInitSegmentStatus = function(e, t) {
                "main" !== this.loaderType_ || "number" != typeof e.timestampOffset || e.changedTimestampOffset || (this.appendInitSegment_ = {
                    audio: !0,
                    video: !0
                }), this.playlistOfLastInitSegment_[t] !== e.playlist && (this.appendInitSegment_[t] = !0)
            }, n.getInitSegmentAndUpdateState_ = function(e) {
                var t = e.type,
                    n = e.initSegment,
                    r = e.map,
                    i = e.playlist;
                if (r) {
                    var a = bv(r);
                    if (this.activeInitSegmentId_ === a) return null;
                    n = this.initSegmentForMap(r, !0).bytes, this.activeInitSegmentId_ = a
                }
                return n && this.appendInitSegment_[t] ? (this.playlistOfLastInitSegment_[t] = i, this.appendInitSegment_[t] = !1, this.activeInitSegmentId_ = null, n) : null
            }, n.handleQuotaExceededError_ = function(e, t) {
                var n = this,
                    r = e.segmentInfo,
                    i = e.type,
                    a = e.bytes,
                    o = this.sourceUpdater_.audioBuffered(),
                    s = this.sourceUpdater_.videoBuffered();
                o.length > 1 && this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: " + Iy(o).join(", ")), s.length > 1 && this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: " + Iy(s).join(", "));
                var u = o.length ? o.start(0) : 0,
                    l = o.length ? o.end(o.length - 1) : 0,
                    c = s.length ? s.start(0) : 0,
                    d = s.length ? s.end(s.length - 1) : 0;
                if (l - u <= 1 && d - c <= 1) return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: " + a.byteLength + ", audio buffer: " + Iy(o).join(", ") + ", video buffer: " + Iy(s).join(", ") + ", "), this.error({
                    message: "Quota exceeded error with append of a single segment of content",
                    excludeUntil: 1 / 0
                }), void this.trigger("error");
                this.waitingOnRemove_ = !0, this.callQueue_.push(this.appendToSourceBuffer_.bind(this, {
                    segmentInfo: r,
                    type: i,
                    bytes: a
                }));
                var h = this.currentTime_() - 1;
                this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to " + h), this.remove(0, h, (function() {
                    n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"), n.waitingOnRemove_ = !1, n.quotaExceededErrorRetryTimeout_ = m.setTimeout((function() {
                        n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"), n.quotaExceededErrorRetryTimeout_ = null, n.processCallQueue_()
                    }), 1e3)
                }), !0)
            }, n.handleAppendError_ = function(e, t) {
                var n = e.segmentInfo,
                    r = e.type,
                    i = e.bytes;
                t && (22 !== t.code ? (this.logger_("Received non QUOTA_EXCEEDED_ERR on append", t), this.error(r + " append of " + i.length + "b failed for segment #" + n.mediaIndex + " in playlist " + n.playlist.id), this.trigger("appenderror")) : this.handleQuotaExceededError_({
                    segmentInfo: n,
                    type: r,
                    bytes: i
                }))
            }, n.appendToSourceBuffer_ = function(e) {
                var t, n, r, i = e.segmentInfo,
                    a = e.type,
                    o = e.initSegment,
                    s = e.data,
                    u = e.bytes;
                if (!u) {
                    var l = [s],
                        c = s.byteLength;
                    o && (l.unshift(o), c += o.byteLength), r = 0, (t = {
                        bytes: c,
                        segments: l
                    }).bytes && (n = new Uint8Array(t.bytes), t.segments.forEach((function(e) {
                        n.set(e, r), r += e.byteLength
                    }))), u = n
                }
                this.sourceUpdater_.appendBuffer({
                    segmentInfo: i,
                    type: a,
                    bytes: u
                }, this.handleAppendError_.bind(this, {
                    segmentInfo: i,
                    type: a,
                    bytes: u
                }))
            }, n.handleSegmentTimingInfo_ = function(e, t, n) {
                if (this.pendingSegment_ && t === this.pendingSegment_.requestId) {
                    var r = this.pendingSegment_.segment,
                        i = e + "TimingInfo";
                    r[i] || (r[i] = {}), r[i].transmuxerPrependedSeconds = n.prependedContentDuration || 0, r[i].transmuxedPresentationStart = n.start.presentation, r[i].transmuxedDecodeStart = n.start.decode, r[i].transmuxedPresentationEnd = n.end.presentation, r[i].transmuxedDecodeEnd = n.end.decode, r[i].baseMediaDecodeTime = n.baseMediaDecodeTime
                }
            }, n.appendData_ = function(e, t) {
                var n = t.type,
                    r = t.data;
                if (r && r.byteLength && ("audio" !== n || !this.audioDisabled_)) {
                    var i = this.getInitSegmentAndUpdateState_({
                        type: n,
                        initSegment: t.initSegment,
                        playlist: e.playlist,
                        map: e.isFmp4 ? e.segment.map : null
                    });
                    this.appendToSourceBuffer_({
                        segmentInfo: e,
                        type: n,
                        initSegment: i,
                        data: r
                    })
                }
            }, n.loadSegment_ = function(e) {
                var t = this;
                this.state = "WAITING", this.pendingSegment_ = e, this.trimBackBuffer_(e), "number" == typeof e.timestampOffset && this.transmuxer_ && this.transmuxer_.postMessage({
                    action: "clearAllMp4Captions"
                }), this.hasEnoughInfoToLoad_() ? this.updateTransmuxerAndRequestSegment_(e) : this.loadQueue_.push((function() {
                    var n = ks({}, e, {
                        forceTimestampOffset: !0
                    });
                    ks(e, t.generateSegmentInfo_(n)), t.isPendingTimestampOffset_ = !1, t.updateTransmuxerAndRequestSegment_(e)
                }))
            }, n.updateTransmuxerAndRequestSegment_ = function(e) {
                var t = this;
                this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset) && (this.gopBuffer_.length = 0, e.gopsToAlignWith = [], this.timeMapping_ = 0, this.transmuxer_.postMessage({
                    action: "reset"
                }), this.transmuxer_.postMessage({
                    action: "setTimestampOffset",
                    timestampOffset: e.timestampOffset
                }));
                var n = this.createSimplifiedSegmentObj_(e),
                    r = this.isEndOfStream_(e.mediaIndex, e.playlist, e.partIndex),
                    i = null !== this.mediaIndex,
                    a = e.timeline !== this.currentTimeline_ && e.timeline > 0,
                    o = r || i && a;
                this.logger_("Requesting " + wb(e)), n.map && !n.map.bytes && (this.logger_("going to request init segment."), this.appendInitSegment_ = {
                    video: !0,
                    audio: !0
                }), e.abortRequests = ob({
                    xhr: this.vhs_.xhr,
                    xhrOptions: this.xhrOptions_,
                    decryptionWorker: this.decrypter_,
                    segment: n,
                    abortFn: this.handleAbort_.bind(this, e),
                    progressFn: this.handleProgress_.bind(this),
                    trackInfoFn: this.handleTrackInfo_.bind(this),
                    timingInfoFn: this.handleTimingInfo_.bind(this),
                    videoSegmentTimingInfoFn: this.handleSegmentTimingInfo_.bind(this, "video", e.requestId),
                    audioSegmentTimingInfoFn: this.handleSegmentTimingInfo_.bind(this, "audio", e.requestId),
                    captionsFn: this.handleCaptions_.bind(this),
                    isEndOfTimeline: o,
                    endedTimelineFn: function() {
                        t.logger_("received endedtimeline callback")
                    },
                    id3Fn: this.handleId3_.bind(this),
                    dataFn: this.handleData_.bind(this),
                    doneFn: this.segmentRequestFinished_.bind(this),
                    onTransmuxerLog: function(n) {
                        var r = n.message,
                            i = n.level,
                            a = n.stream;
                        t.logger_(wb(e) + " logged from transmuxer stream " + a + " as a " + i + ": " + r)
                    }
                })
            }, n.trimBackBuffer_ = function(e) {
                var t = function(e, t, n) {
                    var r = t - Dv.BACK_BUFFER_LENGTH;
                    e.length && (r = Math.max(r, e.start(0)));
                    var i = t - n;
                    return Math.min(i, r)
                }(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10);
                t > 0 && this.remove(0, t)
            }, n.createSimplifiedSegmentObj_ = function(e) {
                var t = e.segment,
                    n = e.part,
                    r = {
                        resolvedUri: n ? n.resolvedUri : t.resolvedUri,
                        byterange: n ? n.byterange : t.byterange,
                        requestId: e.requestId,
                        transmuxer: e.transmuxer,
                        audioAppendStart: e.audioAppendStart,
                        gopsToAlignWith: e.gopsToAlignWith,
                        part: e.part
                    },
                    i = e.playlist.segments[e.mediaIndex - 1];
                if (i && i.timeline === t.timeline && (i.videoTimingInfo ? r.baseStartTime = i.videoTimingInfo.transmuxedDecodeEnd : i.audioTimingInfo && (r.baseStartTime = i.audioTimingInfo.transmuxedDecodeEnd)), t.key) {
                    var a = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]);
                    r.key = this.segmentKey(t.key), r.key.iv = a
                }
                return t.map && (r.map = this.initSegmentForMap(t.map)), r
            }, n.saveTransferStats_ = function(e) {
                this.mediaRequests += 1, e && (this.mediaBytesTransferred += e.bytesReceived, this.mediaTransferDuration += e.roundTripTime)
            }, n.saveBandwidthRelatedStats_ = function(e, t) {
                this.pendingSegment_.byteLength = t.bytesReceived, e < Sb ? this.logger_("Ignoring segment's bandwidth because its duration of " + e + " is less than the min to record 0.016666666666666666") : (this.bandwidth = t.bandwidth, this.roundTrip = t.roundTripTime)
            }, n.handleTimeout_ = function() {
                this.mediaRequestsTimedout += 1, this.bandwidth = 1, this.roundTrip = NaN, this.trigger("bandwidthupdate")
            }, n.segmentRequestFinished_ = function(e, t, n) {
                if (this.callQueue_.length) this.callQueue_.push(this.segmentRequestFinished_.bind(this, e, t, n));
                else if (this.saveTransferStats_(t.stats), this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId) {
                    if (e) {
                        if (this.pendingSegment_ = null, this.state = "READY", e.code === Yv) return;
                        return this.pause(), e.code === Kv ? void this.handleTimeout_() : (this.mediaRequestsErrored += 1, this.error(e), void this.trigger("error"))
                    }
                    var r = this.pendingSegment_;
                    this.saveBandwidthRelatedStats_(r.duration, t.stats), r.endOfAllRequests = t.endOfAllRequests, n.gopInfo && (this.gopBuffer_ = function(e, t, n) {
                        if (!t.length) return e;
                        if (n) return t.slice();
                        for (var r = t[0].pts, i = 0; i < e.length && !(e[i].pts >= r); i++);
                        return e.slice(0, i).concat(t)
                    }(this.gopBuffer_, n.gopInfo, this.safeAppend_)), this.state = "APPENDING", this.trigger("appending"), this.waitForAppendsToComplete_(r)
                }
            }, n.setTimeMapping_ = function(e) {
                var t = this.syncController_.mappingForTimeline(e);
                null !== t && (this.timeMapping_ = t)
            }, n.updateMediaSecondsLoaded_ = function(e) {
                "number" == typeof e.start && "number" == typeof e.end ? this.mediaSecondsLoaded += e.end - e.start : this.mediaSecondsLoaded += e.duration
            }, n.shouldUpdateTransmuxerTimestampOffset_ = function(e) {
                return null !== e && ("main" === this.loaderType_ && e !== this.sourceUpdater_.videoTimestampOffset() || !this.audioDisabled_ && e !== this.sourceUpdater_.audioTimestampOffset())
            }, n.trueSegmentStart_ = function(e) {
                var t = e.currentStart,
                    n = e.playlist,
                    r = e.mediaIndex,
                    i = e.firstVideoFrameTimeForData,
                    a = e.currentVideoTimestampOffset,
                    o = e.useVideoTimingInfo,
                    s = e.videoTimingInfo,
                    u = e.audioTimingInfo;
                if (void 0 !== t) return t;
                if (!o) return u.start;
                var l = n.segments[r - 1];
                return 0 !== r && l && void 0 !== l.start && l.end === i + a ? s.start : i
            }, n.waitForAppendsToComplete_ = function(e) {
                var t = this.getCurrentMediaInfo_(e);
                if (!t) return this.error({
                    message: "No starting media returned, likely due to an unsupported media format.",
                    blacklistDuration: 1 / 0
                }), void this.trigger("error");
                var n = t.hasAudio,
                    r = t.hasVideo,
                    i = t.isMuxed,
                    a = "main" === this.loaderType_ && r,
                    o = !this.audioDisabled_ && n && !i;
                if (e.waitingOnAppends = 0, !e.hasAppendedData_) return e.timingInfo || "number" != typeof e.timestampOffset || (this.isPendingTimestampOffset_ = !0), e.timingInfo = {
                    start: 0
                }, e.waitingOnAppends++, this.isPendingTimestampOffset_ || (this.updateSourceBufferTimestampOffset_(e), this.processMetadataQueue_()), void this.checkAppendsDone_(e);
                a && e.waitingOnAppends++, o && e.waitingOnAppends++, a && this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this, e)), o && this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this, e))
            }, n.checkAppendsDone_ = function(e) {
                this.checkForAbort_(e.requestId) || (e.waitingOnAppends--, 0 === e.waitingOnAppends && this.handleAppendsDone_())
            }, n.checkForIllegalMediaSwitch = function(e) {
                var t = function(e, t, n) {
                    return "main" === e && t && n ? n.hasAudio || n.hasVideo ? t.hasVideo && !n.hasVideo ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest." : !t.hasVideo && n.hasVideo ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest." : null : "Neither audio nor video found in segment." : null
                }(this.loaderType_, this.getCurrentMediaInfo_(), e);
                return !!t && (this.error({
                    message: t,
                    blacklistDuration: 1 / 0
                }), this.trigger("error"), !0)
            }, n.updateSourceBufferTimestampOffset_ = function(e) {
                if (null !== e.timestampOffset && "number" == typeof e.timingInfo.start && !e.changedTimestampOffset && "main" === this.loaderType_) {
                    var t = !1;
                    e.timestampOffset -= e.timingInfo.start, e.changedTimestampOffset = !0, e.timestampOffset !== this.sourceUpdater_.videoTimestampOffset() && (this.sourceUpdater_.videoTimestampOffset(e.timestampOffset), t = !0), e.timestampOffset !== this.sourceUpdater_.audioTimestampOffset() && (this.sourceUpdater_.audioTimestampOffset(e.timestampOffset), t = !0), t && this.trigger("timestampoffset")
                }
            }, n.updateTimingInfoEnd_ = function(e) {
                e.timingInfo = e.timingInfo || {};
                var t = this.getMediaInfo_(),
                    n = "main" === this.loaderType_ && t && t.hasVideo && e.videoTimingInfo ? e.videoTimingInfo : e.audioTimingInfo;
                n && (e.timingInfo.end = "number" == typeof n.end ? n.end : n.start + e.duration)
            }, n.handleAppendsDone_ = function() {
                if (this.pendingSegment_ && this.trigger("appendsdone"), !this.pendingSegment_) return this.state = "READY", void(this.paused() || this.monitorBuffer_());
                var e = this.pendingSegment_;
                this.updateTimingInfoEnd_(e), this.shouldSaveSegmentTimingInfo_ && this.syncController_.saveSegmentTimingInfo({
                    segmentInfo: e,
                    shouldSaveTimelineMapping: "main" === this.loaderType_
                });
                var t = Pb(e, this.sourceType_);
                if (t && ("warn" === t.severity ? vy.log.warn(t.message) : this.logger_(t.message)), this.recordThroughput_(e), this.pendingSegment_ = null, this.state = "READY", !e.isSyncRequest || (this.trigger("syncinfoupdate"), e.hasAppendedData_)) {
                    this.logger_("Appended " + wb(e)), this.addSegmentMetadataCue_(e), this.fetchAtBuffer_ = !0, this.currentTimeline_ !== e.timeline && (this.timelineChangeController_.lastTimelineChange({
                        type: this.loaderType_,
                        from: this.currentTimeline_,
                        to: e.timeline
                    }), "main" !== this.loaderType_ || this.audioDisabled_ || this.timelineChangeController_.lastTimelineChange({
                        type: "audio",
                        from: this.currentTimeline_,
                        to: e.timeline
                    })), this.currentTimeline_ = e.timeline, this.trigger("syncinfoupdate");
                    var n = e.segment;
                    if (n.end && this.currentTime_() - n.end > 3 * e.playlist.targetDuration) this.resetEverything();
                    else null !== this.mediaIndex && this.trigger("bandwidthupdate"), this.trigger("progress"), this.mediaIndex = e.mediaIndex, this.partIndex = e.partIndex, this.isEndOfStream_(e.mediaIndex, e.playlist, e.partIndex) && this.endOfStream(), this.trigger("appended"), e.hasAppendedData_ && this.mediaAppends++, this.paused() || this.monitorBuffer_()
                } else this.logger_("Throwing away un-appended sync request " + wb(e))
            }, n.recordThroughput_ = function(e) {
                if (e.duration < Sb) this.logger_("Ignoring segment's throughput because its duration of " + e.duration + " is less than the min to record 0.016666666666666666");
                else {
                    var t = this.throughput.rate,
                        n = Date.now() - e.endOfAllRequests + 1,
                        r = Math.floor(e.byteLength / n * 8 * 1e3);
                    this.throughput.rate += (r - t) / ++this.throughput.count
                }
            }, n.addSegmentMetadataCue_ = function(e) {
                if (this.segmentMetadataTrack_) {
                    var t = e.segment,
                        n = t.start,
                        r = t.end;
                    if (_b(n) && _b(r)) {
                        Tb(n, r, this.segmentMetadataTrack_);
                        var i = m.WebKitDataCue || m.VTTCue,
                            a = {
                                custom: t.custom,
                                dateTimeObject: t.dateTimeObject,
                                dateTimeString: t.dateTimeString,
                                bandwidth: e.playlist.attributes.BANDWIDTH,
                                resolution: e.playlist.attributes.RESOLUTION,
                                codecs: e.playlist.attributes.CODECS,
                                byteLength: e.byteLength,
                                uri: e.uri,
                                timeline: e.timeline,
                                playlist: e.playlist.id,
                                start: n,
                                end: r
                            },
                            o = new i(n, r, JSON.stringify(a));
                        o.value = a, this.segmentMetadataTrack_.addCue(o)
                    }
                }
            }, t
        }(vy.EventTarget);

    function xb() {}
    var Ib, Mb = function(e) {
            return "string" != typeof e ? e : e.replace(/./, (function(e) {
                return e.toUpperCase()
            }))
        },
        Lb = ["video", "audio"],
        Db = function(e, t) {
            var n = t[e + "Buffer"];
            return n && n.updating || t.queuePending[e]
        },
        Ob = function e(t, n) {
            if (0 !== n.queue.length) {
                var r = 0,
                    i = n.queue[r];
                if ("mediaSource" !== i.type) {
                    if ("mediaSource" !== t && n.ready() && "closed" !== n.mediaSource.readyState && !Db(t, n)) {
                        if (i.type !== t) {
                            if (null === (r = function(e, t) {
                                    for (var n = 0; n < t.length; n++) {
                                        var r = t[n];
                                        if ("mediaSource" === r.type) return null;
                                        if (r.type === e) return n
                                    }
                                    return null
                                }(t, n.queue))) return;
                            i = n.queue[r]
                        }
                        return n.queue.splice(r, 1), n.queuePending[t] = i, i.action(t, n), i.doneFn ? void 0 : (n.queuePending[t] = null, void e(t, n))
                    }
                } else n.updating() || "closed" === n.mediaSource.readyState || (n.queue.shift(), i.action(n), i.doneFn && i.doneFn(), e("audio", n), e("video", n))
            }
        },
        Rb = function(e, t) {
            var n = t[e + "Buffer"],
                r = Mb(e);
            n && (n.removeEventListener("updateend", t["on" + r + "UpdateEnd_"]), n.removeEventListener("error", t["on" + r + "Error_"]), t.codecs[e] = null, t[e + "Buffer"] = null)
        },
        Nb = function(e, t) {
            return e && t && -1 !== Array.prototype.indexOf.call(e.sourceBuffers, t)
        },
        Bb = function(e, t, n) {
            return function(r, i) {
                var a = i[r + "Buffer"];
                if (Nb(i.mediaSource, a)) {
                    i.logger_("Appending segment " + t.mediaIndex + "'s " + e.length + " bytes to " + r + "Buffer");
                    try {
                        a.appendBuffer(e)
                    } catch (e) {
                        i.logger_("Error with code " + e.code + " " + (22 === e.code ? "(QUOTA_EXCEEDED_ERR) " : "") + "when appending segment " + t.mediaIndex + " to " + r + "Buffer"), i.queuePending[r] = null, n(e)
                    }
                }
            }
        },
        Ub = function(e, t) {
            return function(n, r) {
                var i = r[n + "Buffer"];
                if (Nb(r.mediaSource, i)) {
                    r.logger_("Removing " + e + " to " + t + " from " + n + "Buffer");
                    try {
                        i.remove(e, t)
                    } catch (i) {
                        r.logger_("Remove " + e + " to " + t + " from " + n + "Buffer failed")
                    }
                }
            }
        },
        Fb = function(e) {
            return function(t, n) {
                var r = n[t + "Buffer"];
                Nb(n.mediaSource, r) && (n.logger_("Setting " + t + "timestampOffset to " + e), r.timestampOffset = e)
            }
        },
        jb = function(e) {
            return function(t, n) {
                e()
            }
        },
        Hb = function(e) {
            return function(t) {
                if ("open" === t.mediaSource.readyState) {
                    t.logger_("Calling mediaSource endOfStream(" + (e || "") + ")");
                    try {
                        t.mediaSource.endOfStream(e)
                    } catch (e) {
                        vy.log.warn("Failed to call media source endOfStream", e)
                    }
                }
            }
        },
        Gb = function(e) {
            return function(t) {
                t.logger_("Setting mediaSource duration to " + e);
                try {
                    t.mediaSource.duration = e
                } catch (e) {
                    vy.log.warn("Failed to set media source duration", e)
                }
            }
        },
        Vb = function() {
            return function(e, t) {
                if ("open" === t.mediaSource.readyState) {
                    var n = t[e + "Buffer"];
                    if (Nb(t.mediaSource, n)) {
                        t.logger_("calling abort on " + e + "Buffer");
                        try {
                            n.abort()
                        } catch (t) {
                            vy.log.warn("Failed to abort on " + e + "Buffer", t)
                        }
                    }
                }
            }
        },
        Wb = function(e, t) {
            return function(n) {
                var r = Mb(e),
                    i = Ju(t);
                n.logger_("Adding " + e + "Buffer with codec " + t + " to mediaSource");
                var a = n.mediaSource.addSourceBuffer(i);
                a.addEventListener("updateend", n["on" + r + "UpdateEnd_"]), a.addEventListener("error", n["on" + r + "Error_"]), n.codecs[e] = t, n[e + "Buffer"] = a
            }
        },
        qb = function(e) {
            return function(t) {
                var n = t[e + "Buffer"];
                if (Rb(e, t), Nb(t.mediaSource, n)) {
                    t.logger_("Removing " + e + "Buffer with codec " + t.codecs[e] + " from mediaSource");
                    try {
                        t.mediaSource.removeSourceBuffer(n)
                    } catch (t) {
                        vy.log.warn("Failed to removeSourceBuffer " + e + "Buffer", t)
                    }
                }
            }
        },
        zb = function(e) {
            return function(t, n) {
                var r = n[t + "Buffer"],
                    i = Ju(e);
                Nb(n.mediaSource, r) && n.codecs[t] !== e && (n.logger_("changing " + t + "Buffer codec from " + n.codecs[t] + " to " + e), r.changeType(i), n.codecs[t] = e)
            }
        },
        Xb = function(e) {
            var t = e.type,
                n = e.sourceUpdater,
                r = e.action,
                i = e.doneFn,
                a = e.name;
            n.queue.push({
                type: t,
                action: r,
                doneFn: i,
                name: a
            }), Ob(t, n)
        },
        Kb = function(e, t) {
            return function(n) {
                if (t.queuePending[e]) {
                    var r = t.queuePending[e].doneFn;
                    t.queuePending[e] = null, r && r(t[e + "Error_"])
                }
                Ob(e, t)
            }
        },
        Yb = function(e) {
            function t(t) {
                var n;
                return (n = e.call(this) || this).mediaSource = t, n.sourceopenListener_ = function() {
                    return Ob("mediaSource", xs(n))
                }, n.mediaSource.addEventListener("sourceopen", n.sourceopenListener_), n.logger_ = wy("SourceUpdater"), n.audioTimestampOffset_ = 0, n.videoTimestampOffset_ = 0, n.queue = [], n.queuePending = {
                    audio: null,
                    video: null
                }, n.delayedAudioAppendQueue_ = [], n.videoAppendQueued_ = !1, n.codecs = {}, n.onVideoUpdateEnd_ = Kb("video", xs(n)), n.onAudioUpdateEnd_ = Kb("audio", xs(n)), n.onVideoError_ = function(e) {
                    n.videoError_ = e
                }, n.onAudioError_ = function(e) {
                    n.audioError_ = e
                }, n.createdSourceBuffers_ = !1, n.initializedEme_ = !1, n.triggeredReady_ = !1, n
            }
            Ms(t, e);
            var n = t.prototype;
            return n.initializedEme = function() {
                this.initializedEme_ = !0, this.triggerReady()
            }, n.hasCreatedSourceBuffers = function() {
                return this.createdSourceBuffers_
            }, n.hasInitializedAnyEme = function() {
                return this.initializedEme_
            }, n.ready = function() {
                return this.hasCreatedSourceBuffers() && this.hasInitializedAnyEme()
            }, n.createSourceBuffers = function(e) {
                this.hasCreatedSourceBuffers() || (this.addOrChangeSourceBuffers(e), this.createdSourceBuffers_ = !0, this.trigger("createdsourcebuffers"), this.triggerReady())
            }, n.triggerReady = function() {
                this.ready() && !this.triggeredReady_ && (this.triggeredReady_ = !0, this.trigger("ready"))
            }, n.addSourceBuffer = function(e, t) {
                Xb({
                    type: "mediaSource",
                    sourceUpdater: this,
                    action: Wb(e, t),
                    name: "addSourceBuffer"
                })
            }, n.abort = function(e) {
                Xb({
                    type: e,
                    sourceUpdater: this,
                    action: Vb(e),
                    name: "abort"
                })
            }, n.removeSourceBuffer = function(e) {
                this.canRemoveSourceBuffer() ? Xb({
                    type: "mediaSource",
                    sourceUpdater: this,
                    action: qb(e),
                    name: "removeSourceBuffer"
                }) : vy.log.error("removeSourceBuffer is not supported!")
            }, n.canRemoveSourceBuffer = function() {
                return !vy.browser.IE_VERSION && !vy.browser.IS_FIREFOX && m.MediaSource && m.MediaSource.prototype && "function" == typeof m.MediaSource.prototype.removeSourceBuffer
            }, t.canChangeType = function() {
                return m.SourceBuffer && m.SourceBuffer.prototype && "function" == typeof m.SourceBuffer.prototype.changeType
            }, n.canChangeType = function() {
                return this.constructor.canChangeType()
            }, n.changeType = function(e, t) {
                this.canChangeType() ? Xb({
                    type: e,
                    sourceUpdater: this,
                    action: zb(t),
                    name: "changeType"
                }) : vy.log.error("changeType is not supported!")
            }, n.addOrChangeSourceBuffers = function(e) {
                var t = this;
                if (!e || "object" != typeof e || 0 === Object.keys(e).length) throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");
                Object.keys(e).forEach((function(n) {
                    var r = e[n];
                    if (!t.hasCreatedSourceBuffers()) return t.addSourceBuffer(n, r);
                    t.canChangeType() && t.changeType(n, r)
                }))
            }, n.appendBuffer = function(e, t) {
                var n = this,
                    r = e.segmentInfo,
                    i = e.type,
                    a = e.bytes;
                if (this.processedAppend_ = !0, "audio" === i && this.videoBuffer && !this.videoAppendQueued_) return this.delayedAudioAppendQueue_.push([e, t]), void this.logger_("delayed audio append of " + a.length + " until video append");
                if (Xb({
                        type: i,
                        sourceUpdater: this,
                        action: Bb(a, r || {
                            mediaIndex: -1
                        }, t),
                        doneFn: t,
                        name: "appendBuffer"
                    }), "video" === i) {
                    if (this.videoAppendQueued_ = !0, !this.delayedAudioAppendQueue_.length) return;
                    var o = this.delayedAudioAppendQueue_.slice();
                    this.logger_("queuing delayed audio " + o.length + " appendBuffers"), this.delayedAudioAppendQueue_.length = 0, o.forEach((function(e) {
                        n.appendBuffer.apply(n, e)
                    }))
                }
            }, n.audioBuffered = function() {
                return Nb(this.mediaSource, this.audioBuffer) && this.audioBuffer.buffered ? this.audioBuffer.buffered : vy.createTimeRange()
            }, n.videoBuffered = function() {
                return Nb(this.mediaSource, this.videoBuffer) && this.videoBuffer.buffered ? this.videoBuffer.buffered : vy.createTimeRange()
            }, n.buffered = function() {
                var e = Nb(this.mediaSource, this.videoBuffer) ? this.videoBuffer : null,
                    t = Nb(this.mediaSource, this.audioBuffer) ? this.audioBuffer : null;
                return t && !e ? this.audioBuffered() : e && !t ? this.videoBuffered() : function(e, t) {
                    var n = null,
                        r = null,
                        i = 0,
                        a = [],
                        o = [];
                    if (!(e && e.length && t && t.length)) return vy.createTimeRange();
                    for (var s = e.length; s--;) a.push({
                        time: e.start(s),
                        type: "start"
                    }), a.push({
                        time: e.end(s),
                        type: "end"
                    });
                    for (s = t.length; s--;) a.push({
                        time: t.start(s),
                        type: "start"
                    }), a.push({
                        time: t.end(s),
                        type: "end"
                    });
                    for (a.sort((function(e, t) {
                            return e.time - t.time
                        })), s = 0; s < a.length; s++) "start" === a[s].type ? 2 == ++i && (n = a[s].time) : "end" === a[s].type && 1 == --i && (r = a[s].time), null !== n && null !== r && (o.push([n, r]), n = null, r = null);
                    return vy.createTimeRanges(o)
                }(this.audioBuffered(), this.videoBuffered())
            }, n.setDuration = function(e, t) {
                void 0 === t && (t = xb), Xb({
                    type: "mediaSource",
                    sourceUpdater: this,
                    action: Gb(e),
                    name: "duration",
                    doneFn: t
                })
            }, n.endOfStream = function(e, t) {
                void 0 === e && (e = null), void 0 === t && (t = xb), "string" != typeof e && (e = void 0), Xb({
                    type: "mediaSource",
                    sourceUpdater: this,
                    action: Hb(e),
                    name: "endOfStream",
                    doneFn: t
                })
            }, n.removeAudio = function(e, t, n) {
                void 0 === n && (n = xb), this.audioBuffered().length && 0 !== this.audioBuffered().end(0) ? Xb({
                    type: "audio",
                    sourceUpdater: this,
                    action: Ub(e, t),
                    doneFn: n,
                    name: "remove"
                }) : n()
            }, n.removeVideo = function(e, t, n) {
                void 0 === n && (n = xb), this.videoBuffered().length && 0 !== this.videoBuffered().end(0) ? Xb({
                    type: "video",
                    sourceUpdater: this,
                    action: Ub(e, t),
                    doneFn: n,
                    name: "remove"
                }) : n()
            }, n.updating = function() {
                return !(!Db("audio", this) && !Db("video", this))
            }, n.audioTimestampOffset = function(e) {
                return void 0 !== e && this.audioBuffer && this.audioTimestampOffset_ !== e && (Xb({
                    type: "audio",
                    sourceUpdater: this,
                    action: Fb(e),
                    name: "timestampOffset"
                }), this.audioTimestampOffset_ = e), this.audioTimestampOffset_
            }, n.videoTimestampOffset = function(e) {
                return void 0 !== e && this.videoBuffer && this.videoTimestampOffset !== e && (Xb({
                    type: "video",
                    sourceUpdater: this,
                    action: Fb(e),
                    name: "timestampOffset"
                }), this.videoTimestampOffset_ = e), this.videoTimestampOffset_
            }, n.audioQueueCallback = function(e) {
                this.audioBuffer && Xb({
                    type: "audio",
                    sourceUpdater: this,
                    action: jb(e),
                    name: "callback"
                })
            }, n.videoQueueCallback = function(e) {
                this.videoBuffer && Xb({
                    type: "video",
                    sourceUpdater: this,
                    action: jb(e),
                    name: "callback"
                })
            }, n.dispose = function() {
                var e = this;
                this.trigger("dispose"), Lb.forEach((function(t) {
                    e.abort(t), e.canRemoveSourceBuffer() ? e.removeSourceBuffer(t) : e[t + "QueueCallback"]((function() {
                        return Rb(t, e)
                    }))
                })), this.videoAppendQueued_ = !1, this.delayedAudioAppendQueue_.length = 0, this.sourceopenListener_ && this.mediaSource.removeEventListener("sourceopen", this.sourceopenListener_), this.off()
            }, t
        }(vy.EventTarget),
        Qb = function(e) {
            return decodeURIComponent(escape(String.fromCharCode.apply(null, e)))
        },
        $b = new Uint8Array("\n\n".split("").map((function(e) {
            return e.charCodeAt(0)
        }))),
        Jb = function(e) {
            function t(t, n) {
                var r;
                return void 0 === n && (n = {}), (r = e.call(this, t, n) || this).mediaSource_ = null, r.subtitlesTrack_ = null, r.loaderType_ = "subtitle", r.featuresNativeTextTracks_ = t.featuresNativeTextTracks, r.shouldSaveSegmentTimingInfo_ = !1, r
            }
            Ms(t, e);
            var n = t.prototype;
            return n.createTransmuxer_ = function() {
                return null
            }, n.buffered_ = function() {
                if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues || !this.subtitlesTrack_.cues.length) return vy.createTimeRanges();
                var e = this.subtitlesTrack_.cues,
                    t = e[0].startTime,
                    n = e[e.length - 1].startTime;
                return vy.createTimeRanges([
                    [t, n]
                ])
            }, n.initSegmentForMap = function(e, t) {
                if (void 0 === t && (t = !1), !e) return null;
                var n = bv(e),
                    r = this.initSegments_[n];
                if (t && !r && e.bytes) {
                    var i = $b.byteLength + e.bytes.byteLength,
                        a = new Uint8Array(i);
                    a.set(e.bytes), a.set($b, e.bytes.byteLength), this.initSegments_[n] = r = {
                        resolvedUri: e.resolvedUri,
                        byterange: e.byterange,
                        bytes: a
                    }
                }
                return r || e
            }, n.couldBeginLoading_ = function() {
                return this.playlist_ && this.subtitlesTrack_ && !this.paused()
            }, n.init_ = function() {
                return this.state = "READY", this.resetEverything(), this.monitorBuffer_()
            }, n.track = function(e) {
                return void 0 === e || (this.subtitlesTrack_ = e, "INIT" === this.state && this.couldBeginLoading_() && this.init_()), this.subtitlesTrack_
            }, n.remove = function(e, t) {
                Tb(e, t, this.subtitlesTrack_)
            }, n.fillBuffer_ = function() {
                var e = this,
                    t = this.chooseNextRequest_();
                if (t) {
                    if (null === this.syncController_.timestampOffsetForTimeline(t.timeline)) {
                        return this.syncController_.one("timestampoffset", (function() {
                            e.state = "READY", e.paused() || e.monitorBuffer_()
                        })), void(this.state = "WAITING_ON_TIMELINE")
                    }
                    this.loadSegment_(t)
                }
            }, n.timestampOffsetForSegment_ = function() {
                return null
            }, n.chooseNextRequest_ = function() {
                return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))
            }, n.skipEmptySegments_ = function(e) {
                for (; e && e.segment.empty;) {
                    if (e.mediaIndex + 1 >= e.playlist.segments.length) {
                        e = null;
                        break
                    }
                    e = this.generateSegmentInfo_({
                        playlist: e.playlist,
                        mediaIndex: e.mediaIndex + 1,
                        startOfSegment: e.startOfSegment + e.duration,
                        isSyncRequest: e.isSyncRequest
                    })
                }
                return e
            }, n.stopForError = function(e) {
                this.error(e), this.state = "READY", this.pause(), this.trigger("error")
            }, n.segmentRequestFinished_ = function(e, t, n) {
                var r = this;
                if (this.subtitlesTrack_) {
                    if (this.saveTransferStats_(t.stats), !this.pendingSegment_) return this.state = "READY", void(this.mediaRequestsAborted += 1);
                    if (e) return e.code === Kv && this.handleTimeout_(), e.code === Yv ? this.mediaRequestsAborted += 1 : this.mediaRequestsErrored += 1, void this.stopForError(e);
                    var i = this.pendingSegment_;
                    this.saveBandwidthRelatedStats_(i.duration, t.stats), this.state = "APPENDING", this.trigger("appending");
                    var a = i.segment;
                    if (a.map && (a.map.bytes = t.map.bytes), i.bytes = t.bytes, "function" != typeof m.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {
                        var o, s = function() {
                            r.subtitlesTrack_.tech_.off("vttjsloaded", o), r.stopForError({
                                message: "Error loading vtt.js"
                            })
                        };
                        return o = function() {
                            r.subtitlesTrack_.tech_.off("vttjserror", s), r.segmentRequestFinished_(e, t, n)
                        }, this.state = "WAITING_ON_VTTJS", this.subtitlesTrack_.tech_.one("vttjsloaded", o), void this.subtitlesTrack_.tech_.one("vttjserror", s)
                    }
                    a.requested = !0;
                    try {
                        this.parseVTTCues_(i)
                    } catch (e) {
                        return void this.stopForError({
                            message: e.message
                        })
                    }
                    if (this.updateTimeMapping_(i, this.syncController_.timelines[i.timeline], this.playlist_), i.cues.length ? i.timingInfo = {
                            start: i.cues[0].startTime,
                            end: i.cues[i.cues.length - 1].endTime
                        } : i.timingInfo = {
                            start: i.startOfSegment,
                            end: i.startOfSegment + i.duration
                        }, i.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                    i.byteLength = i.bytes.byteLength, this.mediaSecondsLoaded += a.duration, i.cues.forEach((function(e) {
                            r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_ ? new m.VTTCue(e.startTime, e.endTime, e.text) : e)
                        })),
                        function(e) {
                            var t = e.cues;
                            if (t)
                                for (var n = 0; n < t.length; n++) {
                                    for (var r = [], i = 0, a = 0; a < t.length; a++) t[n].startTime === t[a].startTime && t[n].endTime === t[a].endTime && t[n].text === t[a].text && ++i > 1 && r.push(t[a]);
                                    r.length && r.forEach((function(t) {
                                        return e.removeCue(t)
                                    }))
                                }
                        }(this.subtitlesTrack_), this.handleAppendsDone_()
                } else this.state = "READY"
            }, n.handleData_ = function() {}, n.updateTimingInfoEnd_ = function() {}, n.parseVTTCues_ = function(e) {
                var t, n = !1;
                "function" == typeof m.TextDecoder ? t = new m.TextDecoder("utf8") : (t = m.WebVTT.StringDecoder(), n = !0);
                var r = new m.WebVTT.Parser(m, m.vttjs, t);
                if (e.cues = [], e.timestampmap = {
                        MPEGTS: 0,
                        LOCAL: 0
                    }, r.oncue = e.cues.push.bind(e.cues), r.ontimestampmap = function(t) {
                        e.timestampmap = t
                    }, r.onparsingerror = function(e) {
                        vy.log.warn("Error encountered when parsing cues: " + e.message)
                    }, e.segment.map) {
                    var i = e.segment.map.bytes;
                    n && (i = Qb(i)), r.parse(i)
                }
                var a = e.bytes;
                n && (a = Qb(a)), r.parse(a), r.flush()
            }, n.updateTimeMapping_ = function(e, t, n) {
                var r = e.segment;
                if (t)
                    if (e.cues.length) {
                        var i = e.timestampmap,
                            a = i.MPEGTS / uh - i.LOCAL + t.mapping;
                        if (e.cues.forEach((function(e) {
                                e.startTime += a, e.endTime += a
                            })), !n.syncInfo) {
                            var o = e.cues[0].startTime,
                                s = e.cues[e.cues.length - 1].startTime;
                            n.syncInfo = {
                                mediaSequence: n.mediaSequence + e.mediaIndex,
                                time: Math.min(o, s - r.duration)
                            }
                        }
                    } else r.empty = !0
            }, t
        }(kb),
        Zb = function(e, t) {
            for (var n = e.cues, r = 0; r < n.length; r++) {
                var i = n[r];
                if (t >= i.adStartTime && t <= i.adEndTime) return i
            }
            return null
        },
        eT = [{
            name: "VOD",
            run: function(e, t, n, r, i) {
                if (n !== 1 / 0) {
                    return {
                        time: 0,
                        segmentIndex: 0,
                        partIndex: null
                    }
                }
                return null
            }
        }, {
            name: "ProgramDateTime",
            run: function(e, t, n, r, i) {
                if (!Object.keys(e.timelineToDatetimeMappings).length) return null;
                var a = null,
                    o = null,
                    s = Dy(t);
                i = i || 0;
                for (var u = 0; u < s.length; u++) {
                    var l = s[t.endList || 0 === i ? u : s.length - (u + 1)],
                        c = l.segment,
                        d = e.timelineToDatetimeMappings[c.timeline];
                    if (d && c.dateTimeObject) {
                        var h = c.dateTimeObject.getTime() / 1e3 + d;
                        if (c.parts && "number" == typeof l.partIndex)
                            for (var p = 0; p < l.partIndex; p++) h += c.parts[p].duration;
                        var f = Math.abs(i - h);
                        if (null !== o && (0 === f || o < f)) break;
                        o = f, a = {
                            time: h,
                            segmentIndex: l.segmentIndex,
                            partIndex: l.partIndex
                        }
                    }
                }
                return a
            }
        }, {
            name: "Segment",
            run: function(e, t, n, r, i) {
                var a = null,
                    o = null;
                i = i || 0;
                for (var s = Dy(t), u = 0; u < s.length; u++) {
                    var l = s[t.endList || 0 === i ? u : s.length - (u + 1)],
                        c = l.segment,
                        d = l.part && l.part.start || c && c.start;
                    if (c.timeline === r && void 0 !== d) {
                        var h = Math.abs(i - d);
                        if (null !== o && o < h) break;
                        (!a || null === o || o >= h) && (o = h, a = {
                            time: d,
                            segmentIndex: l.segmentIndex,
                            partIndex: l.partIndex
                        })
                    }
                }
                return a
            }
        }, {
            name: "Discontinuity",
            run: function(e, t, n, r, i) {
                var a = null;
                if (i = i || 0, t.discontinuityStarts && t.discontinuityStarts.length)
                    for (var o = null, s = 0; s < t.discontinuityStarts.length; s++) {
                        var u = t.discontinuityStarts[s],
                            l = t.discontinuitySequence + s + 1,
                            c = e.discontinuities[l];
                        if (c) {
                            var d = Math.abs(i - c.time);
                            if (null !== o && o < d) break;
                            (!a || null === o || o >= d) && (o = d, a = {
                                time: c.time,
                                segmentIndex: u,
                                partIndex: null
                            })
                        }
                    }
                return a
            }
        }, {
            name: "Playlist",
            run: function(e, t, n, r, i) {
                return t.syncInfo ? {
                    time: t.syncInfo.time,
                    segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence,
                    partIndex: null
                } : null
            }
        }],
        tT = function(e) {
            function t(t) {
                var n;
                return (n = e.call(this) || this).timelines = [], n.discontinuities = [], n.timelineToDatetimeMappings = {}, n.logger_ = wy("SyncController"), n
            }
            Ms(t, e);
            var n = t.prototype;
            return n.getSyncPoint = function(e, t, n, r) {
                var i = this.runStrategies_(e, t, n, r);
                return i.length ? this.selectSyncPoint_(i, {
                    key: "time",
                    value: r
                }) : null
            }, n.getExpiredTime = function(e, t) {
                if (!e || !e.segments) return null;
                var n = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                if (!n.length) return null;
                var r = this.selectSyncPoint_(n, {
                    key: "segmentIndex",
                    value: 0
                });
                return r.segmentIndex > 0 && (r.time *= -1), Math.abs(r.time + Fy({
                    defaultDuration: e.targetDuration,
                    durationList: e.segments,
                    startIndex: r.segmentIndex,
                    endIndex: 0
                }))
            }, n.runStrategies_ = function(e, t, n, r) {
                for (var i = [], a = 0; a < eT.length; a++) {
                    var o = eT[a],
                        s = o.run(this, e, t, n, r);
                    s && (s.strategy = o.name, i.push({
                        strategy: o.name,
                        syncPoint: s
                    }))
                }
                return i
            }, n.selectSyncPoint_ = function(e, t) {
                for (var n = e[0].syncPoint, r = Math.abs(e[0].syncPoint[t.key] - t.value), i = e[0].strategy, a = 1; a < e.length; a++) {
                    var o = Math.abs(e[a].syncPoint[t.key] - t.value);
                    o < r && (r = o, n = e[a].syncPoint, i = e[a].strategy)
                }
                return this.logger_("syncPoint for [" + t.key + ": " + t.value + "] chosen with strategy [" + i + "]: [time:" + n.time + ", segmentIndex:" + n.segmentIndex + ("number" == typeof n.partIndex ? ",partIndex:" + n.partIndex : "") + "]"), n
            }, n.saveExpiredSegmentInfo = function(e, t) {
                for (var n = t.mediaSequence - e.mediaSequence - 1; n >= 0; n--) {
                    var r = e.segments[n];
                    if (r && void 0 !== r.start) {
                        t.syncInfo = {
                            mediaSequence: e.mediaSequence + n,
                            time: r.start
                        }, this.logger_("playlist refresh sync: [time:" + t.syncInfo.time + ", mediaSequence: " + t.syncInfo.mediaSequence + "]"), this.trigger("syncinfoupdate");
                        break
                    }
                }
            }, n.setDateTimeMappingForStart = function(e) {
                if (this.timelineToDatetimeMappings = {}, e.segments && e.segments.length && e.segments[0].dateTimeObject) {
                    var t = e.segments[0],
                        n = t.dateTimeObject.getTime() / 1e3;
                    this.timelineToDatetimeMappings[t.timeline] = -n
                }
            }, n.saveSegmentTimingInfo = function(e) {
                var t = e.segmentInfo,
                    n = e.shouldSaveTimelineMapping,
                    r = this.calculateSegmentTimeMapping_(t, t.timingInfo, n),
                    i = t.segment;
                r && (this.saveDiscontinuitySyncInfo_(t), t.playlist.syncInfo || (t.playlist.syncInfo = {
                    mediaSequence: t.playlist.mediaSequence + t.mediaIndex,
                    time: i.start
                }));
                var a = i.dateTimeObject;
                i.discontinuity && n && a && (this.timelineToDatetimeMappings[i.timeline] = -a.getTime() / 1e3)
            }, n.timestampOffsetForTimeline = function(e) {
                return void 0 === this.timelines[e] ? null : this.timelines[e].time
            }, n.mappingForTimeline = function(e) {
                return void 0 === this.timelines[e] ? null : this.timelines[e].mapping
            }, n.calculateSegmentTimeMapping_ = function(e, t, n) {
                var r, i, a = e.segment,
                    o = e.part,
                    s = this.timelines[e.timeline];
                if ("number" == typeof e.timestampOffset) s = {
                    time: e.startOfSegment,
                    mapping: e.startOfSegment - t.start
                }, n && (this.timelines[e.timeline] = s, this.trigger("timestampoffset"), this.logger_("time mapping for timeline " + e.timeline + ": [time: " + s.time + "] [mapping: " + s.mapping + "]")), r = e.startOfSegment, i = t.end + s.mapping;
                else {
                    if (!s) return !1;
                    r = t.start + s.mapping, i = t.end + s.mapping
                }
                return o && (o.start = r, o.end = i), (!a.start || r < a.start) && (a.start = r), a.end = i, !0
            }, n.saveDiscontinuitySyncInfo_ = function(e) {
                var t = e.playlist,
                    n = e.segment;
                if (n.discontinuity) this.discontinuities[n.timeline] = {
                    time: n.start,
                    accuracy: 0
                };
                else if (t.discontinuityStarts && t.discontinuityStarts.length)
                    for (var r = 0; r < t.discontinuityStarts.length; r++) {
                        var i = t.discontinuityStarts[r],
                            a = t.discontinuitySequence + r + 1,
                            o = i - e.mediaIndex,
                            s = Math.abs(o);
                        if (!this.discontinuities[a] || this.discontinuities[a].accuracy > s) {
                            var u = void 0;
                            u = o < 0 ? n.start - Fy({
                                defaultDuration: t.targetDuration,
                                durationList: t.segments,
                                startIndex: e.mediaIndex,
                                endIndex: i
                            }) : n.end + Fy({
                                defaultDuration: t.targetDuration,
                                durationList: t.segments,
                                startIndex: e.mediaIndex + 1,
                                endIndex: i
                            }), this.discontinuities[a] = {
                                time: u,
                                accuracy: s
                            }
                        }
                    }
            }, n.dispose = function() {
                this.trigger("dispose"), this.off()
            }, t
        }(vy.EventTarget),
        nT = function(e) {
            function t() {
                var t;
                return (t = e.call(this) || this).pendingTimelineChanges_ = {}, t.lastTimelineChanges_ = {}, t
            }
            Ms(t, e);
            var n = t.prototype;
            return n.clearPendingTimelineChange = function(e) {
                this.pendingTimelineChanges_[e] = null, this.trigger("pendingtimelinechange")
            }, n.pendingTimelineChange = function(e) {
                var t = e.type,
                    n = e.from,
                    r = e.to;
                return "number" == typeof n && "number" == typeof r && (this.pendingTimelineChanges_[t] = {
                    type: t,
                    from: n,
                    to: r
                }, this.trigger("pendingtimelinechange")), this.pendingTimelineChanges_[t]
            }, n.lastTimelineChange = function(e) {
                var t = e.type,
                    n = e.from,
                    r = e.to;
                return "number" == typeof n && "number" == typeof r && (this.lastTimelineChanges_[t] = {
                    type: t,
                    from: n,
                    to: r
                }, delete this.pendingTimelineChanges_[t], this.trigger("timelinechange")), this.lastTimelineChanges_[t]
            }, n.dispose = function() {
                this.trigger("dispose"), this.pendingTimelineChanges_ = {}, this.lastTimelineChanges_ = {}, this.off()
            }, t
        }(vy.EventTarget),
        rT = Rv(Nv(Bv((function() {
            function e(e, t, n) {
                return e(n = {
                    path: t,
                    exports: {},
                    require: function(e, t) {
                        return function() {
                            throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")
                        }(null == t && n.path)
                    }
                }, n.exports), n.exports
            }
            var t = e((function(e) {
                    function t(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                        }
                    }
                    e.exports = function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }, e.exports.default = e.exports, e.exports.__esModule = !0
                })),
                n = e((function(e) {
                    function t(n, r) {
                        return e.exports = t = Object.setPrototypeOf || function(e, t) {
                            return e.__proto__ = t, e
                        }, e.exports.default = e.exports, e.exports.__esModule = !0, t(n, r)
                    }
                    e.exports = t, e.exports.default = e.exports, e.exports.__esModule = !0
                })),
                r = e((function(e) {
                    e.exports = function(e, t) {
                        e.prototype = Object.create(t.prototype), e.prototype.constructor = e, n(e, t)
                    }, e.exports.default = e.exports, e.exports.__esModule = !0
                })),
                i = function() {
                    function e() {
                        this.listeners = {}
                    }
                    var t = e.prototype;
                    return t.on = function(e, t) {
                        this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                    }, t.off = function(e, t) {
                        if (!this.listeners[e]) return !1;
                        var n = this.listeners[e].indexOf(t);
                        return this.listeners[e] = this.listeners[e].slice(0), this.listeners[e].splice(n, 1), n > -1
                    }, t.trigger = function(e) {
                        var t = this.listeners[e];
                        if (t)
                            if (2 === arguments.length)
                                for (var n = t.length, r = 0; r < n; ++r) t[r].call(this, arguments[1]);
                            else
                                for (var i = Array.prototype.slice.call(arguments, 1), a = t.length, o = 0; o < a; ++o) t[o].apply(this, i)
                    }, t.dispose = function() {
                        this.listeners = {}
                    }, t.pipe = function(e) {
                        this.on("data", (function(t) {
                            e.push(t)
                        }))
                    }, e
                }();
            /*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */
            var a = null,
                o = function() {
                    function e(e) {
                        var t, n, r;
                        a || (a = function() {
                            var e, t, n, r, i, a, o, s, u = [
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ],
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ]
                                ],
                                l = u[0],
                                c = u[1],
                                d = l[4],
                                h = c[4],
                                p = [],
                                f = [];
                            for (e = 0; e < 256; e++) f[(p[e] = e << 1 ^ 283 * (e >> 7)) ^ e] = e;
                            for (t = n = 0; !d[t]; t ^= r || 1, n = f[n] || 1)
                                for (a = (a = n ^ n << 1 ^ n << 2 ^ n << 3 ^ n << 4) >> 8 ^ 255 & a ^ 99, d[t] = a, h[a] = t, s = 16843009 * p[i = p[r = p[t]]] ^ 65537 * i ^ 257 * r ^ 16843008 * t, o = 257 * p[a] ^ 16843008 * a, e = 0; e < 4; e++) l[e][t] = o = o << 24 ^ o >>> 8, c[e][a] = s = s << 24 ^ s >>> 8;
                            for (e = 0; e < 5; e++) l[e] = l[e].slice(0), c[e] = c[e].slice(0);
                            return u
                        }()), this._tables = [
                            [a[0][0].slice(), a[0][1].slice(), a[0][2].slice(), a[0][3].slice(), a[0][4].slice()],
                            [a[1][0].slice(), a[1][1].slice(), a[1][2].slice(), a[1][3].slice(), a[1][4].slice()]
                        ];
                        var i = this._tables[0][4],
                            o = this._tables[1],
                            s = e.length,
                            u = 1;
                        if (4 !== s && 6 !== s && 8 !== s) throw new Error("Invalid aes key size");
                        var l = e.slice(0),
                            c = [];
                        for (this._key = [l, c], t = s; t < 4 * s + 28; t++) r = l[t - 1], (t % s == 0 || 8 === s && t % s == 4) && (r = i[r >>> 24] << 24 ^ i[r >> 16 & 255] << 16 ^ i[r >> 8 & 255] << 8 ^ i[255 & r], t % s == 0 && (r = r << 8 ^ r >>> 24 ^ u << 24, u = u << 1 ^ 283 * (u >> 7))), l[t] = l[t - s] ^ r;
                        for (n = 0; t; n++, t--) r = l[3 & n ? t : t - 4], c[n] = t <= 4 || n < 4 ? r : o[0][i[r >>> 24]] ^ o[1][i[r >> 16 & 255]] ^ o[2][i[r >> 8 & 255]] ^ o[3][i[255 & r]]
                    }
                    return e.prototype.decrypt = function(e, t, n, r, i, a) {
                        var o, s, u, l, c = this._key[1],
                            d = e ^ c[0],
                            h = r ^ c[1],
                            p = n ^ c[2],
                            f = t ^ c[3],
                            m = c.length / 4 - 2,
                            g = 4,
                            y = this._tables[1],
                            v = y[0],
                            b = y[1],
                            T = y[2],
                            _ = y[3],
                            S = y[4];
                        for (l = 0; l < m; l++) o = v[d >>> 24] ^ b[h >> 16 & 255] ^ T[p >> 8 & 255] ^ _[255 & f] ^ c[g], s = v[h >>> 24] ^ b[p >> 16 & 255] ^ T[f >> 8 & 255] ^ _[255 & d] ^ c[g + 1], u = v[p >>> 24] ^ b[f >> 16 & 255] ^ T[d >> 8 & 255] ^ _[255 & h] ^ c[g + 2], f = v[f >>> 24] ^ b[d >> 16 & 255] ^ T[h >> 8 & 255] ^ _[255 & p] ^ c[g + 3], g += 4, d = o, h = s, p = u;
                        for (l = 0; l < 4; l++) i[(3 & -l) + a] = S[d >>> 24] << 24 ^ S[h >> 16 & 255] << 16 ^ S[p >> 8 & 255] << 8 ^ S[255 & f] ^ c[g++], o = d, d = h, h = p, p = f, f = o
                    }, e
                }(),
                s = function(e) {
                    function t() {
                        var t;
                        return (t = e.call(this, i) || this).jobs = [], t.delay = 1, t.timeout_ = null, t
                    }
                    r(t, e);
                    var n = t.prototype;
                    return n.processJob_ = function() {
                        this.jobs.shift()(), this.jobs.length ? this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay) : this.timeout_ = null
                    }, n.push = function(e) {
                        this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                    }, t
                }(i),
                u = function(e) {
                    return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
                },
                l = function() {
                    function e(t, n, r, i) {
                        var a = e.STEP,
                            o = new Int32Array(t.buffer),
                            l = new Uint8Array(t.byteLength),
                            c = 0;
                        for (this.asyncStream_ = new s, this.asyncStream_.push(this.decryptChunk_(o.subarray(c, c + a), n, r, l)), c = a; c < o.length; c += a) r = new Uint32Array([u(o[c - 4]), u(o[c - 3]), u(o[c - 2]), u(o[c - 1])]), this.asyncStream_.push(this.decryptChunk_(o.subarray(c, c + a), n, r, l));
                        this.asyncStream_.push((function() {
                            /*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
                            var e;
                            i(null, (e = l).subarray(0, e.byteLength - e[e.byteLength - 1]))
                        }))
                    }
                    return e.prototype.decryptChunk_ = function(e, t, n, r) {
                        return function() {
                            var i = function(e, t, n) {
                                var r, i, a, s, l, c, d, h, p, f = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                                    m = new o(Array.prototype.slice.call(t)),
                                    g = new Uint8Array(e.byteLength),
                                    y = new Int32Array(g.buffer);
                                for (r = n[0], i = n[1], a = n[2], s = n[3], p = 0; p < f.length; p += 4) l = u(f[p]), c = u(f[p + 1]), d = u(f[p + 2]), h = u(f[p + 3]), m.decrypt(l, c, d, h, y, p), y[p] = u(y[p] ^ r), y[p + 1] = u(y[p + 1] ^ i), y[p + 2] = u(y[p + 2] ^ a), y[p + 3] = u(y[p + 3] ^ s), r = l, i = c, a = d, s = h;
                                return g
                            }(e, t, n);
                            r.set(i, e.byteOffset)
                        }
                    }, t(e, null, [{
                        key: "STEP",
                        get: function() {
                            return 32e3
                        }
                    }]), e
                }();
            self.onmessage = function(e) {
                var t = e.data,
                    n = new Uint8Array(t.encrypted.bytes, t.encrypted.byteOffset, t.encrypted.byteLength),
                    r = new Uint32Array(t.key.bytes, t.key.byteOffset, t.key.byteLength / 4),
                    i = new Uint32Array(t.iv.bytes, t.iv.byteOffset, t.iv.byteLength / 4);
                new l(n, r, i, (function(e, n) {
                    var r, i;
                    self.postMessage((r = {
                        source: t.source,
                        decrypted: n
                    }, i = {}, Object.keys(r).forEach((function(e) {
                        var t = r[e];
                        ArrayBuffer.isView(t) ? i[e] = {
                            bytes: t.buffer,
                            byteOffset: t.byteOffset,
                            byteLength: t.byteLength
                        } : i[e] = t
                    })), i), [n.buffer])
                }))
            }
        })))),
        iT = function(e) {
            var t = e.default ? "main" : "alternative";
            return e.characteristics && e.characteristics.indexOf("public.accessibility.describes-video") >= 0 && (t = "main-desc"), t
        },
        aT = function(e, t) {
            e.abort(), e.pause(), t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(), t.activePlaylistLoader = null)
        },
        oT = function(e, t) {
            t.activePlaylistLoader = e, e.load()
        },
        sT = {
            AUDIO: function(e, t) {
                return function() {
                    var n = t.segmentLoaders[e],
                        r = t.mediaTypes[e],
                        i = t.blacklistCurrentPlaylist;
                    aT(n, r);
                    var a = r.activeTrack(),
                        o = r.activeGroup(),
                        s = (o.filter((function(e) {
                            return e.default
                        }))[0] || o[0]).id,
                        u = r.tracks[s];
                    if (a !== u) {
                        for (var l in vy.log.warn("Problem encountered loading the alternate audio track.Switching back to default."), r.tracks) r.tracks[l].enabled = r.tracks[l] === u;
                        r.onTrackChanged()
                    } else i({
                        message: "Problem encountered loading the default audio track."
                    })
                }
            },
            SUBTITLES: function(e, t) {
                return function() {
                    var n = t.segmentLoaders[e],
                        r = t.mediaTypes[e];
                    vy.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."), aT(n, r);
                    var i = r.activeTrack();
                    i && (i.mode = "disabled"), r.onTrackChanged()
                }
            }
        },
        uT = {
            AUDIO: function(e, t, n) {
                if (t) {
                    var r = n.tech,
                        i = n.requestOptions,
                        a = n.segmentLoaders[e];
                    t.on("loadedmetadata", (function() {
                        var e = t.media();
                        a.playlist(e, i), (!r.paused() || e.endList && "none" !== r.preload()) && a.load()
                    })), t.on("loadedplaylist", (function() {
                        a.playlist(t.media(), i), r.paused() || a.load()
                    })), t.on("error", sT[e](e, n))
                }
            },
            SUBTITLES: function(e, t, n) {
                var r = n.tech,
                    i = n.requestOptions,
                    a = n.segmentLoaders[e],
                    o = n.mediaTypes[e];
                t.on("loadedmetadata", (function() {
                    var e = t.media();
                    a.playlist(e, i), a.track(o.activeTrack()), (!r.paused() || e.endList && "none" !== r.preload()) && a.load()
                })), t.on("loadedplaylist", (function() {
                    a.playlist(t.media(), i), r.paused() || a.load()
                })), t.on("error", sT[e](e, n))
            }
        },
        lT = {
            AUDIO: function(e, t) {
                var n = t.vhs,
                    r = t.sourceType,
                    i = t.segmentLoaders[e],
                    a = t.requestOptions,
                    o = t.master.mediaGroups,
                    s = t.mediaTypes[e],
                    u = s.groups,
                    l = s.tracks,
                    c = s.logger_,
                    d = t.masterPlaylistLoader,
                    h = Ky(d.master);
                for (var p in o[e] && 0 !== Object.keys(o[e]).length || (o[e] = {
                        main: {
                            default: {
                                default: !0
                            }
                        }
                    }, h && (o[e].main.default.playlists = d.master.playlists)), o[e])
                    for (var f in u[p] || (u[p] = []), o[e][p]) {
                        var m = o[e][p][f],
                            g = void 0;
                        if (h ? (c("AUDIO group '" + p + "' label '" + f + "' is a master playlist"), m.isMasterPlaylist = !0, g = null) : g = "vhs-json" === r && m.playlists ? new lv(m.playlists[0], n, a) : m.resolvedUri ? new lv(m.resolvedUri, n, a) : m.playlists && "dash" === r ? new Lv(m.playlists[0], n, a, d) : null, m = vy.mergeOptions({
                                id: f,
                                playlistLoader: g
                            }, m), uT[e](e, m.playlistLoader, t), u[p].push(m), void 0 === l[f]) {
                            var y = new vy.AudioTrack({
                                id: f,
                                kind: iT(m),
                                enabled: !1,
                                language: m.language,
                                default: m.default,
                                label: f
                            });
                            l[f] = y
                        }
                    }
                i.on("error", sT[e](e, t))
            },
            SUBTITLES: function(e, t) {
                var n = t.tech,
                    r = t.vhs,
                    i = t.sourceType,
                    a = t.segmentLoaders[e],
                    o = t.requestOptions,
                    s = t.master.mediaGroups,
                    u = t.mediaTypes[e],
                    l = u.groups,
                    c = u.tracks,
                    d = t.masterPlaylistLoader;
                for (var h in s[e])
                    for (var p in l[h] || (l[h] = []), s[e][h])
                        if (!s[e][h][p].forced) {
                            var f = s[e][h][p],
                                m = void 0;
                            if ("hls" === i) m = new lv(f.resolvedUri, r, o);
                            else if ("dash" === i) {
                                if (!f.playlists.filter((function(e) {
                                        return e.excludeUntil !== 1 / 0
                                    })).length) return;
                                m = new Lv(f.playlists[0], r, o, d)
                            } else "vhs-json" === i && (m = new lv(f.playlists ? f.playlists[0] : f.resolvedUri, r, o));
                            if (f = vy.mergeOptions({
                                    id: p,
                                    playlistLoader: m
                                }, f), uT[e](e, f.playlistLoader, t), l[h].push(f), void 0 === c[p]) {
                                var g = n.addRemoteTextTrack({
                                    id: p,
                                    kind: "subtitles",
                                    default: f.default && f.autoselect,
                                    language: f.language,
                                    label: p
                                }, !1).track;
                                c[p] = g
                            }
                        } a.on("error", sT[e](e, t))
            },
            "CLOSED-CAPTIONS": function(e, t) {
                var n = t.tech,
                    r = t.master.mediaGroups,
                    i = t.mediaTypes[e],
                    a = i.groups,
                    o = i.tracks;
                for (var s in r[e])
                    for (var u in a[s] || (a[s] = []), r[e][s]) {
                        var l = r[e][s][u];
                        if (/^(?:CC|SERVICE)/.test(l.instreamId)) {
                            var c = n.options_.vhs && n.options_.vhs.captionServices || {},
                                d = {
                                    label: u,
                                    language: l.language,
                                    instreamId: l.instreamId,
                                    default: l.default && l.autoselect
                                };
                            if (c[d.instreamId] && (d = vy.mergeOptions(d, c[d.instreamId])), void 0 === d.default && delete d.default, a[s].push(vy.mergeOptions({
                                    id: u
                                }, l)), void 0 === o[u]) {
                                var h = n.addRemoteTextTrack({
                                    id: d.instreamId,
                                    kind: "captions",
                                    default: d.default,
                                    language: d.language,
                                    label: d.label
                                }, !1).track;
                                o[u] = h
                            }
                        }
                    }
            }
        },
        cT = function e(t, n) {
            for (var r = 0; r < t.length; r++) {
                if (zy(n, t[r])) return !0;
                if (t[r].playlists && e(t[r].playlists, n)) return !0
            }
            return !1
        },
        dT = {
            AUDIO: function(e, t) {
                return function() {
                    var n = t.mediaTypes[e].tracks;
                    for (var r in n)
                        if (n[r].enabled) return n[r];
                    return null
                }
            },
            SUBTITLES: function(e, t) {
                return function() {
                    var n = t.mediaTypes[e].tracks;
                    for (var r in n)
                        if ("showing" === n[r].mode || "hidden" === n[r].mode) return n[r];
                    return null
                }
            }
        },
        hT = function(e) {
            ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach((function(t) {
                lT[t](t, e)
            }));
            var t = e.mediaTypes,
                n = e.masterPlaylistLoader,
                r = e.tech,
                i = e.vhs,
                a = e.segmentLoaders,
                o = a.AUDIO,
                s = a.main;
            ["AUDIO", "SUBTITLES"].forEach((function(n) {
                t[n].activeGroup = function(e, t) {
                    return function(n) {
                        var r = t.masterPlaylistLoader,
                            i = t.mediaTypes[e].groups,
                            a = r.media();
                        if (!a) return null;
                        var o = null;
                        a.attributes[e] && (o = i[a.attributes[e]]);
                        var s = Object.keys(i);
                        if (!o)
                            if ("AUDIO" === e && s.length > 1 && Ky(t.master))
                                for (var u = 0; u < s.length; u++) {
                                    var l = i[s[u]];
                                    if (cT(l, a)) {
                                        o = l;
                                        break
                                    }
                                } else i.main ? o = i.main : 1 === s.length && (o = i[s[0]]);
                        return void 0 === n ? o : null !== n && o && o.filter((function(e) {
                            return e.id === n.id
                        }))[0] || null
                    }
                }(n, e), t[n].activeTrack = dT[n](n, e), t[n].onGroupChanged = function(e, t) {
                    return function() {
                        var n = t.segmentLoaders,
                            r = n[e],
                            i = n.main,
                            a = t.mediaTypes[e],
                            o = a.activeTrack(),
                            s = a.getActiveGroup(),
                            u = a.activePlaylistLoader,
                            l = a.lastGroup_;
                        s && l && s.id === l.id || (a.lastGroup_ = s, a.lastTrack_ = o, aT(r, a), s && !s.isMasterPlaylist && (s.playlistLoader ? (r.resyncLoader(), oT(s.playlistLoader, a)) : u && i.resetEverything()))
                    }
                }(n, e), t[n].onGroupChanging = function(e, t) {
                    return function() {
                        var n = t.segmentLoaders[e];
                        t.mediaTypes[e].lastGroup_ = null, n.abort(), n.pause()
                    }
                }(n, e), t[n].onTrackChanged = function(e, t) {
                    return function() {
                        var n = t.masterPlaylistLoader,
                            r = t.segmentLoaders,
                            i = r[e],
                            a = r.main,
                            o = t.mediaTypes[e],
                            s = o.activeTrack(),
                            u = o.getActiveGroup(),
                            l = o.activePlaylistLoader,
                            c = o.lastTrack_;
                        if ((!c || !s || c.id !== s.id) && (o.lastGroup_ = u, o.lastTrack_ = s, aT(i, o), u)) {
                            if (u.isMasterPlaylist) {
                                if (!s || !c || s.id === c.id) return;
                                var d = t.vhs.masterPlaylistController_,
                                    h = d.selectPlaylist();
                                if (d.media() === h) return;
                                return o.logger_("track change. Switching master audio from " + c.id + " to " + s.id), n.pause(), a.resetEverything(), void d.fastQualityChange_(h)
                            }
                            if ("AUDIO" === e) {
                                if (!u.playlistLoader) return a.setAudio(!0), void a.resetEverything();
                                i.setAudio(!0), a.setAudio(!1)
                            }
                            l !== u.playlistLoader ? (i.track && i.track(s), i.resetEverything(), oT(u.playlistLoader, o)) : oT(u.playlistLoader, o)
                        }
                    }
                }(n, e), t[n].getActiveGroup = function(e, t) {
                    var n = t.mediaTypes;
                    return function() {
                        var t = n[e].activeTrack();
                        return t ? n[e].activeGroup(t) : null
                    }
                }(n, e)
            }));
            var u = t.AUDIO.activeGroup();
            if (u) {
                var l = (u.filter((function(e) {
                    return e.default
                }))[0] || u[0]).id;
                t.AUDIO.tracks[l].enabled = !0, t.AUDIO.onGroupChanged(), t.AUDIO.onTrackChanged(), t.AUDIO.getActiveGroup().playlistLoader ? (s.setAudio(!1), o.setAudio(!0)) : s.setAudio(!0)
            }
            n.on("mediachange", (function() {
                ["AUDIO", "SUBTITLES"].forEach((function(e) {
                    return t[e].onGroupChanged()
                }))
            })), n.on("mediachanging", (function() {
                ["AUDIO", "SUBTITLES"].forEach((function(e) {
                    return t[e].onGroupChanging()
                }))
            }));
            var c = function() {
                t.AUDIO.onTrackChanged(), r.trigger({
                    type: "usage",
                    name: "vhs-audio-change"
                }), r.trigger({
                    type: "usage",
                    name: "hls-audio-change"
                })
            };
            for (var d in r.audioTracks().addEventListener("change", c), r.remoteTextTracks().addEventListener("change", t.SUBTITLES.onTrackChanged), i.on("dispose", (function() {
                    r.audioTracks().removeEventListener("change", c), r.remoteTextTracks().removeEventListener("change", t.SUBTITLES.onTrackChanged)
                })), r.clearTracks("audio"), t.AUDIO.tracks) r.audioTracks().addTrack(t.AUDIO.tracks[d])
        },
        pT = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred", "mediaAppends"],
        fT = function(e) {
            return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e]
        },
        mT = function(e) {
            function t(t) {
                var n;
                n = e.call(this) || this;
                var r = t.src,
                    i = t.handleManifestRedirects,
                    a = t.withCredentials,
                    o = t.tech,
                    s = t.bandwidth,
                    u = t.externVhs,
                    l = t.useCueTags,
                    c = t.blacklistDuration,
                    d = t.enableLowInitialPlaylist,
                    h = t.sourceType,
                    p = t.cacheEncryptionKeys,
                    f = t.experimentalBufferBasedABR;
                if (!r) throw new Error("A non-empty playlist URL or JSON manifest string is required");
                var g = t.maxPlaylistRetries;
                null == g && (g = 1 / 0), Ib = u, n.experimentalBufferBasedABR = Boolean(f), n.withCredentials = a, n.tech_ = o, n.vhs_ = o.vhs, n.sourceType_ = h, n.useCueTags_ = l, n.blacklistDuration = c, n.maxPlaylistRetries = g, n.enableLowInitialPlaylist = d, n.useCueTags_ && (n.cueTagsTrack_ = n.tech_.addTextTrack("metadata", "ad-cues"), n.cueTagsTrack_.inBandMetadataTrackDispatchType = ""), n.requestOptions_ = {
                    withCredentials: a,
                    handleManifestRedirects: i,
                    maxPlaylistRetries: g,
                    timeout: null
                }, n.on("error", n.pauseLoading), n.mediaTypes_ = function() {
                    var e = {};
                    return ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach((function(t) {
                        e[t] = {
                            groups: {},
                            tracks: {},
                            activePlaylistLoader: null,
                            activeGroup: xb,
                            activeTrack: xb,
                            getActiveGroup: xb,
                            onGroupChanged: xb,
                            onTrackChanged: xb,
                            lastTrack_: null,
                            logger_: wy("MediaGroups[" + t + "]")
                        }
                    })), e
                }(), n.mediaSource = new m.MediaSource, n.handleDurationChange_ = n.handleDurationChange_.bind(xs(n)), n.handleSourceOpen_ = n.handleSourceOpen_.bind(xs(n)), n.handleSourceEnded_ = n.handleSourceEnded_.bind(xs(n)), n.mediaSource.addEventListener("durationchange", n.handleDurationChange_), n.mediaSource.addEventListener("sourceopen", n.handleSourceOpen_), n.mediaSource.addEventListener("sourceended", n.handleSourceEnded_), n.seekable_ = vy.createTimeRanges(), n.hasPlayed_ = !1, n.syncController_ = new tT(t), n.segmentMetadataTrack_ = o.addRemoteTextTrack({
                    kind: "metadata",
                    label: "segment-metadata"
                }, !1).track, n.decrypter_ = new rT, n.sourceUpdater_ = new Yb(n.mediaSource), n.inbandTextTracks_ = {}, n.timelineChangeController_ = new nT;
                var y = {
                    vhs: n.vhs_,
                    parse708captions: t.parse708captions,
                    mediaSource: n.mediaSource,
                    currentTime: n.tech_.currentTime.bind(n.tech_),
                    seekable: function() {
                        return n.seekable()
                    },
                    seeking: function() {
                        return n.tech_.seeking()
                    },
                    duration: function() {
                        return n.duration()
                    },
                    hasPlayed: function() {
                        return n.hasPlayed_
                    },
                    goalBufferLength: function() {
                        return n.goalBufferLength()
                    },
                    bandwidth: s,
                    syncController: n.syncController_,
                    decrypter: n.decrypter_,
                    sourceType: n.sourceType_,
                    inbandTextTracks: n.inbandTextTracks_,
                    cacheEncryptionKeys: p,
                    sourceUpdater: n.sourceUpdater_,
                    timelineChangeController: n.timelineChangeController_
                };
                n.masterPlaylistLoader_ = "dash" === n.sourceType_ ? new Lv(r, n.vhs_, n.requestOptions_) : new lv(r, n.vhs_, n.requestOptions_), n.setupMasterPlaylistLoaderListeners_(), n.mainSegmentLoader_ = new kb(vy.mergeOptions(y, {
                    segmentMetadataTrack: n.segmentMetadataTrack_,
                    loaderType: "main"
                }), t), n.audioSegmentLoader_ = new kb(vy.mergeOptions(y, {
                    loaderType: "audio"
                }), t), n.subtitleSegmentLoader_ = new Jb(vy.mergeOptions(y, {
                    loaderType: "vtt",
                    featuresNativeTextTracks: n.tech_.featuresNativeTextTracks
                }), t), n.setupSegmentLoaderListeners_(), n.experimentalBufferBasedABR && (n.masterPlaylistLoader_.one("loadedplaylist", (function() {
                    return n.startABRTimer_()
                })), n.tech_.on("pause", (function() {
                    return n.stopABRTimer_()
                })), n.tech_.on("play", (function() {
                    return n.startABRTimer_()
                }))), pT.forEach((function(e) {
                    n[e + "_"] = fT.bind(xs(n), e)
                })), n.logger_ = wy("MPC"), n.triggeredFmp4Usage = !1, "none" === n.tech_.preload() ? (n.loadOnPlay_ = function() {
                    n.loadOnPlay_ = null, n.masterPlaylistLoader_.load()
                }, n.tech_.one("play", n.loadOnPlay_)) : n.masterPlaylistLoader_.load(), n.timeToLoadedData__ = -1, n.mainAppendsToLoadedData__ = -1, n.audioAppendsToLoadedData__ = -1;
                var v = "none" === n.tech_.preload() ? "play" : "loadstart";
                return n.tech_.one(v, (function() {
                    var e = Date.now();
                    n.tech_.one("loadeddata", (function() {
                        n.timeToLoadedData__ = Date.now() - e, n.mainAppendsToLoadedData__ = n.mainSegmentLoader_.mediaAppends, n.audioAppendsToLoadedData__ = n.audioSegmentLoader_.mediaAppends
                    }))
                })), n
            }
            Ms(t, e);
            var n = t.prototype;
            return n.mainAppendsToLoadedData_ = function() {
                return this.mainAppendsToLoadedData__
            }, n.audioAppendsToLoadedData_ = function() {
                return this.audioAppendsToLoadedData__
            }, n.appendsToLoadedData_ = function() {
                var e = this.mainAppendsToLoadedData_(),
                    t = this.audioAppendsToLoadedData_();
                return -1 === e || -1 === t ? -1 : e + t
            }, n.timeToLoadedData_ = function() {
                return this.timeToLoadedData__
            }, n.checkABR_ = function() {
                var e = this.selectPlaylist();
                this.shouldSwitchToMedia_(e) && this.switchMedia_(e, "abr")
            }, n.switchMedia_ = function(e, t, n) {
                var r = this.media(),
                    i = r && (r.id || r.uri),
                    a = e.id || e.uri;
                i && i !== a && (this.logger_("switch media " + i + " -> " + a + " from " + t), this.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-change-" + t
                })), this.masterPlaylistLoader_.media(e, n)
            }, n.startABRTimer_ = function() {
                var e = this;
                this.stopABRTimer_(), this.abrTimer_ = m.setInterval((function() {
                    return e.checkABR_()
                }), 250)
            }, n.stopABRTimer_ = function() {
                this.tech_.scrubbing && this.tech_.scrubbing() || (m.clearInterval(this.abrTimer_), this.abrTimer_ = null)
            }, n.getAudioTrackPlaylists_ = function() {
                var e = this.master();
                if (!e || !e.mediaGroups || !e.mediaGroups.AUDIO) return e && e.playlists || [];
                var t, n = e.mediaGroups.AUDIO,
                    r = Object.keys(n);
                if (Object.keys(this.mediaTypes_.AUDIO.groups).length) t = this.mediaTypes_.AUDIO.activeTrack();
                else {
                    var i = n.main || r.length && n[r[0]];
                    for (var a in i)
                        if (i[a].default) {
                            t = {
                                label: a
                            };
                            break
                        }
                }
                if (!t) return [];
                var o = [];
                for (var s in n)
                    if (n[s][t.label]) {
                        var u = n[s][t.label];
                        u.playlists ? o.push.apply(o, u.playlists) : o.push(u)
                    } return o
            }, n.setupMasterPlaylistLoaderListeners_ = function() {
                var e = this;
                this.masterPlaylistLoader_.on("loadedmetadata", (function() {
                    var t = e.masterPlaylistLoader_.media(),
                        n = 1.5 * t.targetDuration * 1e3;
                    qy(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? e.requestOptions_.timeout = 0 : e.requestOptions_.timeout = n, t.endList && "none" !== e.tech_.preload() && (e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load()), hT({
                        sourceType: e.sourceType_,
                        segmentLoaders: {
                            AUDIO: e.audioSegmentLoader_,
                            SUBTITLES: e.subtitleSegmentLoader_,
                            main: e.mainSegmentLoader_
                        },
                        tech: e.tech_,
                        requestOptions: e.requestOptions_,
                        masterPlaylistLoader: e.masterPlaylistLoader_,
                        vhs: e.vhs_,
                        master: e.master(),
                        mediaTypes: e.mediaTypes_,
                        blacklistCurrentPlaylist: e.blacklistCurrentPlaylist.bind(e)
                    }), e.triggerPresenceUsage_(e.master(), t), e.setupFirstPlay(), !e.mediaTypes_.AUDIO.activePlaylistLoader || e.mediaTypes_.AUDIO.activePlaylistLoader.media() ? e.trigger("selectedinitialmedia") : e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata", (function() {
                        e.trigger("selectedinitialmedia")
                    }))
                })), this.masterPlaylistLoader_.on("loadedplaylist", (function() {
                    e.loadOnPlay_ && e.tech_.off("play", e.loadOnPlay_);
                    var t = e.masterPlaylistLoader_.media();
                    if (!t) {
                        var n;
                        if (e.excludeUnsupportedVariants_(), e.enableLowInitialPlaylist && (n = e.selectInitialPlaylist()), n || (n = e.selectPlaylist()), !n || !e.shouldSwitchToMedia_(n)) return;
                        if (e.initialMedia_ = n, e.switchMedia_(e.initialMedia_, "initial"), !("vhs-json" === e.sourceType_ && e.initialMedia_.segments)) return;
                        t = e.initialMedia_
                    }
                    e.handleUpdatedMediaPlaylist(t)
                })), this.masterPlaylistLoader_.on("error", (function() {
                    e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)
                })), this.masterPlaylistLoader_.on("mediachanging", (function() {
                    e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause()
                })), this.masterPlaylistLoader_.on("mediachange", (function() {
                    var t = e.masterPlaylistLoader_.media(),
                        n = 1.5 * t.targetDuration * 1e3;
                    qy(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? e.requestOptions_.timeout = 0 : e.requestOptions_.timeout = n, e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load(), e.tech_.trigger({
                        type: "mediachange",
                        bubbles: !0
                    })
                })), this.masterPlaylistLoader_.on("playlistunchanged", (function() {
                    var t = e.masterPlaylistLoader_.media();
                    "playlist-unchanged" !== t.lastExcludeReason_ && (e.stuckAtPlaylistEnd_(t) && (e.blacklistCurrentPlaylist({
                        message: "Playlist no longer updating.",
                        reason: "playlist-unchanged"
                    }), e.tech_.trigger("playliststuck")))
                })), this.masterPlaylistLoader_.on("renditiondisabled", (function() {
                    e.tech_.trigger({
                        type: "usage",
                        name: "vhs-rendition-disabled"
                    }), e.tech_.trigger({
                        type: "usage",
                        name: "hls-rendition-disabled"
                    })
                })), this.masterPlaylistLoader_.on("renditionenabled", (function() {
                    e.tech_.trigger({
                        type: "usage",
                        name: "vhs-rendition-enabled"
                    }), e.tech_.trigger({
                        type: "usage",
                        name: "hls-rendition-enabled"
                    })
                }))
            }, n.handleUpdatedMediaPlaylist = function(e) {
                this.useCueTags_ && this.updateAdCues_(e), this.mainSegmentLoader_.playlist(e, this.requestOptions_), this.updateDuration(!e.endList), this.tech_.paused() || (this.mainSegmentLoader_.load(), this.audioSegmentLoader_ && this.audioSegmentLoader_.load())
            }, n.triggerPresenceUsage_ = function(e, t) {
                var n = e.mediaGroups || {},
                    r = !0,
                    i = Object.keys(n.AUDIO);
                for (var a in n.AUDIO)
                    for (var o in n.AUDIO[a]) {
                        n.AUDIO[a][o].uri || (r = !1)
                    }
                r && (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-demuxed"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-demuxed"
                })), Object.keys(n.SUBTITLES).length && (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-webvtt"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-webvtt"
                })), Ib.Playlist.isAes(t) && (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-aes"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-aes"
                })), i.length && Object.keys(n.AUDIO[i[0]]).length > 1 && (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-alternate-audio"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-alternate-audio"
                })), this.useCueTags_ && (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-playlist-cue-tags"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-playlist-cue-tags"
                }))
            }, n.shouldSwitchToMedia_ = function(e) {
                var t = this.masterPlaylistLoader_.media(),
                    n = this.tech_.buffered();
                return function(e) {
                    var t = e.currentPlaylist,
                        n = e.nextPlaylist,
                        r = e.forwardBuffer,
                        i = e.bufferLowWaterLine,
                        a = e.bufferHighWaterLine,
                        o = e.duration,
                        s = e.experimentalBufferBasedABR,
                        u = e.log;
                    if (!n) return vy.log.warn("We received no playlist to switch to. Please check your stream."), !1;
                    var l = "allowing switch " + (t && t.id || "null") + " -> " + n.id;
                    if (!t || !t.endList) return u(l + " as current playlist " + (t ? "is live" : "is not set")), !0;
                    if (n.id === t.id) return !1;
                    var c = s ? Dv.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE : Dv.MAX_BUFFER_LOW_WATER_LINE;
                    if (o < c) return u(l + " as duration < max low water line (" + o + " < " + c + ")"), !0;
                    var d = n.attributes.BANDWIDTH,
                        h = t.attributes.BANDWIDTH;
                    if (d < h && (!s || r < a)) {
                        var p = l + " as next bandwidth < current bandwidth (" + d + " < " + h + ")";
                        return s && (p += " and forwardBuffer < bufferHighWaterLine (" + r + " < " + a + ")"), u(p), !0
                    }
                    if ((!s || d > h) && r >= i) {
                        var f = l + " as forwardBuffer >= bufferLowWaterLine (" + r + " >= " + i + ")";
                        return s && (f += " and next bandwidth > current bandwidth (" + d + " > " + h + ")"), u(f), !0
                    }
                    return u("not " + l + " as no switching criteria met"), !1
                }({
                    currentPlaylist: t,
                    nextPlaylist: e,
                    forwardBuffer: n.length ? n.end(n.length - 1) - this.tech_.currentTime() : 0,
                    bufferLowWaterLine: this.bufferLowWaterLine(),
                    bufferHighWaterLine: this.bufferHighWaterLine(),
                    duration: this.duration(),
                    experimentalBufferBasedABR: this.experimentalBufferBasedABR,
                    log: this.logger_
                })
            }, n.setupSegmentLoaderListeners_ = function() {
                var e = this;
                this.experimentalBufferBasedABR || (this.mainSegmentLoader_.on("bandwidthupdate", (function() {
                    var t = e.selectPlaylist();
                    e.shouldSwitchToMedia_(t) && e.switchMedia_(t, "bandwidthupdate"), e.tech_.trigger("bandwidthupdate")
                })), this.mainSegmentLoader_.on("progress", (function() {
                    e.trigger("progress")
                }))), this.mainSegmentLoader_.on("error", (function() {
                    e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())
                })), this.mainSegmentLoader_.on("appenderror", (function() {
                    e.error = e.mainSegmentLoader_.error_, e.trigger("error")
                })), this.mainSegmentLoader_.on("syncinfoupdate", (function() {
                    e.onSyncInfoUpdate_()
                })), this.mainSegmentLoader_.on("timestampoffset", (function() {
                    e.tech_.trigger({
                        type: "usage",
                        name: "vhs-timestamp-offset"
                    }), e.tech_.trigger({
                        type: "usage",
                        name: "hls-timestamp-offset"
                    })
                })), this.audioSegmentLoader_.on("syncinfoupdate", (function() {
                    e.onSyncInfoUpdate_()
                })), this.audioSegmentLoader_.on("appenderror", (function() {
                    e.error = e.audioSegmentLoader_.error_, e.trigger("error")
                })), this.mainSegmentLoader_.on("ended", (function() {
                    e.logger_("main segment loader ended"), e.onEndOfStream()
                })), this.mainSegmentLoader_.on("earlyabort", (function(t) {
                    e.experimentalBufferBasedABR || (e.delegateLoaders_("all", ["abort"]), e.blacklistCurrentPlaylist({
                        message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering."
                    }, 120))
                }));
                var t = function() {
                    if (!e.sourceUpdater_.hasCreatedSourceBuffers()) return e.tryToCreateSourceBuffers_();
                    var t = e.getCodecsOrExclude_();
                    t && e.sourceUpdater_.addOrChangeSourceBuffers(t)
                };
                this.mainSegmentLoader_.on("trackinfo", t), this.audioSegmentLoader_.on("trackinfo", t), this.mainSegmentLoader_.on("fmp4", (function() {
                    e.triggeredFmp4Usage || (e.tech_.trigger({
                        type: "usage",
                        name: "vhs-fmp4"
                    }), e.tech_.trigger({
                        type: "usage",
                        name: "hls-fmp4"
                    }), e.triggeredFmp4Usage = !0)
                })), this.audioSegmentLoader_.on("fmp4", (function() {
                    e.triggeredFmp4Usage || (e.tech_.trigger({
                        type: "usage",
                        name: "vhs-fmp4"
                    }), e.tech_.trigger({
                        type: "usage",
                        name: "hls-fmp4"
                    }), e.triggeredFmp4Usage = !0)
                })), this.audioSegmentLoader_.on("ended", (function() {
                    e.logger_("audioSegmentLoader ended"), e.onEndOfStream()
                }))
            }, n.mediaSecondsLoaded_ = function() {
                return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded)
            }, n.load = function() {
                this.mainSegmentLoader_.load(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load()
            }, n.smoothQualityChange_ = function(e) {
                void 0 === e && (e = this.selectPlaylist()), this.fastQualityChange_(e)
            }, n.fastQualityChange_ = function(e) {
                var t = this;
                void 0 === e && (e = this.selectPlaylist()), e !== this.masterPlaylistLoader_.media() ? (this.switchMedia_(e, "fast-quality"), this.mainSegmentLoader_.resetEverything((function() {
                    vy.browser.IE_VERSION || vy.browser.IS_EDGE ? t.tech_.setCurrentTime(t.tech_.currentTime() + .04) : t.tech_.setCurrentTime(t.tech_.currentTime())
                }))) : this.logger_("skipping fastQualityChange because new media is same as old")
            }, n.play = function() {
                if (!this.setupFirstPlay()) {
                    this.tech_.ended() && this.tech_.setCurrentTime(0), this.hasPlayed_ && this.load();
                    var e = this.tech_.seekable();
                    return this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.tech_.setCurrentTime(e.end(e.length - 1)) : void 0
                }
            }, n.setupFirstPlay = function() {
                var e = this,
                    t = this.masterPlaylistLoader_.media();
                if (!t || this.tech_.paused() || this.hasPlayed_) return !1;
                if (!t.endList) {
                    var n = this.seekable();
                    if (!n.length) return !1;
                    if (vy.browser.IE_VERSION && 0 === this.tech_.readyState()) return this.tech_.one("loadedmetadata", (function() {
                        e.trigger("firstplay"), e.tech_.setCurrentTime(n.end(0)), e.hasPlayed_ = !0
                    })), !1;
                    this.trigger("firstplay"), this.tech_.setCurrentTime(n.end(0))
                }
                return this.hasPlayed_ = !0, this.load(), !0
            }, n.handleSourceOpen_ = function() {
                if (this.tryToCreateSourceBuffers_(), this.tech_.autoplay()) {
                    var e = this.tech_.play();
                    void 0 !== e && "function" == typeof e.then && e.then(null, (function(e) {}))
                }
                this.trigger("sourceopen")
            }, n.handleSourceEnded_ = function() {
                if (this.inbandTextTracks_.metadataTrack_) {
                    var e = this.inbandTextTracks_.metadataTrack_.cues;
                    if (e && e.length) {
                        var t = this.duration();
                        e[e.length - 1].endTime = isNaN(t) || Math.abs(t) === 1 / 0 ? Number.MAX_VALUE : t
                    }
                }
            }, n.handleDurationChange_ = function() {
                this.tech_.trigger("durationchange")
            }, n.onEndOfStream = function() {
                var e = this.mainSegmentLoader_.ended_;
                if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                    var t = this.mainSegmentLoader_.getCurrentMediaInfo_();
                    e = !t || t.hasVideo ? e && this.audioSegmentLoader_.ended_ : this.audioSegmentLoader_.ended_
                }
                e && (this.stopABRTimer_(), this.sourceUpdater_.endOfStream())
            }, n.stuckAtPlaylistEnd_ = function(e) {
                if (!this.seekable().length) return !1;
                var t = this.syncController_.getExpiredTime(e, this.duration());
                if (null === t) return !1;
                var n = Ib.Playlist.playlistEnd(e, t),
                    r = this.tech_.currentTime(),
                    i = this.tech_.buffered();
                if (!i.length) return n - r <= Ey;
                var a = i.end(i.length - 1);
                return a - r <= Ey && n - a <= Ey
            }, n.blacklistCurrentPlaylist = function(e, t) {
                void 0 === e && (e = {});
                var n = e.playlist || this.masterPlaylistLoader_.media();
                if (t = t || e.blacklistDuration || this.blacklistDuration, !n) return this.error = e, void("open" !== this.mediaSource.readyState ? this.trigger("error") : this.sourceUpdater_.endOfStream("network"));
                n.playlistErrors_++;
                var r, i = this.masterPlaylistLoader_.master.playlists,
                    a = i.filter(Vy),
                    o = 1 === a.length && a[0] === n;
                if (1 === i.length && t !== 1 / 0) return vy.log.warn("Problem encountered with playlist " + n.id + ". Trying again since it is the only playlist."), this.tech_.trigger("retryplaylist"), this.masterPlaylistLoader_.load(o);
                if (o) {
                    var s = !1;
                    i.forEach((function(e) {
                        if (e !== n) {
                            var t = e.excludeUntil;
                            void 0 !== t && t !== 1 / 0 && (s = !0, delete e.excludeUntil)
                        }
                    })), s && (vy.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."), this.tech_.trigger("retryplaylist"))
                }
                r = n.playlistErrors_ > this.maxPlaylistRetries ? 1 / 0 : Date.now() + 1e3 * t, n.excludeUntil = r, e.reason && (n.lastExcludeReason_ = e.reason), this.tech_.trigger("blacklistplaylist"), this.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-blacklisted"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-rendition-blacklisted"
                });
                var u = this.selectPlaylist();
                if (!u) return this.error = "Playback cannot continue. No available working or supported playlists.", void this.trigger("error");
                var l = e.internal ? this.logger_ : vy.log.warn,
                    c = e.message ? " " + e.message : "";
                l((e.internal ? "Internal problem" : "Problem") + " encountered with playlist " + n.id + "." + c + " Switching to playlist " + u.id + "."), u.attributes.AUDIO !== n.attributes.AUDIO && this.delegateLoaders_("audio", ["abort", "pause"]), u.attributes.SUBTITLES !== n.attributes.SUBTITLES && this.delegateLoaders_("subtitle", ["abort", "pause"]), this.delegateLoaders_("main", ["abort", "pause"]);
                var d = u.targetDuration / 2 * 1e3 || 5e3,
                    h = "number" == typeof u.lastRequest && Date.now() - u.lastRequest <= d;
                return this.switchMedia_(u, "exclude", o || h)
            }, n.pauseLoading = function() {
                this.delegateLoaders_("all", ["abort", "pause"]), this.stopABRTimer_()
            }, n.delegateLoaders_ = function(e, t) {
                var n = this,
                    r = [],
                    i = "all" === e;
                (i || "main" === e) && r.push(this.masterPlaylistLoader_);
                var a = [];
                (i || "audio" === e) && a.push("AUDIO"), (i || "subtitle" === e) && (a.push("CLOSED-CAPTIONS"), a.push("SUBTITLES")), a.forEach((function(e) {
                    var t = n.mediaTypes_[e] && n.mediaTypes_[e].activePlaylistLoader;
                    t && r.push(t)
                })), ["main", "audio", "subtitle"].forEach((function(t) {
                    var i = n[t + "SegmentLoader_"];
                    !i || e !== t && "all" !== e || r.push(i)
                })), r.forEach((function(e) {
                    return t.forEach((function(t) {
                        "function" == typeof e[t] && e[t]()
                    }))
                }))
            }, n.setCurrentTime = function(e) {
                var t = Py(this.tech_.buffered(), e);
                return this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media() && this.masterPlaylistLoader_.media().segments ? t && t.length ? e : (this.mainSegmentLoader_.resetEverything(), this.mainSegmentLoader_.abort(), this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(), this.audioSegmentLoader_.abort()), this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(), this.subtitleSegmentLoader_.abort()), void this.load()) : 0
            }, n.duration = function() {
                if (!this.masterPlaylistLoader_) return 0;
                var e = this.masterPlaylistLoader_.media();
                return e ? e.endList ? this.mediaSource ? this.mediaSource.duration : Ib.Playlist.duration(e) : 1 / 0 : 0
            }, n.seekable = function() {
                return this.seekable_
            }, n.onSyncInfoUpdate_ = function() {
                var e;
                if (this.masterPlaylistLoader_) {
                    var t = this.masterPlaylistLoader_.media();
                    if (t) {
                        var n = this.syncController_.getExpiredTime(t, this.duration());
                        if (null !== n) {
                            var r = this.masterPlaylistLoader_.master,
                                i = Ib.Playlist.seekable(t, n, Ib.Playlist.liveEdgeDelay(r, t));
                            if (0 !== i.length) {
                                if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                    if (t = this.mediaTypes_.AUDIO.activePlaylistLoader.media(), null === (n = this.syncController_.getExpiredTime(t, this.duration()))) return;
                                    if (0 === (e = Ib.Playlist.seekable(t, n, Ib.Playlist.liveEdgeDelay(r, t))).length) return
                                }
                                var a, o;
                                this.seekable_ && this.seekable_.length && (a = this.seekable_.end(0), o = this.seekable_.start(0)), e ? e.start(0) > i.end(0) || i.start(0) > e.end(0) ? this.seekable_ = i : this.seekable_ = vy.createTimeRanges([
                                    [e.start(0) > i.start(0) ? e.start(0) : i.start(0), e.end(0) < i.end(0) ? e.end(0) : i.end(0)]
                                ]) : this.seekable_ = i, this.seekable_ && this.seekable_.length && this.seekable_.end(0) === a && this.seekable_.start(0) === o || (this.logger_("seekable updated [" + xy(this.seekable_) + "]"), this.tech_.trigger("seekablechanged"))
                            }
                        }
                    }
                }
            }, n.updateDuration = function(e) {
                if (this.updateDuration_ && (this.mediaSource.removeEventListener("sourceopen", this.updateDuration_), this.updateDuration_ = null), "open" !== this.mediaSource.readyState) return this.updateDuration_ = this.updateDuration.bind(this, e), void this.mediaSource.addEventListener("sourceopen", this.updateDuration_);
                if (e) {
                    var t = this.seekable();
                    if (!t.length) return;
                    (isNaN(this.mediaSource.duration) || this.mediaSource.duration < t.end(t.length - 1)) && this.sourceUpdater_.setDuration(t.end(t.length - 1))
                } else {
                    var n = this.tech_.buffered(),
                        r = Ib.Playlist.duration(this.masterPlaylistLoader_.media());
                    n.length > 0 && (r = Math.max(r, n.end(n.length - 1))), this.mediaSource.duration !== r && this.sourceUpdater_.setDuration(r)
                }
            }, n.dispose = function() {
                var e = this;
                this.trigger("dispose"), this.decrypter_.terminate(), this.masterPlaylistLoader_.dispose(), this.mainSegmentLoader_.dispose(), this.loadOnPlay_ && this.tech_.off("play", this.loadOnPlay_), ["AUDIO", "SUBTITLES"].forEach((function(t) {
                    var n = e.mediaTypes_[t].groups;
                    for (var r in n) n[r].forEach((function(e) {
                        e.playlistLoader && e.playlistLoader.dispose()
                    }))
                })), this.audioSegmentLoader_.dispose(), this.subtitleSegmentLoader_.dispose(), this.sourceUpdater_.dispose(), this.timelineChangeController_.dispose(), this.stopABRTimer_(), this.updateDuration_ && this.mediaSource.removeEventListener("sourceopen", this.updateDuration_), this.mediaSource.removeEventListener("durationchange", this.handleDurationChange_), this.mediaSource.removeEventListener("sourceopen", this.handleSourceOpen_), this.mediaSource.removeEventListener("sourceended", this.handleSourceEnded_), this.off()
            }, n.master = function() {
                return this.masterPlaylistLoader_.master
            }, n.media = function() {
                return this.masterPlaylistLoader_.media() || this.initialMedia_
            }, n.areMediaTypesKnown_ = function() {
                var e = !!this.mediaTypes_.AUDIO.activePlaylistLoader,
                    t = !!this.mainSegmentLoader_.getCurrentMediaInfo_(),
                    n = !e || !!this.audioSegmentLoader_.getCurrentMediaInfo_();
                return !(!t || !n)
            }, n.getCodecsOrExclude_ = function() {
                var e = this,
                    t = {
                        main: this.mainSegmentLoader_.getCurrentMediaInfo_() || {},
                        audio: this.audioSegmentLoader_.getCurrentMediaInfo_() || {}
                    };
                t.video = t.main;
                var n = db(this.master(), this.media()),
                    r = {},
                    i = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
                if (t.main.hasVideo && (r.video = n.video || t.main.videoCodec || "avc1.4d400d"), t.main.isMuxed && (r.video += "," + (n.audio || t.main.audioCodec || tl)), (t.main.hasAudio && !t.main.isMuxed || t.audio.hasAudio || i) && (r.audio = n.audio || t.main.audioCodec || t.audio.audioCodec || tl, t.audio.isFmp4 = t.main.hasAudio && !t.main.isMuxed ? t.main.isFmp4 : t.audio.isFmp4), r.audio || r.video) {
                    var a, o = {};
                    if (["video", "audio"].forEach((function(e) {
                            if (r.hasOwnProperty(e) && (i = t[e].isFmp4, s = r[e], !(i ? Zu(s) : el(s)))) {
                                var n = t[e].isFmp4 ? "browser" : "muxer";
                                o[n] = o[n] || [], o[n].push(r[e]), "audio" === e && (a = n)
                            }
                            var i, s
                        })), i && a && this.media().attributes.AUDIO) {
                        var s = this.media().attributes.AUDIO;
                        this.master().playlists.forEach((function(t) {
                            (t.attributes && t.attributes.AUDIO) === s && t !== e.media() && (t.excludeUntil = 1 / 0)
                        })), this.logger_("excluding audio group " + s + " as " + a + ' does not support codec(s): "' + r.audio + '"')
                    }
                    if (!Object.keys(o).length) {
                        if (this.sourceUpdater_.hasCreatedSourceBuffers() && !this.sourceUpdater_.canChangeType()) {
                            var u = [];
                            if (["video", "audio"].forEach((function(t) {
                                    var n = (Qu(e.sourceUpdater_.codecs[t] || "")[0] || {}).type,
                                        i = (Qu(r[t] || "")[0] || {}).type;
                                    n && i && n.toLowerCase() !== i.toLowerCase() && u.push('"' + e.sourceUpdater_.codecs[t] + '" -> "' + r[t] + '"')
                                })), u.length) return void this.blacklistCurrentPlaylist({
                                playlist: this.media(),
                                message: "Codec switching not supported: " + u.join(", ") + ".",
                                blacklistDuration: 1 / 0,
                                internal: !0
                            })
                        }
                        return r
                    }
                    var l = Object.keys(o).reduce((function(e, t) {
                        return e && (e += ", "), e += t + ' does not support codec(s): "' + o[t].join(",") + '"'
                    }), "") + ".";
                    this.blacklistCurrentPlaylist({
                        playlist: this.media(),
                        internal: !0,
                        message: l,
                        blacklistDuration: 1 / 0
                    })
                } else this.blacklistCurrentPlaylist({
                    playlist: this.media(),
                    message: "Could not determine codecs for playlist.",
                    blacklistDuration: 1 / 0
                })
            }, n.tryToCreateSourceBuffers_ = function() {
                if ("open" === this.mediaSource.readyState && !this.sourceUpdater_.hasCreatedSourceBuffers() && this.areMediaTypesKnown_()) {
                    var e = this.getCodecsOrExclude_();
                    if (e) {
                        this.sourceUpdater_.createSourceBuffers(e);
                        var t = [e.video, e.audio].filter(Boolean).join(",");
                        this.excludeIncompatibleVariants_(t)
                    }
                }
            }, n.excludeUnsupportedVariants_ = function() {
                var e = this,
                    t = this.master().playlists,
                    n = [];
                Object.keys(t).forEach((function(r) {
                    var i = t[r];
                    if (-1 === n.indexOf(i.id)) {
                        n.push(i.id);
                        var a = db(e.master, i),
                            o = [];
                        !a.audio || el(a.audio) || Zu(a.audio) || o.push("audio codec " + a.audio), !a.video || el(a.video) || Zu(a.video) || o.push("video codec " + a.video), a.text && "stpp.ttml.im1t" === a.text && o.push("text codec " + a.text), o.length && (i.excludeUntil = 1 / 0, e.logger_("excluding " + i.id + " for unsupported: " + o.join(", ")))
                    }
                }))
            }, n.excludeIncompatibleVariants_ = function(e) {
                var t = this,
                    n = [],
                    r = this.master().playlists,
                    i = lb(Qu(e)),
                    a = cb(i),
                    o = i.video && Qu(i.video)[0] || null,
                    s = i.audio && Qu(i.audio)[0] || null;
                Object.keys(r).forEach((function(e) {
                    var i = r[e];
                    if (-1 === n.indexOf(i.id) && i.excludeUntil !== 1 / 0) {
                        n.push(i.id);
                        var u = [],
                            l = db(t.masterPlaylistLoader_.master, i),
                            c = cb(l);
                        if (l.audio || l.video) {
                            if (c !== a && u.push('codec count "' + c + '" !== "' + a + '"'), !t.sourceUpdater_.canChangeType()) {
                                var d = l.video && Qu(l.video)[0] || null,
                                    h = l.audio && Qu(l.audio)[0] || null;
                                d && o && d.type.toLowerCase() !== o.type.toLowerCase() && u.push('video codec "' + d.type + '" !== "' + o.type + '"'), h && s && h.type.toLowerCase() !== s.type.toLowerCase() && u.push('audio codec "' + h.type + '" !== "' + s.type + '"')
                            }
                            u.length && (i.excludeUntil = 1 / 0, t.logger_("blacklisting " + i.id + ": " + u.join(" && ")))
                        }
                    }
                }))
            }, n.updateAdCues_ = function(e) {
                var t = 0,
                    n = this.seekable();
                n.length && (t = n.start(0)),
                    function(e, t, n) {
                        if (void 0 === n && (n = 0), e.segments)
                            for (var r, i = n, a = 0; a < e.segments.length; a++) {
                                var o = e.segments[a];
                                if (r || (r = Zb(t, i + o.duration / 2)), r) {
                                    if ("cueIn" in o) {
                                        r.endTime = i, r.adEndTime = i, i += o.duration, r = null;
                                        continue
                                    }
                                    if (i < r.endTime) {
                                        i += o.duration;
                                        continue
                                    }
                                    r.endTime += o.duration
                                } else if ("cueOut" in o && ((r = new m.VTTCue(i, i + o.duration, o.cueOut)).adStartTime = i, r.adEndTime = i + parseFloat(o.cueOut), t.addCue(r)), "cueOutCont" in o) {
                                    var s = o.cueOutCont.split("/").map(parseFloat),
                                        u = s[0],
                                        l = s[1];
                                    (r = new m.VTTCue(i, i + o.duration, "")).adStartTime = i - u, r.adEndTime = r.adStartTime + l, t.addCue(r)
                                }
                                i += o.duration
                            }
                    }(e, this.cueTagsTrack_, t)
            }, n.goalBufferLength = function() {
                var e = this.tech_.currentTime(),
                    t = Dv.GOAL_BUFFER_LENGTH,
                    n = Dv.GOAL_BUFFER_LENGTH_RATE,
                    r = Math.max(t, Dv.MAX_GOAL_BUFFER_LENGTH);
                return Math.min(t + e * n, r)
            }, n.bufferLowWaterLine = function() {
                var e = this.tech_.currentTime(),
                    t = Dv.BUFFER_LOW_WATER_LINE,
                    n = Dv.BUFFER_LOW_WATER_LINE_RATE,
                    r = Math.max(t, Dv.MAX_BUFFER_LOW_WATER_LINE),
                    i = Math.max(t, Dv.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);
                return Math.min(t + e * n, this.experimentalBufferBasedABR ? i : r)
            }, n.bufferHighWaterLine = function() {
                return Dv.BUFFER_HIGH_WATER_LINE
            }, t
        }(vy.EventTarget),
        gT = function(e, t, n) {
            var r, i, a, o = e.masterPlaylistController_,
                s = o[(e.options_.smoothQualityChange ? "smooth" : "fast") + "QualityChange_"].bind(o);
            if (t.attributes) {
                var u = t.attributes.RESOLUTION;
                this.width = u && u.width, this.height = u && u.height, this.bandwidth = t.attributes.BANDWIDTH
            }
            this.codecs = db(o.master(), t), this.playlist = t, this.id = n, this.enabled = (r = e.playlists, i = t.id, a = s, function(e) {
                var t = r.master.playlists[i],
                    n = Gy(t),
                    o = Vy(t);
                return void 0 === e ? o : (e ? delete t.disabled : t.disabled = !0, e === o || n || (a(), e ? r.trigger("renditionenabled") : r.trigger("renditiondisabled")), e)
            })
        },
        yT = ["seeking", "seeked", "pause", "playing", "error"],
        vT = function() {
            function e(e) {
                var t = this;
                this.masterPlaylistController_ = e.masterPlaylistController, this.tech_ = e.tech, this.seekable = e.seekable, this.allowSeeksWithinUnsafeLiveWindow = e.allowSeeksWithinUnsafeLiveWindow, this.liveRangeSafeTimeDelta = e.liveRangeSafeTimeDelta, this.media = e.media, this.consecutiveUpdates = 0, this.lastRecordedTime = null, this.timer_ = null, this.checkCurrentTimeTimeout_ = null, this.logger_ = wy("PlaybackWatcher"), this.logger_("initialize");
                var n = function() {
                        return t.monitorCurrentTime_()
                    },
                    r = function() {
                        return t.monitorCurrentTime_()
                    },
                    i = function() {
                        return t.techWaiting_()
                    },
                    a = function() {
                        return t.cancelTimer_()
                    },
                    o = function() {
                        return t.fixesBadSeeks_()
                    },
                    s = this.masterPlaylistController_,
                    u = ["main", "subtitle", "audio"],
                    l = {};
                u.forEach((function(e) {
                    l[e] = {
                        reset: function() {
                            return t.resetSegmentDownloads_(e)
                        },
                        updateend: function() {
                            return t.checkSegmentDownloads_(e)
                        }
                    }, s[e + "SegmentLoader_"].on("appendsdone", l[e].updateend), s[e + "SegmentLoader_"].on("playlistupdate", l[e].reset), t.tech_.on(["seeked", "seeking"], l[e].reset)
                })), this.tech_.on("seekablechanged", o), this.tech_.on("waiting", i), this.tech_.on(yT, a), this.tech_.on("canplay", r), this.tech_.one("play", n), this.dispose = function() {
                    t.logger_("dispose"), t.tech_.off("seekablechanged", o), t.tech_.off("waiting", i), t.tech_.off(yT, a), t.tech_.off("canplay", r), t.tech_.off("play", n), u.forEach((function(e) {
                        s[e + "SegmentLoader_"].off("appendsdone", l[e].updateend), s[e + "SegmentLoader_"].off("playlistupdate", l[e].reset), t.tech_.off(["seeked", "seeking"], l[e].reset)
                    })), t.checkCurrentTimeTimeout_ && m.clearTimeout(t.checkCurrentTimeTimeout_), t.cancelTimer_()
                }
            }
            var t = e.prototype;
            return t.monitorCurrentTime_ = function() {
                this.checkCurrentTime_(), this.checkCurrentTimeTimeout_ && m.clearTimeout(this.checkCurrentTimeTimeout_), this.checkCurrentTimeTimeout_ = m.setTimeout(this.monitorCurrentTime_.bind(this), 250)
            }, t.resetSegmentDownloads_ = function(e) {
                var t = this.masterPlaylistController_[e + "SegmentLoader_"];
                this[e + "StalledDownloads_"] > 0 && this.logger_("resetting possible stalled download count for " + e + " loader"), this[e + "StalledDownloads_"] = 0, this[e + "Buffered_"] = t.buffered_()
            }, t.checkSegmentDownloads_ = function(e) {
                var t = this.masterPlaylistController_,
                    n = t[e + "SegmentLoader_"],
                    r = n.buffered_(),
                    i = function(e, t) {
                        if (e === t) return !1;
                        if (!e && t || !t && e) return !0;
                        if (e.length !== t.length) return !0;
                        for (var n = 0; n < e.length; n++)
                            if (e.start(n) !== t.start(n) || e.end(n) !== t.end(n)) return !0;
                        return !1
                    }(this[e + "Buffered_"], r);
                this[e + "Buffered_"] = r, i ? this.resetSegmentDownloads_(e) : (this[e + "StalledDownloads_"]++, this.logger_("found #" + this[e + "StalledDownloads_"] + " " + e + " appends that did not increase buffer (possible stalled download)", {
                    playlistId: n.playlist_ && n.playlist_.id,
                    buffered: Iy(r)
                }), this[e + "StalledDownloads_"] < 10 || (this.logger_(e + " loader stalled download exclusion"), this.resetSegmentDownloads_(e), this.tech_.trigger({
                    type: "usage",
                    name: "vhs-" + e + "-download-exclusion"
                }), "subtitle" !== e && t.blacklistCurrentPlaylist({
                    message: "Excessive " + e + " segment downloading detected."
                }, 1 / 0)))
            }, t.checkCurrentTime_ = function() {
                if (this.tech_.seeking() && this.fixesBadSeeks_()) return this.consecutiveUpdates = 0, void(this.lastRecordedTime = this.tech_.currentTime());
                if (!this.tech_.paused() && !this.tech_.seeking()) {
                    var e = this.tech_.currentTime(),
                        t = this.tech_.buffered();
                    if (this.lastRecordedTime === e && (!t.length || e + Ey >= t.end(t.length - 1))) return this.techWaiting_();
                    this.consecutiveUpdates >= 5 && e === this.lastRecordedTime ? (this.consecutiveUpdates++, this.waiting_()) : e === this.lastRecordedTime ? this.consecutiveUpdates++ : (this.consecutiveUpdates = 0, this.lastRecordedTime = e)
                }
            }, t.cancelTimer_ = function() {
                this.consecutiveUpdates = 0, this.timer_ && (this.logger_("cancelTimer_"), clearTimeout(this.timer_)), this.timer_ = null
            }, t.fixesBadSeeks_ = function() {
                if (!this.tech_.seeking()) return !1;
                var e, t = this.seekable(),
                    n = this.tech_.currentTime();
                this.afterSeekableWindow_(t, n, this.media(), this.allowSeeksWithinUnsafeLiveWindow) && (e = t.end(t.length - 1));
                if (this.beforeSeekableWindow_(t, n)) {
                    var r = t.start(0);
                    e = r + (r === t.end(0) ? 0 : Ey)
                }
                if (void 0 !== e) return this.logger_("Trying to seek outside of seekable at time " + n + " with seekable range " + xy(t) + ". Seeking to " + e + "."), this.tech_.setCurrentTime(e), !0;
                var i = this.tech_.buffered();
                return !! function(e) {
                    var t = e.buffered,
                        n = e.targetDuration,
                        r = e.currentTime;
                    return !(!t.length || t.end(0) - t.start(0) < 2 * n || r > t.start(0) || !(t.start(0) - r < n))
                }({
                    buffered: i,
                    targetDuration: this.media().targetDuration,
                    currentTime: n
                }) && (e = i.start(0) + Ey, this.logger_("Buffered region starts (" + i.start(0) + ")  just beyond seek point (" + n + "). Seeking to " + e + "."), this.tech_.setCurrentTime(e), !0)
            }, t.waiting_ = function() {
                if (!this.techWaiting_()) {
                    var e = this.tech_.currentTime(),
                        t = this.tech_.buffered(),
                        n = Py(t, e);
                    return n.length && e + 3 <= n.end(0) ? (this.cancelTimer_(), this.tech_.setCurrentTime(e), this.logger_("Stopped at " + e + " while inside a buffered region [" + n.start(0) + " -> " + n.end(0) + "]. Attempting to resume playback by seeking to the current time."), this.tech_.trigger({
                        type: "usage",
                        name: "vhs-unknown-waiting"
                    }), void this.tech_.trigger({
                        type: "usage",
                        name: "hls-unknown-waiting"
                    })) : void 0
                }
            }, t.techWaiting_ = function() {
                var e = this.seekable(),
                    t = this.tech_.currentTime();
                if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                if (this.tech_.seeking() || null !== this.timer_) return !0;
                if (this.beforeSeekableWindow_(e, t)) {
                    var n = e.end(e.length - 1);
                    return this.logger_("Fell out of live window at time " + t + ". Seeking to live point (seekable end) " + n), this.cancelTimer_(), this.tech_.setCurrentTime(n), this.tech_.trigger({
                        type: "usage",
                        name: "vhs-live-resync"
                    }), this.tech_.trigger({
                        type: "usage",
                        name: "hls-live-resync"
                    }), !0
                }
                var r = this.tech_.vhs.masterPlaylistController_.sourceUpdater_,
                    i = this.tech_.buffered();
                if (this.videoUnderflow_({
                        audioBuffered: r.audioBuffered(),
                        videoBuffered: r.videoBuffered(),
                        currentTime: t
                    })) return this.cancelTimer_(), this.tech_.setCurrentTime(t), this.tech_.trigger({
                    type: "usage",
                    name: "vhs-video-underflow"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-video-underflow"
                }), !0;
                var a = ky(i, t);
                if (a.length > 0) {
                    var o = a.start(0) - t;
                    return this.logger_("Stopped at " + t + ", setting timer for " + o + ", seeking to " + a.start(0)), this.cancelTimer_(), this.timer_ = setTimeout(this.skipTheGap_.bind(this), 1e3 * o, t), !0
                }
                return !1
            }, t.afterSeekableWindow_ = function(e, t, n, r) {
                if (void 0 === r && (r = !1), !e.length) return !1;
                var i = e.end(e.length - 1) + Ey;
                return !n.endList && r && (i = e.end(e.length - 1) + 3 * n.targetDuration), t > i
            }, t.beforeSeekableWindow_ = function(e, t) {
                return !!(e.length && e.start(0) > 0 && t < e.start(0) - this.liveRangeSafeTimeDelta)
            }, t.videoUnderflow_ = function(e) {
                var t = e.videoBuffered,
                    n = e.audioBuffered,
                    r = e.currentTime;
                if (t) {
                    var i;
                    if (t.length && n.length) {
                        var a = Py(t, r - 3),
                            o = Py(t, r),
                            s = Py(n, r);
                        s.length && !o.length && a.length && (i = {
                            start: a.end(0),
                            end: s.end(0)
                        })
                    } else {
                        ky(t, r).length || (i = this.gapFromVideoUnderflow_(t, r))
                    }
                    return !!i && (this.logger_("Encountered a gap in video from " + i.start + " to " + i.end + ". Seeking to current time " + r), !0)
                }
            }, t.skipTheGap_ = function(e) {
                var t = this.tech_.buffered(),
                    n = this.tech_.currentTime(),
                    r = ky(t, n);
                this.cancelTimer_(), 0 !== r.length && n === e && (this.logger_("skipTheGap_:", "currentTime:", n, "scheduled currentTime:", e, "nextRange start:", r.start(0)), this.tech_.setCurrentTime(r.start(0) + Ay), this.tech_.trigger({
                    type: "usage",
                    name: "vhs-gap-skip"
                }), this.tech_.trigger({
                    type: "usage",
                    name: "hls-gap-skip"
                }))
            }, t.gapFromVideoUnderflow_ = function(e, t) {
                for (var n = function(e) {
                        if (e.length < 2) return vy.createTimeRanges();
                        for (var t = [], n = 1; n < e.length; n++) {
                            var r = e.end(n - 1),
                                i = e.start(n);
                            t.push([r, i])
                        }
                        return vy.createTimeRanges(t)
                    }(e), r = 0; r < n.length; r++) {
                    var i = n.start(r),
                        a = n.end(r);
                    if (t - i < 4 && t - i > 2) return {
                        start: i,
                        end: a
                    }
                }
                return null
            }, e
        }(),
        bT = {
            errorInterval: 30,
            getSource: function(e) {
                return e(this.tech({
                    IWillNotUseThisInPlugins: !0
                }).currentSource_ || this.currentSource())
            }
        },
        TT = function e(t, n) {
            var r = 0,
                i = 0,
                a = vy.mergeOptions(bT, n);
            t.ready((function() {
                t.trigger({
                    type: "usage",
                    name: "vhs-error-reload-initialized"
                }), t.trigger({
                    type: "usage",
                    name: "hls-error-reload-initialized"
                })
            }));
            var o = function() {
                    i && t.currentTime(i)
                },
                s = function(e) {
                    null != e && (i = t.duration() !== 1 / 0 && t.currentTime() || 0, t.one("loadedmetadata", o), t.src(e), t.trigger({
                        type: "usage",
                        name: "vhs-error-reload"
                    }), t.trigger({
                        type: "usage",
                        name: "hls-error-reload"
                    }), t.play())
                },
                u = function() {
                    return Date.now() - r < 1e3 * a.errorInterval ? (t.trigger({
                        type: "usage",
                        name: "vhs-error-reload-canceled"
                    }), void t.trigger({
                        type: "usage",
                        name: "hls-error-reload-canceled"
                    })) : a.getSource && "function" == typeof a.getSource ? (r = Date.now(), a.getSource.call(t, s)) : void vy.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")
                },
                l = function e() {
                    t.off("loadedmetadata", o), t.off("error", u), t.off("dispose", e)
                };
            t.on("error", u), t.on("dispose", l), t.reloadSourceOnError = function(n) {
                l(), e(t, n)
            }
        },
        _T = function(e) {
            TT(this, e)
        },
        ST = "2.9.2",
        wT = {
            PlaylistLoader: lv,
            Playlist: Yy,
            utils: Sv,
            STANDARD_PLAYLIST_SELECTOR: vb,
            INITIAL_PLAYLIST_SELECTOR: function() {
                var e = this,
                    t = this.playlists.master.playlists.filter(Yy.isEnabled);
                return mb(t, (function(e, t) {
                    return gb(e, t)
                })), t.filter((function(t) {
                    return !!db(e.playlists.master, t).video
                }))[0] || null
            },
            lastBandwidthSelector: vb,
            movingAverageBandwidthSelector: function(e) {
                var t = -1,
                    n = -1;
                if (e < 0 || e > 1) throw new Error("Moving average bandwidth decay must be between 0 and 1.");
                return function() {
                    var r = this.useDevicePixelRatio && m.devicePixelRatio || 1;
                    return t < 0 && (t = this.systemBandwidth, n = this.systemBandwidth), this.systemBandwidth > 0 && this.systemBandwidth !== n && (t = e * this.systemBandwidth + (1 - e) * t, n = this.systemBandwidth), yb(this.playlists.master, t, parseInt(fb(this.tech_.el(), "width"), 10) * r, parseInt(fb(this.tech_.el(), "height"), 10) * r, this.limitRenditionByPlayerDimensions, this.masterPlaylistController_)
                }
            },
            comparePlaylistBandwidth: gb,
            comparePlaylistResolution: function(e, t) {
                var n, r;
                return e.attributes.RESOLUTION && e.attributes.RESOLUTION.width && (n = e.attributes.RESOLUTION.width), n = n || m.Number.MAX_VALUE, t.attributes.RESOLUTION && t.attributes.RESOLUTION.width && (r = t.attributes.RESOLUTION.width), n === (r = r || m.Number.MAX_VALUE) && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : n - r
            },
            xhr: pv()
        };
    Object.keys(Dv).forEach((function(e) {
        Object.defineProperty(wT, e, {
            get: function() {
                return vy.log.warn("using Vhs." + e + " is UNSAFE be sure you know what you are doing"), Dv[e]
            },
            set: function(t) {
                vy.log.warn("using Vhs." + e + " is UNSAFE be sure you know what you are doing"), "number" != typeof t || t < 0 ? vy.log.warn("value of Vhs." + e + " must be greater than or equal to 0") : Dv[e] = t
            }
        })
    }));
    var AT = "videojs-vhs",
        ET = function(e, t) {
            for (var n = t.media(), r = -1, i = 0; i < e.length; i++)
                if (e[i].id === n.id) {
                    r = i;
                    break
                } e.selectedIndex_ = r, e.trigger({
                selectedIndex: r,
                type: "change"
            })
        };
    wT.canPlaySource = function() {
        return vy.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
    };
    var CT = function(e) {
            var t = e.player,
                n = e.sourceKeySystems,
                r = e.audioMedia,
                i = e.mainPlaylists;
            if (!t.eme.initializeMediaKeys) return Promise.resolve();
            var a = function(e, t) {
                    return e.reduce((function(e, n) {
                        if (!n.contentProtection) return e;
                        var r = t.reduce((function(e, t) {
                            var r = n.contentProtection[t];
                            return r && r.pssh && (e[t] = {
                                pssh: r.pssh
                            }), e
                        }), {});
                        return Object.keys(r).length && e.push(r), e
                    }), [])
                }(r ? i.concat([r]) : i, Object.keys(n)),
                o = [],
                s = [];
            return a.forEach((function(e) {
                s.push(new Promise((function(e, n) {
                    t.tech_.one("keysessioncreated", e)
                }))), o.push(new Promise((function(n, r) {
                    t.eme.initializeMediaKeys({
                        keySystems: e
                    }, (function(e) {
                        e ? r(e) : n()
                    }))
                })))
            })), Promise.race([Promise.all(o), Promise.race(s)])
        },
        PT = function(e) {
            var t = e.player,
                n = function(e, t, n) {
                    if (!e) return e;
                    var r = {};
                    t && t.attributes && t.attributes.CODECS && (r = lb(Qu(t.attributes.CODECS))), n && n.attributes && n.attributes.CODECS && (r.audio = n.attributes.CODECS);
                    var i = Ju(r.video),
                        a = Ju(r.audio),
                        o = {};
                    for (var s in e) o[s] = {}, a && (o[s].audioContentType = a), i && (o[s].videoContentType = i), t.contentProtection && t.contentProtection[s] && t.contentProtection[s].pssh && (o[s].pssh = t.contentProtection[s].pssh), "string" == typeof e[s] && (o[s].url = e[s]);
                    return vy.mergeOptions(e, o)
                }(e.sourceKeySystems, e.media, e.audioMedia);
            return !!n && (t.currentSource().keySystems = n, !(n && !t.eme) || (vy.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"), !1))
        },
        kT = function() {
            if (!m.localStorage) return null;
            var e = m.localStorage.getItem(AT);
            if (!e) return null;
            try {
                return JSON.parse(e)
            } catch (e) {
                return null
            }
        };
    wT.supportsNativeHls = function() {
        if (!Ps || !Ps.createElement) return !1;
        var e = Ps.createElement("video");
        if (!vy.getTech("Html5").isSupported()) return !1;
        return ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some((function(t) {
            return /maybe|probably/i.test(e.canPlayType(t))
        }))
    }(), wT.supportsNativeDash = !!(Ps && Ps.createElement && vy.getTech("Html5").isSupported()) && /maybe|probably/i.test(Ps.createElement("video").canPlayType("application/dash+xml")), wT.supportsTypeNatively = function(e) {
        return "hls" === e ? wT.supportsNativeHls : "dash" === e && wT.supportsNativeDash
    }, wT.isSupported = function() {
        return vy.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
    };
    var xT = function(e) {
            function t(t, n, r) {
                var i;
                if (i = e.call(this, n, vy.mergeOptions(r.hls, r.vhs)) || this, r.hls && Object.keys(r.hls).length && vy.log.warn("Using hls options is deprecated. Use vhs instead."), "number" == typeof r.initialBandwidth && (i.options_.bandwidth = r.initialBandwidth), i.logger_ = wy("VhsHandler"), n.options_ && n.options_.playerId) {
                    var a = vy(n.options_.playerId);
                    a.hasOwnProperty("hls") || Object.defineProperty(a, "hls", {
                        get: function() {
                            return vy.log.warn("player.hls is deprecated. Use player.tech().vhs instead."), n.trigger({
                                type: "usage",
                                name: "hls-player-access"
                            }), xs(i)
                        },
                        configurable: !0
                    }), a.hasOwnProperty("vhs") || Object.defineProperty(a, "vhs", {
                        get: function() {
                            return vy.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."), n.trigger({
                                type: "usage",
                                name: "vhs-player-access"
                            }), xs(i)
                        },
                        configurable: !0
                    }), a.hasOwnProperty("dash") || Object.defineProperty(a, "dash", {
                        get: function() {
                            return vy.log.warn("player.dash is deprecated. Use player.tech().vhs instead."), xs(i)
                        },
                        configurable: !0
                    }), i.player_ = a
                }
                if (i.tech_ = n, i.source_ = t, i.stats = {}, i.ignoreNextSeekingEvent_ = !1, i.setOptions_(), i.options_.overrideNative && n.overrideNativeAudioTracks && n.overrideNativeVideoTracks) n.overrideNativeAudioTracks(!0), n.overrideNativeVideoTracks(!0);
                else if (i.options_.overrideNative && (n.featuresNativeVideoTracks || n.featuresNativeAudioTracks)) throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");
                return i.on(Ps, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], (function(e) {
                    var t = Ps.fullscreenElement || Ps.webkitFullscreenElement || Ps.mozFullScreenElement || Ps.msFullscreenElement;
                    t && t.contains(i.tech_.el()) ? i.masterPlaylistController_.fastQualityChange_() : i.masterPlaylistController_.checkABR_()
                })), i.on(i.tech_, "seeking", (function() {
                    this.ignoreNextSeekingEvent_ ? this.ignoreNextSeekingEvent_ = !1 : this.setCurrentTime(this.tech_.currentTime())
                })), i.on(i.tech_, "error", (function() {
                    this.tech_.error() && this.masterPlaylistController_ && this.masterPlaylistController_.pauseLoading()
                })), i.on(i.tech_, "play", i.play), i
            }
            Ms(t, e);
            var n = t.prototype;
            return n.setOptions_ = function() {
                var e = this;
                if (this.options_.withCredentials = this.options_.withCredentials || !1, this.options_.handleManifestRedirects = !1 !== this.options_.handleManifestRedirects, this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions, this.options_.useDevicePixelRatio = this.options_.useDevicePixelRatio || !1, this.options_.smoothQualityChange = this.options_.smoothQualityChange || !1, this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1, this.options_.customTagParsers = this.options_.customTagParsers || [], this.options_.customTagMappers = this.options_.customTagMappers || [], this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || !1, "number" != typeof this.options_.blacklistDuration && (this.options_.blacklistDuration = 300), "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage) {
                    var t = kT();
                    t && t.bandwidth && (this.options_.bandwidth = t.bandwidth, this.tech_.trigger({
                        type: "usage",
                        name: "vhs-bandwidth-from-local-storage"
                    }), this.tech_.trigger({
                        type: "usage",
                        name: "hls-bandwidth-from-local-storage"
                    })), t && t.throughput && (this.options_.throughput = t.throughput, this.tech_.trigger({
                        type: "usage",
                        name: "vhs-throughput-from-local-storage"
                    }), this.tech_.trigger({
                        type: "usage",
                        name: "hls-throughput-from-local-storage"
                    }))
                }
                "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = Dv.INITIAL_BANDWIDTH), this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Dv.INITIAL_BANDWIDTH, ["withCredentials", "useDevicePixelRatio", "limitRenditionByPlayerDimensions", "bandwidth", "smoothQualityChange", "customTagParsers", "customTagMappers", "handleManifestRedirects", "cacheEncryptionKeys", "playlistSelector", "initialPlaylistSelector", "experimentalBufferBasedABR", "liveRangeSafeTimeDelta", "experimentalLLHLS"].forEach((function(t) {
                    void 0 !== e.source_[t] && (e.options_[t] = e.source_[t])
                })), this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions, this.useDevicePixelRatio = this.options_.useDevicePixelRatio
            }, n.src = function(e, t) {
                var n = this;
                if (e) {
                    var r;
                    this.setOptions_(), this.options_.src = 0 === (r = this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,") ? JSON.parse(r.substring(r.indexOf(",") + 1)) : r, this.options_.tech = this.tech_, this.options_.externVhs = wT, this.options_.sourceType = il(t), this.options_.seekTo = function(e) {
                        n.tech_.setCurrentTime(e)
                    }, this.options_.smoothQualityChange && vy.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"), this.masterPlaylistController_ = new mT(this.options_);
                    var i = vy.mergeOptions({
                        liveRangeSafeTimeDelta: Ey
                    }, this.options_, {
                        seekable: function() {
                            return n.seekable()
                        },
                        media: function() {
                            return n.masterPlaylistController_.media()
                        },
                        masterPlaylistController: this.masterPlaylistController_
                    });
                    this.playbackWatcher_ = new vT(i), this.masterPlaylistController_.on("error", (function() {
                        var e = vy.players[n.tech_.options_.playerId],
                            t = n.masterPlaylistController_.error;
                        "object" != typeof t || t.code ? "string" == typeof t && (t = {
                            message: t,
                            code: 3
                        }) : t.code = 3, e.error(t)
                    }));
                    var a = this.options_.experimentalBufferBasedABR ? wT.movingAverageBandwidthSelector(.55) : wT.STANDARD_PLAYLIST_SELECTOR;
                    this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : a.bind(this), this.masterPlaylistController_.selectInitialPlaylist = wT.INITIAL_PLAYLIST_SELECTOR.bind(this), this.playlists = this.masterPlaylistController_.masterPlaylistLoader_, this.mediaSource = this.masterPlaylistController_.mediaSource, Object.defineProperties(this, {
                        selectPlaylist: {
                            get: function() {
                                return this.masterPlaylistController_.selectPlaylist
                            },
                            set: function(e) {
                                this.masterPlaylistController_.selectPlaylist = e.bind(this)
                            }
                        },
                        throughput: {
                            get: function() {
                                return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate
                            },
                            set: function(e) {
                                this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = e, this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1
                            }
                        },
                        bandwidth: {
                            get: function() {
                                return this.masterPlaylistController_.mainSegmentLoader_.bandwidth
                            },
                            set: function(e) {
                                this.masterPlaylistController_.mainSegmentLoader_.bandwidth = e, this.masterPlaylistController_.mainSegmentLoader_.throughput = {
                                    rate: 0,
                                    count: 0
                                }
                            }
                        },
                        systemBandwidth: {
                            get: function() {
                                var e, t = 1 / (this.bandwidth || 1);
                                return e = this.throughput > 0 ? 1 / this.throughput : 0, Math.floor(1 / (t + e))
                            },
                            set: function() {
                                vy.log.error('The "systemBandwidth" property is read-only')
                            }
                        }
                    }), this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth), this.options_.throughput && (this.throughput = this.options_.throughput), Object.defineProperties(this.stats, {
                        bandwidth: {
                            get: function() {
                                return n.bandwidth || 0
                            },
                            enumerable: !0
                        },
                        mediaRequests: {
                            get: function() {
                                return n.masterPlaylistController_.mediaRequests_() || 0
                            },
                            enumerable: !0
                        },
                        mediaRequestsAborted: {
                            get: function() {
                                return n.masterPlaylistController_.mediaRequestsAborted_() || 0
                            },
                            enumerable: !0
                        },
                        mediaRequestsTimedout: {
                            get: function() {
                                return n.masterPlaylistController_.mediaRequestsTimedout_() || 0
                            },
                            enumerable: !0
                        },
                        mediaRequestsErrored: {
                            get: function() {
                                return n.masterPlaylistController_.mediaRequestsErrored_() || 0
                            },
                            enumerable: !0
                        },
                        mediaTransferDuration: {
                            get: function() {
                                return n.masterPlaylistController_.mediaTransferDuration_() || 0
                            },
                            enumerable: !0
                        },
                        mediaBytesTransferred: {
                            get: function() {
                                return n.masterPlaylistController_.mediaBytesTransferred_() || 0
                            },
                            enumerable: !0
                        },
                        mediaSecondsLoaded: {
                            get: function() {
                                return n.masterPlaylistController_.mediaSecondsLoaded_() || 0
                            },
                            enumerable: !0
                        },
                        mediaAppends: {
                            get: function() {
                                return n.masterPlaylistController_.mediaAppends_() || 0
                            },
                            enumerable: !0
                        },
                        mainAppendsToLoadedData: {
                            get: function() {
                                return n.masterPlaylistController_.mainAppendsToLoadedData_() || 0
                            },
                            enumerable: !0
                        },
                        audioAppendsToLoadedData: {
                            get: function() {
                                return n.masterPlaylistController_.audioAppendsToLoadedData_() || 0
                            },
                            enumerable: !0
                        },
                        appendsToLoadedData: {
                            get: function() {
                                return n.masterPlaylistController_.appendsToLoadedData_() || 0
                            },
                            enumerable: !0
                        },
                        timeToLoadedData: {
                            get: function() {
                                return n.masterPlaylistController_.timeToLoadedData_() || 0
                            },
                            enumerable: !0
                        },
                        buffered: {
                            get: function() {
                                return Iy(n.tech_.buffered())
                            },
                            enumerable: !0
                        },
                        currentTime: {
                            get: function() {
                                return n.tech_.currentTime()
                            },
                            enumerable: !0
                        },
                        currentSource: {
                            get: function() {
                                return n.tech_.currentSource_
                            },
                            enumerable: !0
                        },
                        currentTech: {
                            get: function() {
                                return n.tech_.name_
                            },
                            enumerable: !0
                        },
                        duration: {
                            get: function() {
                                return n.tech_.duration()
                            },
                            enumerable: !0
                        },
                        master: {
                            get: function() {
                                return n.playlists.master
                            },
                            enumerable: !0
                        },
                        playerDimensions: {
                            get: function() {
                                return n.tech_.currentDimensions()
                            },
                            enumerable: !0
                        },
                        seekable: {
                            get: function() {
                                return Iy(n.tech_.seekable())
                            },
                            enumerable: !0
                        },
                        timestamp: {
                            get: function() {
                                return Date.now()
                            },
                            enumerable: !0
                        },
                        videoPlaybackQuality: {
                            get: function() {
                                return n.tech_.getVideoPlaybackQuality()
                            },
                            enumerable: !0
                        }
                    }), this.tech_.one("canplay", this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)), this.tech_.on("bandwidthupdate", (function() {
                        n.options_.useBandwidthFromLocalStorage && function(e) {
                            if (!m.localStorage) return !1;
                            var t = kT();
                            t = t ? vy.mergeOptions(t, e) : e;
                            try {
                                m.localStorage.setItem(AT, JSON.stringify(t))
                            } catch (e) {
                                return !1
                            }
                        }({
                            bandwidth: n.bandwidth,
                            throughput: Math.round(n.throughput)
                        })
                    })), this.masterPlaylistController_.on("selectedinitialmedia", (function() {
                        var e;
                        (e = n).representations = function() {
                            var t = e.masterPlaylistController_.master(),
                                n = Ky(t) ? e.masterPlaylistController_.getAudioTrackPlaylists_() : t.playlists;
                            return n ? n.filter((function(e) {
                                return !Gy(e)
                            })).map((function(t, n) {
                                return new gT(e, t, t.id)
                            })) : []
                        }
                    })), this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers", (function() {
                        n.setupEme_()
                    })), this.on(this.masterPlaylistController_, "progress", (function() {
                        this.tech_.trigger("progress")
                    })), this.on(this.masterPlaylistController_, "firstplay", (function() {
                        this.ignoreNextSeekingEvent_ = !0
                    })), this.setupQualityLevels_(), this.tech_.el() && (this.mediaSourceUrl_ = m.URL.createObjectURL(this.masterPlaylistController_.mediaSource), this.tech_.src(this.mediaSourceUrl_))
                }
            }, n.setupEme_ = function() {
                var e = this,
                    t = this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,
                    n = PT({
                        player: this.player_,
                        sourceKeySystems: this.source_.keySystems,
                        media: this.playlists.media(),
                        audioMedia: t && t.media()
                    });
                11 !== vy.browser.IE_VERSION && n ? (this.logger_("waiting for EME key session creation"), CT({
                    player: this.player_,
                    sourceKeySystems: this.source_.keySystems,
                    audioMedia: t && t.media(),
                    mainPlaylists: this.playlists.master.playlists
                }).then((function() {
                    e.logger_("created EME key session"), e.masterPlaylistController_.sourceUpdater_.initializedEme()
                })).catch((function(t) {
                    e.logger_("error while creating EME key session", t), e.player_.error({
                        message: "Failed to initialize media keys for EME",
                        code: 3
                    })
                }))) : this.masterPlaylistController_.sourceUpdater_.initializedEme()
            }, n.setupQualityLevels_ = function() {
                var e = this,
                    t = vy.players[this.tech_.options_.playerId];
                t && t.qualityLevels && !this.qualityLevels_ && (this.qualityLevels_ = t.qualityLevels(), this.masterPlaylistController_.on("selectedinitialmedia", (function() {
                    var t, n;
                    t = e.qualityLevels_, (n = e).representations().forEach((function(e) {
                        t.addQualityLevel(e)
                    })), ET(t, n.playlists)
                })), this.playlists.on("mediachange", (function() {
                    ET(e.qualityLevels_, e.playlists)
                })))
            }, t.version = function() {
                return {
                    "@videojs/http-streaming": ST,
                    "mux.js": "5.12.2",
                    "mpd-parser": "0.17.0",
                    "m3u8-parser": "4.7.0",
                    "aes-decrypter": "3.1.2"
                }
            }, n.version = function() {
                return this.constructor.version()
            }, n.canChangeType = function() {
                return Yb.canChangeType()
            }, n.play = function() {
                this.masterPlaylistController_.play()
            }, n.setCurrentTime = function(e) {
                this.masterPlaylistController_.setCurrentTime(e)
            }, n.duration = function() {
                return this.masterPlaylistController_.duration()
            }, n.seekable = function() {
                return this.masterPlaylistController_.seekable()
            }, n.dispose = function() {
                this.playbackWatcher_ && this.playbackWatcher_.dispose(), this.masterPlaylistController_ && this.masterPlaylistController_.dispose(), this.qualityLevels_ && this.qualityLevels_.dispose(), this.player_ && (delete this.player_.vhs, delete this.player_.dash, delete this.player_.hls), this.tech_ && this.tech_.vhs && delete this.tech_.vhs, this.tech_ && delete this.tech_.hls, this.mediaSourceUrl_ && m.URL.revokeObjectURL && (m.URL.revokeObjectURL(this.mediaSourceUrl_), this.mediaSourceUrl_ = null), e.prototype.dispose.call(this)
            }, n.convertToProgramTime = function(e, t) {
                return wv({
                    playlist: this.masterPlaylistController_.media(),
                    time: e,
                    callback: t
                })
            }, n.seekToProgramTime = function(e, t, n, r) {
                return void 0 === n && (n = !0), void 0 === r && (r = 2), Av({
                    programTime: e,
                    playlist: this.masterPlaylistController_.media(),
                    retryCount: r,
                    pauseAfterSeek: n,
                    seekTo: this.options_.seekTo,
                    tech: this.options_.tech,
                    callback: t
                })
            }, t
        }(vy.getComponent("Component")),
        IT = {
            name: "videojs-http-streaming",
            VERSION: ST,
            canHandleSource: function(e, t) {
                void 0 === t && (t = {});
                var n = vy.mergeOptions(vy.options, t);
                return IT.canPlayType(e.type, n)
            },
            handleSource: function(e, t, n) {
                void 0 === n && (n = {});
                var r = vy.mergeOptions(vy.options, n);
                return t.vhs = new xT(e, t, r), vy.hasOwnProperty("hls") || Object.defineProperty(t, "hls", {
                    get: function() {
                        return vy.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."), t.vhs
                    },
                    configurable: !0
                }), t.vhs.xhr = pv(), t.vhs.src(e.src, e.type), t.vhs
            },
            canPlayType: function(e, t) {
                void 0 === t && (t = {});
                var n = vy.mergeOptions(vy.options, t).vhs.overrideNative,
                    r = void 0 === n ? !vy.browser.IS_ANY_SAFARI : n,
                    i = il(e);
                return i && (!wT.supportsTypeNatively(i) || r) ? "maybe" : ""
            }
        };
    Zu("avc1.4d400d,mp4a.40.2") && vy.getTech("Html5").registerSourceHandler(IT, 0), vy.VhsHandler = xT, Object.defineProperty(vy, "HlsHandler", {
        get: function() {
            return vy.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."), xT
        },
        configurable: !0
    }), vy.VhsSourceHandler = IT, Object.defineProperty(vy, "HlsSourceHandler", {
        get: function() {
            return vy.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."), IT
        },
        configurable: !0
    }), vy.Vhs = wT, Object.defineProperty(vy, "Hls", {
        get: function() {
            return vy.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."), wT
        },
        configurable: !0
    }), vy.use || (vy.registerComponent("Hls", wT), vy.registerComponent("Vhs", wT)), vy.options.vhs = vy.options.vhs || {}, vy.options.hls = vy.options.hls || {}, vy.registerPlugin ? vy.registerPlugin("reloadSourceOnError", _T) : vy.plugin("reloadSourceOnError", _T)
    /*! @name videojs-contrib-ads @version 6.9.0 @license Apache-2.0 */
    ;
    var MT = "6.9.0";
    var LT = function(e, t) {
            t.isImmediatePropagationStopped = function() {
                return !0
            }, t.cancelBubble = !0, t.isPropagationStopped = function() {
                return !0
            }
        },
        DT = function(e, t, n) {
            LT(0, n), e.trigger({
                type: t + n.type,
                originalEvent: n
            })
        };

    function OT(e) {
        "playing" === e.type ? function(e, t) {
            e.ads.isInAdMode() && (e.ads.isContentResuming() ? e.ads._contentEnding && DT(e, "content", t) : DT(e, "ad", t))
        }(this, e) : "ended" === e.type ? function(e, t) {
            e.ads.isInAdMode() ? e.ads.isContentResuming() ? (LT(0, t), e.trigger("resumeended")) : DT(e, "ad", t) : e.ads._contentHasEnded || e.ads.stitchedAds() || (DT(e, "content", t), e.trigger("readyforpostroll"))
        }(this, e) : "loadstart" === e.type || "loadeddata" === e.type || "loadedmetadata" === e.type ? function(e, t) {
            if (!("loadstart" === t.type && !e.ads._hasThereBeenALoadStartDuringPlayerLife || "loadeddata" === t.type && !e.ads._hasThereBeenALoadedData || "loadedmetadata" === t.type && !e.ads._hasThereBeenALoadedMetaData))
                if (e.ads.inAdBreak()) DT(e, "ad", t);
                else {
                    if (e.currentSrc() !== e.ads.contentSrc) return;
                    DT(e, "content", t)
                }
        }(this, e) : "play" === e.type ? function(e, t) {
            e.ads.inAdBreak() ? DT(e, "ad", t) : e.ads.isContentResuming() && DT(e, "content", t)
        }(this, e) : this.ads.isInAdMode() && (this.ads.isContentResuming() ? DT(this, "content", e) : DT(this, "ad", e))
    }
    var RT = {},
        NT = function() {
            ! function(e) {
                if (vy.dom.isInFrame() && "function" != typeof m.__tcfapi) {
                    for (var t, n = m, r = {}; n;) {
                        try {
                            if (n.frames.__tcfapiLocator) {
                                t = n;
                                break
                            }
                        } catch (e) {}
                        if (n === m.top) break;
                        n = n.parent
                    }
                    if (!t) return;
                    m.__tcfapi = function(e, n, i, a) {
                        var o = Math.random() + "",
                            s = {
                                __tcfapiCall: {
                                    command: e,
                                    parameter: a,
                                    version: n,
                                    callId: o
                                }
                            };
                        r[o] = i, t.postMessage(s, "*")
                    }, m.addEventListener("message", (function(e) {
                        var t = {};
                        try {
                            t = "string" == typeof e.data ? JSON.parse(e.data) : e.data
                        } catch (e) {}
                        var n = t.__tcfapiReturn;
                        n && "function" == typeof r[n.callId] && (r[n.callId](n.returnValue, n.success), r[n.callId] = null)
                    }), !1)
                }
            }(), "function" == typeof m.__tcfapi && m.__tcfapi("addEventListener", 2, (function(e, t) {
                t && (RT = e)
            }))
        },
        BT = function(e, t) {
            return t ? encodeURIComponent(e) : e
        },
        UT = function(e, t, n) {
            if (e && e[n])
                for (var r = e[n], i = Object.keys(r), a = 0; a < i.length; a++) {
                    t["{mediainfo." + n + "." + i[a] + "}"] = r[i[a]]
                }
        };

    function FT(e, t, n) {
        var r = this,
            i = {};
        e = e.replace(/{([^}=]+)=([^}]+)}/g, (function(e, t, n) {
            return i["{" + t + "}"] = n, "{" + t + "}"
        })), void 0 === t && (t = !1);
        var a = {};
        for (var o in void 0 !== n && (a = n), a["{player.id}"] = this.options_["data-player"] || this.id_, a["{player.height}"] = this.currentHeight(), a["{player.width}"] = this.currentWidth(), a["{mediainfo.id}"] = this.mediainfo ? this.mediainfo.id : "", a["{mediainfo.name}"] = this.mediainfo ? this.mediainfo.name : "", a["{mediainfo.duration}"] = this.mediainfo ? this.mediainfo.duration : "", a["{player.duration}"] = this.duration(), a["{player.pageUrl}"] = vy.dom.isInFrame() ? Ps.referrer : m.location.href, a["{playlistinfo.id}"] = this.playlistinfo ? this.playlistinfo.id : "", a["{playlistinfo.name}"] = this.playlistinfo ? this.playlistinfo.name : "", a["{timestamp}"] = (new Date).getTime(), a["{document.referrer}"] = Ps.referrer, a["{window.location.href}"] = m.location.href, a["{random}"] = Math.floor(1e12 * Math.random()), ["description", "tags", "reference_id", "ad_keys"].forEach((function(e) {
                r.mediainfo && r.mediainfo[e] ? a["{mediainfo." + e + "}"] = r.mediainfo[e] : i["{mediainfo." + e + "}"] ? a["{mediainfo." + e + "}"] = i["{mediainfo." + e + "}"] : a["{mediainfo." + e + "}"] = ""
            })), UT(this.mediainfo, a, "custom_fields"), UT(this.mediainfo, a, "customFields"), Object.keys(RT).forEach((function(e) {
                a["{tcf." + e + "}"] = RT[e]
            })), a["{tcf.gdprAppliesInt}"] = RT.gdprApplies ? 1 : 0, a) e = e.split(o).join(BT(a[o], t));
        for (var s in e = e.replace(/{pageVariable\.([^}]+)}/g, (function(e, n) {
                for (var r, a = m, o = n.split("."), s = 0; s < o.length; s++) s === o.length - 1 ? r = a[o[s]] : a = a[o[s]];
                var u = typeof r;
                return null === r ? "null" : void 0 === r ? i["{pageVariable." + n + "}"] ? i["{pageVariable." + n + "}"] : (vy.log.warn('Page variable "' + n + '" not found'), "") : "string" !== u && "number" !== u && "boolean" !== u ? (vy.log.warn('Page variable "' + n + '" is not a supported type'), "") : BT(String(r), t)
            })), i) e = e.replace(s, i[s]);
        return e
    }
    var jT = {
            processMetadataTracks: function(e, t) {
                for (var n = e.textTracks(), r = function(n) {
                        "metadata" === n.kind && (e.ads.cueTextTracks.setMetadataTrackMode(n), t(e, n))
                    }, i = 0; i < n.length; i++) r(n[i]);
                n.addEventListener("addtrack", (function(e) {
                    r(e.track)
                }))
            },
            setMetadataTrackMode: function(e) {},
            getSupportedAdCue: function(e, t) {
                return t
            },
            isSupportedAdCue: function(e, t) {
                return !0
            },
            getCueId: function(e, t) {
                return t.id
            }
        },
        HT = function(e, t) {
            return void 0 !== t && e.ads.includedCues[t]
        },
        GT = function(e, t) {
            void 0 !== t && "" !== t && (e.ads.includedCues[t] = !0)
        };

    function VT() {
        !1 !== this.ads._shouldBlockPlay && (this.paused() || (this.ads.debug("Playback was canceled by cancelContentPlay"), this.pause()), this.ads._cancelledPlay = !0)
    }
    jT.processAdTrack = function(e, t, n, r) {
        e.ads.includedCues = {};
        for (var i = 0; i < t.length; i++) {
            var a = t[i],
                o = this.getSupportedAdCue(e, a);
            if (!this.isSupportedAdCue(e, a)) return void vy.log.warn("Skipping as this is not a supported ad cue.", a);
            var s = this.getCueId(e, a),
                u = a.startTime;
            if (HT(e, s)) return void vy.log("Skipping ad already seen with ID " + s);
            r && r(e, o, s, u), n(e, o, s, u), GT(e, s)
        }
    };
    var WT = {},
        qT = vy;
    WT.isMiddlewareMediatorSupported = function() {
        return !qT.browser.IS_IOS && !qT.browser.IS_ANDROID && !!(qT.use && qT.middleware && qT.middleware.TERMINATOR)
    }, WT.playMiddleware = function(e) {
        return {
            setSource: function(e, t) {
                t(null, e)
            },
            callPlay: function() {
                if (e.ads && !0 === e.ads._shouldBlockPlay) return e.ads.debug("Using playMiddleware to block content playback"), e.ads._playBlocked = !0, qT.middleware.TERMINATOR
            },
            play: function(t, n) {
                e.ads && e.ads._playBlocked && t ? (e.ads.debug("Play call to Tech was terminated."), e.trigger("play"), e.addClass("vjs-has-started"), e.ads._playBlocked = !1) : n && n.catch && n.catch((function(t) {
                    "NotAllowedError" !== t.name || vy.browser.IS_SAFARI || e.trigger("pause")
                }))
            }
        }
    }, WT.testHook = function(e) {
        qT = e
    };
    var zT = WT.playMiddleware,
        XT = WT.isMiddlewareMediatorSupported;
    var KT = function() {
            function e() {}
            return e.getState = function(t) {
                if (t) return e.states_ && e.states_[t] ? e.states_[t] : void 0
            }, e.registerState = function(t, n) {
                if ("string" != typeof t || !t) throw new Error('Illegal state name, "' + t + '"; must be a non-empty string.');
                return e.states_ || (e.states_ = {}), e.states_[t] = n, n
            }, e
        }(),
        YT = function() {
            function e(e) {
                this.player = e
            }
            e._getName = function() {
                return "Anonymous State"
            };
            var t = e.prototype;
            return t.transitionTo = function(e) {
                var t = this.player;
                this.cleanup(t);
                var n = new e(t);
                t.ads._state = n, t.ads.debug(this.constructor._getName() + " -> " + n.constructor._getName());
                for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), a = 1; a < r; a++) i[a - 1] = arguments[a];
                n.init.apply(n, [t].concat(i))
            }, t.init = function() {}, t.cleanup = function() {}, t.onPlay = function() {}, t.onPlaying = function() {}, t.onEnded = function() {}, t.onAdEnded = function() {}, t.onAdsReady = function() {
                vy.log.warn("Unexpected adsready event")
            }, t.onAdsError = function() {}, t.onAdsCanceled = function() {}, t.onAdTimeout = function() {}, t.onAdStarted = function() {}, t.onContentChanged = function() {}, t.onContentResumed = function() {}, t.onReadyForPostroll = function() {
                vy.log.warn("Unexpected readyforpostroll event")
            }, t.onNoPreroll = function() {}, t.onNoPostroll = function() {}, t.startLinearAdMode = function() {
                vy.log.warn("Unexpected startLinearAdMode invocation (State via " + this.constructor._getName() + ")")
            }, t.endLinearAdMode = function() {
                vy.log.warn("Unexpected endLinearAdMode invocation (State via " + this.constructor._getName() + ")")
            }, t.skipLinearAdMode = function() {
                vy.log.warn("Unexpected skipLinearAdMode invocation (State via " + this.constructor._getName() + ")")
            }, t.isAdState = function() {
                throw new Error("isAdState unimplemented for " + this.constructor._getName())
            }, t.isWaitingForAdBreak = function() {
                return !1
            }, t.isContentResuming = function() {
                return !1
            }, t.inAdBreak = function() {
                return !1
            }, t.handleEvent = function(e) {
                var t = this.player;
                "play" === e ? this.onPlay(t) : "adsready" === e ? this.onAdsReady(t) : "adserror" === e ? this.onAdsError(t) : "adscanceled" === e ? this.onAdsCanceled(t) : "adtimeout" === e ? this.onAdTimeout(t) : "ads-ad-started" === e ? this.onAdStarted(t) : "contentchanged" === e ? this.onContentChanged(t) : "contentresumed" === e ? this.onContentResumed(t) : "readyforpostroll" === e ? this.onReadyForPostroll(t) : "playing" === e ? this.onPlaying(t) : "ended" === e ? this.onEnded(t) : "nopreroll" === e ? this.onNoPreroll(t) : "nopostroll" === e ? this.onNoPostroll(t) : "adended" === e && this.onAdEnded(t)
            }, e
        }();

    function QT(e, t) {
        e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t
    }
    KT.registerState("State", YT);
    var $T = function(e) {
        function t(t) {
            var n;
            return (n = e.call(this, t) || this).contentResuming = !1, n.waitingForAdBreak = !1, n
        }
        QT(t, e);
        var n = t.prototype;
        return n.isAdState = function() {
            return !0
        }, n.onPlaying = function() {
            var e = KT.getState("ContentPlayback");
            this.contentResuming && this.transitionTo(e)
        }, n.onContentResumed = function() {
            var e = KT.getState("ContentPlayback");
            this.contentResuming && this.transitionTo(e)
        }, n.isWaitingForAdBreak = function() {
            return this.waitingForAdBreak
        }, n.isContentResuming = function() {
            return this.contentResuming
        }, n.inAdBreak = function() {
            return !0 === this.player.ads._inLinearAdMode
        }, t
    }(YT);
    KT.registerState("AdState", $T);
    var JT = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e);
        var n = t.prototype;
        return n.isAdState = function() {
            return !1
        }, n.onContentChanged = function(e) {
            var t = KT.getState("BeforePreroll"),
                n = KT.getState("Preroll");
            e.ads.debug("Received contentchanged event (ContentState)"), e.paused() ? this.transitionTo(t) : (this.transitionTo(n, !1), e.pause(), e.ads._pausedOnContentupdate = !0)
        }, t
    }(YT);
    KT.registerState("ContentState", JT);
    var ZT, e_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "AdsDone"
        };
        var n = t.prototype;
        return n.init = function(e) {
            e.ads._contentHasEnded = !0, e.trigger("ended")
        }, n.startLinearAdMode = function() {
            vy.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")
        }, t
    }(KT.getState("ContentState"));
    KT.registerState("AdsDone", e_);
    var t_ = {
            start: function(e) {
                e.ads.debug("Starting ad break"), e.ads._inLinearAdMode = !0, e.trigger("adstart"), e.ads.shouldTakeSnapshots() && (e.ads.snapshot = function(e) {
                    var t;
                    t = vy.browser.IS_IOS && e.ads.isLive(e) && e.seekable().length > 0 ? e.currentTime() - e.seekable().end(0) : e.currentTime();
                    var n = e.$(".vjs-tech"),
                        r = e.textTracks ? e.textTracks() : [],
                        i = [],
                        a = {
                            ended: e.ended(),
                            currentSrc: e.currentSrc(),
                            sources: e.currentSources(),
                            src: e.tech_.src(),
                            currentTime: t,
                            type: e.currentType()
                        };
                    n && (a.style = n.getAttribute("style"));
                    for (var o = 0; o < r.length; o++) {
                        var s = r[o];
                        i.push({
                            track: s,
                            mode: s.mode
                        }), s.mode = "disabled"
                    }
                    return a.suppressedTracks = i, a
                }(e)), e.ads.shouldPlayContentBehindAd(e) && (e.ads.preAdVolume_ = e.volume(), e.volume(0)), e.addClass("vjs-ad-playing"), e.hasClass("vjs-live") && e.removeClass("vjs-live"), e.ads.removeNativePoster()
            },
            end: function(e, t) {
                e.ads.debug("Ending ad break"), void 0 === t && (t = function() {}), e.ads.adType = null, e.ads._inLinearAdMode = !1, e.trigger("adend"), e.removeClass("vjs-ad-playing"), e.ads.isLive(e) && e.addClass("vjs-live"), e.ads.shouldTakeSnapshots() ? function(e, t) {
                    var n = e.ads.snapshot;
                    if (void 0 === t && (t = function() {}), !0 === e.ads.disableNextSnapshotRestore) return e.ads.disableNextSnapshotRestore = !1, delete e.ads.snapshot, void t();
                    var r, i = e.$(".vjs-tech"),
                        a = 20,
                        o = n.suppressedTracks,
                        s = function() {
                            for (var e = 0; e < o.length; e++)(r = o[e]).track.mode = r.mode
                        },
                        u = function() {
                            var t;
                            if (vy.browser.IS_IOS && e.ads.isLive(e)) {
                                if (n.currentTime < 0 && (t = e.seekable().length > 0 ? e.seekable().end(0) + n.currentTime : e.currentTime(), e.currentTime(t)), e.paused()) {
                                    var r = e.play();
                                    r && r.catch && r.catch((function(e) {
                                        vy.log.warn("Play promise rejected in IOS snapshot resume", e)
                                    }))
                                }
                            } else if (n.ended) e.currentTime(e.duration());
                            else {
                                e.currentTime(n.currentTime);
                                var i = e.play();
                                i && i.catch && i.catch((function(e) {
                                    vy.log.warn("Play promise rejected in snapshot resume", e)
                                }))
                            }
                            e.ads.shouldRemoveAutoplay_ && (e.autoplay(!1), e.ads.shouldRemoveAutoplay_ = !1)
                        },
                        l = function t() {
                            if (e.off("contentcanplay", t), ZT && e.clearTimeout(ZT), (i = e.el().querySelector(".vjs-tech")).readyState > 1) return u();
                            if (void 0 === i.seekable) return u();
                            if (i.seekable.length > 0) return u();
                            if (a--) e.setTimeout(t, 50);
                            else try {
                                u()
                            } catch (e) {
                                vy.log.warn("Failed to resume the content after an advertisement", e)
                            }
                        };
                    if ("style" in n && i.setAttribute("style", n.style || ""), e.ads.videoElementRecycled()) e.one("resumeended", (function() {
                        delete e.ads.snapshot, t()
                    })), e.one("contentloadedmetadata", s), vy.browser.IS_IOS && !e.autoplay() && (e.autoplay(!0), e.ads.shouldRemoveAutoplay_ = !0), e.src(n.sources), e.one("contentcanplay", l), ZT = e.setTimeout(l, 2e3);
                    else {
                        if (s(), !e.ended()) {
                            var c = e.play();
                            c && c.catch && c.catch((function(e) {
                                vy.log.warn("Play promise rejected in snapshot restore", e)
                            }))
                        }
                        delete e.ads.snapshot, t()
                    }
                }(e, t) : (e.volume(e.ads.preAdVolume_), t())
            }
        },
        n_ = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            QT(t, e), t._getName = function() {
                return "Preroll"
            };
            var n = t.prototype;
            return n.init = function(e, t, n) {
                if (this.waitingForAdBreak = !0, e.addClass("vjs-ad-loading"), n || e.ads.nopreroll_) return this.resumeAfterNoPreroll(e);
                var r = e.ads.settings.timeout;
                "number" == typeof e.ads.settings.prerollTimeout && (r = e.ads.settings.prerollTimeout), this._timeout = e.setTimeout((function() {
                    e.trigger("adtimeout")
                }), r), t ? this.handleAdsReady() : this.adsReady = !1
            }, n.onAdsReady = function(e) {
                e.ads.inAdBreak() ? vy.log.warn("Unexpected adsready event (Preroll)") : (e.ads.debug("Received adsready event (Preroll)"), this.handleAdsReady())
            }, n.handleAdsReady = function() {
                this.adsReady = !0, this.readyForPreroll()
            }, n.afterLoadStart = function(e) {
                var t = this.player;
                t.ads._hasThereBeenALoadStartDuringPlayerLife ? e() : (t.ads.debug("Waiting for loadstart..."), t.one("loadstart", (function() {
                    t.ads.debug("Received loadstart event"), e()
                })))
            }, n.noPreroll = function() {
                var e = this;
                this.afterLoadStart((function() {
                    e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"), e.resumeAfterNoPreroll(e.player)
                }))
            }, n.readyForPreroll = function() {
                var e = this.player;
                this.afterLoadStart((function() {
                    e.ads.debug("Triggered readyforpreroll event (Preroll)"), e.trigger("readyforpreroll")
                }))
            }, n.onAdsCanceled = function(e) {
                var t = this;
                e.ads.debug("adscanceled (Preroll)"), this.afterLoadStart((function() {
                    t.resumeAfterNoPreroll(e)
                }))
            }, n.onAdsError = function(e) {
                var t = this;
                vy.log("adserror (Preroll)"), this.inAdBreak() ? e.ads.endLinearAdMode() : this.afterLoadStart((function() {
                    t.resumeAfterNoPreroll(e)
                }))
            }, n.startLinearAdMode = function() {
                var e = this.player;
                !this.adsReady || e.ads.inAdBreak() || this.isContentResuming() ? vy.log.warn("Unexpected startLinearAdMode invocation (Preroll)") : (this.clearTimeout(e), e.ads.adType = "preroll", this.waitingForAdBreak = !1, t_.start(e), e.ads._shouldBlockPlay = !1)
            }, n.onAdStarted = function(e) {
                e.removeClass("vjs-ad-loading")
            }, n.endLinearAdMode = function() {
                var e = this.player;
                this.inAdBreak() && (e.removeClass("vjs-ad-loading"), e.addClass("vjs-ad-content-resuming"), this.contentResuming = !0, t_.end(e))
            }, n.skipLinearAdMode = function() {
                var e = this,
                    t = this.player;
                t.ads.inAdBreak() || this.isContentResuming() ? vy.log.warn("Unexpected skipLinearAdMode invocation") : this.afterLoadStart((function() {
                    t.trigger("adskip"), t.ads.debug("skipLinearAdMode (Preroll)"), e.resumeAfterNoPreroll(t)
                }))
            }, n.onAdTimeout = function(e) {
                var t = this;
                this.afterLoadStart((function() {
                    e.ads.debug("adtimeout (Preroll)"), t.resumeAfterNoPreroll(e)
                }))
            }, n.onNoPreroll = function(e) {
                e.ads.inAdBreak() || this.isContentResuming() ? vy.log.warn("Unexpected nopreroll event (Preroll)") : this.noPreroll()
            }, n.resumeAfterNoPreroll = function(e) {
                if (this.contentResuming = !0, e.ads._shouldBlockPlay = !1, this.cleanupPartial(e), e.ads._playRequested || e.ads._pausedOnContentupdate)
                    if (e.paused()) {
                        e.ads.debug("resumeAfterNoPreroll: attempting to resume playback (Preroll)");
                        var t = e.play();
                        t && t.then && t.then(null, (function(e) {}))
                    } else e.ads.debug("resumeAfterNoPreroll: already playing (Preroll)"), e.trigger("play"), e.trigger("playing")
            }, n.cleanup = function(e) {
                e.ads._hasThereBeenALoadStartDuringPlayerLife || vy.log.warn("Leaving Preroll state before loadstart event can cause issues."), this.cleanupPartial(e)
            }, n.cleanupPartial = function(e) {
                e.removeClass("vjs-ad-loading"), e.removeClass("vjs-ad-content-resuming"), this.clearTimeout(e)
            }, n.clearTimeout = function(e) {
                e.clearTimeout(this._timeout), this._timeout = null
            }, t
        }(KT.getState("AdState"));
    KT.registerState("Preroll", n_);
    var r_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "BeforePreroll"
        };
        var n = t.prototype;
        return n.init = function(e) {
            this.adsReady = !1, this.shouldResumeToContent = !1, e.ads._shouldBlockPlay = !e.ads.settings.allowVjsAutoplay || !e.autoplay()
        }, n.onAdsReady = function(e) {
            e.ads.debug("Received adsready event (BeforePreroll)"), this.adsReady = !0
        }, n.onPlay = function(e) {
            var t = KT.getState("Preroll");
            e.ads.debug("Received play event (BeforePreroll)"), this.transitionTo(t, this.adsReady, this.shouldResumeToContent)
        }, n.onAdsCanceled = function(e) {
            e.ads.debug("adscanceled (BeforePreroll)"), this.shouldResumeToContent = !0
        }, n.onAdsError = function() {
            this.player.ads.debug("adserror (BeforePreroll)"), this.shouldResumeToContent = !0
        }, n.onNoPreroll = function() {
            this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"), this.shouldResumeToContent = !0
        }, n.skipLinearAdMode = function() {
            var e = this.player;
            e.trigger("adskip"), e.ads.debug("skipLinearAdMode (BeforePreroll)"), this.shouldResumeToContent = !0
        }, n.onContentChanged = function() {
            this.init(this.player)
        }, t
    }(KT.getState("ContentState"));
    KT.registerState("BeforePreroll", r_);
    var i_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "Midroll"
        };
        var n = t.prototype;
        return n.init = function(e) {
            e.ads.adType = "midroll", t_.start(e), e.addClass("vjs-ad-loading")
        }, n.onAdStarted = function(e) {
            e.removeClass("vjs-ad-loading")
        }, n.endLinearAdMode = function() {
            var e = this.player;
            this.inAdBreak() && (this.contentResuming = !0, e.addClass("vjs-ad-content-resuming"), e.removeClass("vjs-ad-loading"), t_.end(e))
        }, n.onAdsError = function(e) {
            this.inAdBreak() && e.ads.endLinearAdMode()
        }, n.cleanup = function(e) {
            e.removeClass("vjs-ad-loading"), e.removeClass("vjs-ad-content-resuming")
        }, t
    }(KT.getState("AdState"));
    KT.registerState("Midroll", i_);
    var a_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "Postroll"
        };
        var n = t.prototype;
        return n.init = function(e) {
            if (this.waitingForAdBreak = !0, e.ads._contentEnding = !0, e.ads.nopostroll_) {
                this.resumeContent(e);
                var t = KT.getState("AdsDone");
                this.transitionTo(t)
            } else {
                e.addClass("vjs-ad-loading");
                var n = e.ads.settings.timeout;
                "number" == typeof e.ads.settings.postrollTimeout && (n = e.ads.settings.postrollTimeout), this._postrollTimeout = e.setTimeout((function() {
                    e.trigger("adtimeout")
                }), n)
            }
        }, n.startLinearAdMode = function() {
            var e = this.player;
            e.ads.inAdBreak() || this.isContentResuming() ? vy.log.warn("Unexpected startLinearAdMode invocation (Postroll)") : (e.ads.adType = "postroll", e.clearTimeout(this._postrollTimeout), this.waitingForAdBreak = !1, t_.start(e))
        }, n.onAdStarted = function(e) {
            e.removeClass("vjs-ad-loading")
        }, n.endLinearAdMode = function() {
            var e = this,
                t = this.player,
                n = KT.getState("AdsDone");
            this.inAdBreak() && (t.removeClass("vjs-ad-loading"), this.resumeContent(t), t_.end(t, (function() {
                e.transitionTo(n)
            })))
        }, n.skipLinearAdMode = function() {
            var e = this.player;
            e.ads.inAdBreak() || this.isContentResuming() ? vy.log.warn("Unexpected skipLinearAdMode invocation") : (e.ads.debug("Postroll abort (skipLinearAdMode)"), e.trigger("adskip"), this.abort(e))
        }, n.onAdTimeout = function(e) {
            e.ads.debug("Postroll abort (adtimeout)"), this.abort(e)
        }, n.onAdsError = function(e) {
            e.ads.debug("Postroll abort (adserror)"), e.ads.inAdBreak() ? e.ads.endLinearAdMode() : this.abort(e)
        }, n.onContentChanged = function(e) {
            if (this.isContentResuming()) {
                var t = KT.getState("BeforePreroll");
                this.transitionTo(t)
            } else if (!this.inAdBreak()) {
                var n = KT.getState("Preroll");
                this.transitionTo(n)
            }
        }, n.onNoPostroll = function(e) {
            this.isContentResuming() || this.inAdBreak() ? vy.log.warn("Unexpected nopostroll event (Postroll)") : this.abort(e)
        }, n.resumeContent = function(e) {
            this.contentResuming = !0, e.addClass("vjs-ad-content-resuming")
        }, n.abort = function(e) {
            var t = KT.getState("AdsDone");
            this.resumeContent(e), e.removeClass("vjs-ad-loading"), this.transitionTo(t)
        }, n.cleanup = function(e) {
            e.removeClass("vjs-ad-content-resuming"), e.clearTimeout(this._postrollTimeout), e.ads._contentEnding = !1
        }, t
    }(KT.getState("AdState"));
    KT.registerState("Postroll", a_);
    var o_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "ContentPlayback"
        };
        var n = t.prototype;
        return n.init = function(e) {
            e.ads._shouldBlockPlay = !1
        }, n.onAdsReady = function(e) {
            e.ads.debug("Received adsready event (ContentPlayback)"), e.ads.nopreroll_ || (e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"), e.trigger("readyforpreroll"))
        }, n.onReadyForPostroll = function(e) {
            var t = KT.getState("Postroll");
            e.ads.debug("Received readyforpostroll event"), this.transitionTo(t)
        }, n.startLinearAdMode = function() {
            var e = KT.getState("Midroll");
            this.transitionTo(e)
        }, t
    }(KT.getState("ContentState"));
    KT.registerState("ContentPlayback", o_);
    var s_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "StitchedContentPlayback"
        };
        var n = t.prototype;
        return n.init = function() {
            this.player.ads._shouldBlockPlay = !1
        }, n.onContentChanged = function() {
            this.player.ads.debug("Received contentchanged event (" + this.constructor._getName() + ")")
        }, n.startLinearAdMode = function() {
            var e = KT.getState("StitchedAdRoll");
            this.transitionTo(e)
        }, t
    }(KT.getState("ContentState"));
    KT.registerState("StitchedContentPlayback", s_);
    var u_ = function(e) {
        function t() {
            return e.apply(this, arguments) || this
        }
        QT(t, e), t._getName = function() {
            return "StitchedAdRoll"
        };
        var n = t.prototype;
        return n.init = function() {
            this.waitingForAdBreak = !1, this.contentResuming = !1, this.player.ads.adType = "stitched", t_.start(this.player)
        }, n.onPlaying = function() {}, n.onContentResumed = function() {}, n.onAdEnded = function() {
            this.endLinearAdMode(), this.player.trigger("ended")
        }, n.endLinearAdMode = function() {
            var e = KT.getState("StitchedContentPlayback");
            t_.end(this.player), this.transitionTo(e)
        }, t
    }(KT.getState("AdState"));
    KT.registerState("StitchedAdRoll", u_);
    var l_ = WT.isMiddlewareMediatorSupported,
        c_ = vy.getTech("Html5").Events,
        d_ = {
            timeout: 5e3,
            prerollTimeout: void 0,
            postrollTimeout: void 0,
            debug: !1,
            stitchedAds: !1,
            contentIsLive: void 0,
            liveCuePoints: !0,
            allowVjsAutoplay: vy.options.normalizeAutoplay || !1
        },
        h_ = function(e) {
            var t = this,
                n = vy.mergeOptions(d_, e),
                r = [];
            c_.concat(["firstplay", "loadedalldata"]).forEach((function(e) {
                    -1 === r.indexOf(e) && r.push(e)
                })), t.on(r, OT), l_() || function(e, t) {
                    t && vy.log("Using cancelContentPlay to block content playback"), e.on("play", VT)
                }(t, n.debug), t.setTimeout((function() {
                    t.ads._hasThereBeenALoadStartDuringPlayerLife || "" === t.src() || vy.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")
                }), 5e3), t.on("ended", (function() {
                    t.hasClass("vjs-has-started") || t.addClass("vjs-has-started")
                })), t.on("contenttimeupdate", (function() {
                    t.removeClass("vjs-waiting")
                })), t.on(["addurationchange", "adcanplay"], (function() {
                    if (!t.ads.settings.stitchedAds && !t.hasStarted() && (!t.ads.snapshot || t.currentSrc() !== t.ads.snapshot.currentSrc) && t.ads.inAdBreak()) {
                        var e = t.play();
                        e && e.catch && e.catch((function(e) {
                            vy.log.warn("Play promise rejected when playing ad", e)
                        }))
                    }
                })), t.on("nopreroll", (function() {
                    t.ads.debug("Received nopreroll event"), t.ads.nopreroll_ = !0
                })), t.on("nopostroll", (function() {
                    t.ads.debug("Received nopostroll event"), t.ads.nopostroll_ = !0
                })), t.on("playing", (function() {
                    t.ads._cancelledPlay = !1, t.ads._pausedOnContentupdate = !1
                })), t.on("play", (function() {
                    t.ads._playRequested = !0
                })), t.one("loadstart", (function() {
                    t.ads._hasThereBeenALoadStartDuringPlayerLife = !0
                })), t.on("loadeddata", (function() {
                    t.ads._hasThereBeenALoadedData = !0
                })), t.on("loadedmetadata", (function() {
                    t.ads._hasThereBeenALoadedMetaData = !0
                })), t.ads = function(e) {
                    return {
                        disableNextSnapshotRestore: !1,
                        _contentEnding: !1,
                        _contentHasEnded: !1,
                        _hasThereBeenALoadStartDuringPlayerLife: !1,
                        _hasThereBeenALoadedData: !1,
                        _hasThereBeenALoadedMetaData: !1,
                        _inLinearAdMode: !1,
                        _shouldBlockPlay: !1,
                        _playBlocked: !1,
                        _playRequested: !1,
                        adType: null,
                        VERSION: MT,
                        reset: function() {
                            e.ads.disableNextSnapshotRestore = !1, e.ads._contentEnding = !1, e.ads._contentHasEnded = !1, e.ads.snapshot = null, e.ads.adType = null, e.ads._hasThereBeenALoadedData = !1, e.ads._hasThereBeenALoadedMetaData = !1, e.ads._cancelledPlay = !1, e.ads._shouldBlockPlay = !1, e.ads._playBlocked = !1, e.ads.nopreroll_ = !1, e.ads.nopostroll_ = !1, e.ads._playRequested = !1
                        },
                        startLinearAdMode: function() {
                            e.ads._state.startLinearAdMode()
                        },
                        endLinearAdMode: function() {
                            e.ads._state.endLinearAdMode()
                        },
                        skipLinearAdMode: function() {
                            e.ads._state.skipLinearAdMode()
                        },
                        stitchedAds: function(e) {
                            return void 0 !== e && (vy.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."), this.settings.stitchedAds = !!e), this.settings.stitchedAds
                        },
                        videoElementRecycled: function() {
                            if (e.ads.shouldPlayContentBehindAd(e)) return !1;
                            if (!this.snapshot) throw new Error("You cannot use videoElementRecycled while there is no snapshot.");
                            var t = e.tech_.src() !== this.snapshot.src,
                                n = e.currentSrc() !== this.snapshot.currentSrc;
                            return t || n
                        },
                        isLive: function(t) {
                            return void 0 === t && (t = e), "boolean" == typeof t.ads.settings.contentIsLive ? t.ads.settings.contentIsLive : t.duration() === 1 / 0 || "8" === vy.browser.IOS_VERSION && 0 === t.duration()
                        },
                        shouldPlayContentBehindAd: function(t) {
                            if (void 0 === t && (t = e), t) return !!t.ads.settings.liveCuePoints && !vy.browser.IS_IOS && !vy.browser.IS_ANDROID && t.duration() === 1 / 0;
                            throw new Error("shouldPlayContentBehindAd requires a player as a param")
                        },
                        shouldTakeSnapshots: function(t) {
                            return void 0 === t && (t = e), !this.shouldPlayContentBehindAd(t) && !this.stitchedAds()
                        },
                        isInAdMode: function() {
                            return this._state.isAdState()
                        },
                        isWaitingForAdBreak: function() {
                            return this._state.isWaitingForAdBreak()
                        },
                        isContentResuming: function() {
                            return this._state.isContentResuming()
                        },
                        isAdPlaying: function() {
                            return this._state.inAdBreak()
                        },
                        inAdBreak: function() {
                            return this._state.inAdBreak()
                        },
                        removeNativePoster: function() {
                            var t = e.$(".vjs-tech");
                            t && t.removeAttribute("poster")
                        },
                        debug: function() {
                            if (this.settings.debug) {
                                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                                1 === t.length && "string" == typeof t[0] ? vy.log("ADS: " + t[0]) : vy.log.apply(vy, ["ADS:"].concat(t))
                            }
                        }
                    }
                }(t), t.ads.settings = n, n.stitchedAds = !!n.stitchedAds, n.stitchedAds ? t.ads._state = new(KT.getState("StitchedContentPlayback"))(t) : t.ads._state = new(KT.getState("BeforePreroll"))(t), t.ads._state.init(t), t.ads.cueTextTracks = jT, t.ads.adMacroReplacement = FT.bind(t),
                function(e) {
                    e.ads.contentSrc = e.currentSrc(), e.ads._seenInitialLoadstart = !1, e.on("loadstart", (function() {
                        if (!e.ads.inAdBreak()) {
                            var t = e.currentSrc();
                            t !== e.ads.contentSrc && (e.ads._seenInitialLoadstart && e.trigger({
                                type: "contentchanged"
                            }), e.trigger({
                                type: "contentupdate",
                                oldValue: e.ads.contentSrc,
                                newValue: t
                            }), e.ads.contentSrc = t), e.ads._seenInitialLoadstart = !0
                        }
                    }))
                }(t), t.on("contentchanged", t.ads.reset);
            var i = function() {
                var e = t.textTracks();
                if (!t.ads.shouldPlayContentBehindAd(t) && t.ads.inAdBreak() && t.tech_.featuresNativeTextTracks && vy.browser.IS_IOS && !Array.isArray(t.textTracks()))
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        "showing" === r.mode && (r.mode = "disabled")
                    }
            };
            t.ready((function() {
                t.textTracks().addEventListener("change", i)
            })), t.on(["play", "playing", "ended", "adsready", "adscanceled", "adskip", "adserror", "adtimeout", "adended", "ads-ad-started", "contentchanged", "dispose", "contentresumed", "readyforpostroll", "nopreroll", "nopostroll"], (function(e) {
                t.ads._state.handleEvent(e.type)
            })), t.on("dispose", (function() {
                t.ads.reset(), t.textTracks().removeEventListener("change", i)
            })), NT(), t.ads.listenToTcf = NT
        };
    h_.VERSION = MT,
        function(e) {
            ! function() {
                if (vy.getPlugin) return Boolean(vy.getPlugin("ads"));
                var e = vy.getComponent("Player");
                return Boolean(e && e.prototype.ads)
            }() && ((vy.registerPlugin || vy.plugin)("ads", e), XT() && !vy.usingContribAdsMiddleware_ && (vy.use("*", zT), vy.usingContribAdsMiddleware_ = !0, vy.log.debug("Play middleware has been registered with videojs")))
        }(h_);
    var p_ = function(e, t, n) {
        this.vjsPlayer = e, this.controller = n, this.contentTrackingTimer = null, this.contentComplete = !1, this.updateTimeIntervalHandle = null, this.updateTimeInterval = 1e3, this.seekCheckIntervalHandle = null, this.seekCheckInterval = 1e3, this.resizeCheckIntervalHandle = null, this.resizeCheckInterval = 250, this.seekThreshold = 100, this.contentEndedListeners = [], this.contentSource = "", this.contentSourceType = "", this.contentPlayheadTracker = {
            currentTime: 0,
            previousTime: 0,
            seeking: !1,
            duration: 0
        }, this.vjsPlayerDimensions = {
            width: this.getPlayerWidth(),
            height: this.getPlayerHeight()
        }, this.vjsControls = this.vjsPlayer.getChild("controlBar"), this.h5Player = null, this.vjsPlayer.one("play", this.setUpPlayerIntervals.bind(this)), this.boundContentEndedListener = this.localContentEndedListener.bind(this), this.vjsPlayer.on("contentended", this.boundContentEndedListener), this.vjsPlayer.on("dispose", this.playerDisposedListener.bind(this)), this.vjsPlayer.on("readyforpreroll", this.onReadyForPreroll.bind(this)), this.vjsPlayer.on("adtimeout", this.onAdTimeout.bind(this)), this.vjsPlayer.ready(this.onPlayerReady.bind(this)), "onPlay" === this.controller.getSettings().requestMode && this.vjsPlayer.one("play", this.controller.requestAds.bind(this.controller)), this.vjsPlayer.ads(t)
    };
    p_.prototype.setUpPlayerIntervals = function() {
        this.updateTimeIntervalHandle = setInterval(this.updateCurrentTime.bind(this), this.updateTimeInterval), this.seekCheckIntervalHandle = setInterval(this.checkForSeeking.bind(this), this.seekCheckInterval), this.resizeCheckIntervalHandle = setInterval(this.checkForResize.bind(this), this.resizeCheckInterval)
    }, p_.prototype.updateCurrentTime = function() {
        this.contentPlayheadTracker.seeking || (this.contentPlayheadTracker.currentTime = this.vjsPlayer.currentTime())
    }, p_.prototype.checkForSeeking = function() {
        var e = 1e3 * (this.vjsPlayer.currentTime() - this.contentPlayheadTracker.previousTime);
        Math.abs(e) > this.seekCheckInterval + this.seekThreshold ? this.contentPlayheadTracker.seeking = !0 : this.contentPlayheadTracker.seeking = !1, this.contentPlayheadTracker.previousTime = this.vjsPlayer.currentTime()
    }, p_.prototype.checkForResize = function() {
        var e = this.getPlayerWidth(),
            t = this.getPlayerHeight();
        e == this.vjsPlayerDimensions.width && t == this.vjsPlayerDimensions.height || (this.vjsPlayerDimensions.width = e, this.vjsPlayerDimensions.height = t, this.controller.onPlayerResize(e, t))
    }, p_.prototype.localContentEndedListener = function() {
        for (var e in this.contentComplete || (this.contentComplete = !0, this.controller.onContentComplete()), this.contentEndedListeners) "function" == typeof this.contentEndedListeners[e] && this.contentEndedListeners[e]();
        clearInterval(this.updateTimeIntervalHandle), clearInterval(this.seekCheckIntervalHandle), clearInterval(this.resizeCheckIntervalHandle), this.vjsPlayer.el() && this.vjsPlayer.one("play", this.setUpPlayerIntervals.bind(this))
    }, p_.prototype.onNoPostroll = function() {
        this.vjsPlayer.trigger("nopostroll")
    }, p_.prototype.playerDisposedListener = function() {
        this.contentEndedListeners = [], this.controller.onPlayerDisposed(), this.contentComplete = !0, this.vjsPlayer.off("contentended", this.boundContentEndedListener), this.vjsPlayer.ads.adTimeoutTimeout && clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);
        var e = [this.updateTimeIntervalHandle, this.seekCheckIntervalHandle, this.resizeCheckIntervalHandle];
        for (var t in e) e[t] && clearInterval(e[t])
    }, p_.prototype.onReadyForPreroll = function() {
        this.controller.onPlayerReadyForPreroll()
    }, p_.prototype.onAdTimeout = function() {
        this.controller.onAdTimeout()
    }, p_.prototype.onPlayerReady = function() {
        this.h5Player = document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0], this.h5Player.hasAttribute("autoplay") && this.controller.setSetting("adWillAutoPlay", !0), this.onVolumeChange(), this.vjsPlayer.on("fullscreenchange", this.onFullscreenChange.bind(this)), this.vjsPlayer.on("volumechange", this.onVolumeChange.bind(this)), this.controller.onPlayerReady()
    }, p_.prototype.onFullscreenChange = function() {
        this.vjsPlayer.isFullscreen() ? this.controller.onPlayerEnterFullscreen() : this.controller.onPlayerExitFullscreen()
    }, p_.prototype.onVolumeChange = function() {
        var e = this.vjsPlayer.muted() ? 0 : this.vjsPlayer.volume();
        this.controller.onPlayerVolumeChanged(e)
    }, p_.prototype.injectAdContainerDiv = function(e) {
        this.vjsControls.el().parentNode.appendChild(e)
    }, p_.prototype.getContentPlayer = function() {
        return this.h5Player
    }, p_.prototype.getVolume = function() {
        return this.vjsPlayer.muted() ? 0 : this.vjsPlayer.volume()
    }, p_.prototype.setVolume = function(e) {
        this.vjsPlayer.volume(e), 0 == e ? this.vjsPlayer.muted(!0) : this.vjsPlayer.muted(!1)
    }, p_.prototype.unmute = function() {
        this.vjsPlayer.muted(!1)
    }, p_.prototype.mute = function() {
        this.vjsPlayer.muted(!0)
    }, p_.prototype.play = function() {
        this.vjsPlayer.play()
    }, p_.prototype.togglePlayback = function() {
        this.vjsPlayer.paused() ? this.vjsPlayer.play() : this.vjsPlayer.pause()
    }, p_.prototype.getPlayerWidth = function() {
        var e = (getComputedStyle(this.vjsPlayer.el()) || {}).width;
        return e && 0 !== parseFloat(e) || (e = (this.vjsPlayer.el().getBoundingClientRect() || {}).width), parseFloat(e) || this.vjsPlayer.width()
    }, p_.prototype.getPlayerHeight = function() {
        var e = (getComputedStyle(this.vjsPlayer.el()) || {}).height;
        return e && 0 !== parseFloat(e) || (e = (this.vjsPlayer.el().getBoundingClientRect() || {}).height), parseFloat(e) || this.vjsPlayer.height()
    }, p_.prototype.getPlayerOptions = function() {
        return this.vjsPlayer.options_
    }, p_.prototype.getPlayerId = function() {
        return this.vjsPlayer.id()
    }, p_.prototype.toggleFullscreen = function() {
        this.vjsPlayer.isFullscreen() ? this.vjsPlayer.exitFullscreen() : this.vjsPlayer.requestFullscreen()
    }, p_.prototype.getContentPlayheadTracker = function() {
        return this.contentPlayheadTracker
    }, p_.prototype.onAdError = function(e) {
        this.vjsControls.show();
        var t = void 0 !== e.getError ? e.getError() : e.stack;
        this.vjsPlayer.trigger({
            type: "adserror",
            data: {
                AdError: t,
                AdErrorEvent: e
            }
        })
    }, p_.prototype.onAdLog = function(e) {
        var t = e.getAdData(),
            n = void 0 !== t.adError ? t.adError.getMessage() : void 0;
        this.vjsPlayer.trigger({
            type: "adslog",
            data: {
                AdError: n,
                AdEvent: e
            }
        })
    }, p_.prototype.onAdBreakStart = function() {
        this.contentSource = this.vjsPlayer.currentSrc(), this.contentSourceType = this.vjsPlayer.currentType(), this.vjsPlayer.off("contentended", this.boundContentEndedListener), this.vjsPlayer.ads.startLinearAdMode(), this.vjsControls.hide(), this.vjsPlayer.pause()
    }, p_.prototype.onAdBreakEnd = function() {
        this.vjsPlayer.on("contentended", this.boundContentEndedListener), this.vjsPlayer.ads.inAdBreak() && this.vjsPlayer.ads.endLinearAdMode(), this.vjsControls.show()
    }, p_.prototype.onAdStart = function() {
        this.vjsPlayer.trigger("ads-ad-started")
    }, p_.prototype.onAllAdsCompleted = function() {
        1 == this.contentComplete && (this.contentSource && this.vjsPlayer.currentSrc() != this.contentSource && this.vjsPlayer.src({
            src: this.contentSource,
            type: this.contentSourceType
        }), this.controller.onContentAndAdsCompleted())
    }, p_.prototype.onAdsReady = function() {
        this.vjsPlayer.trigger("adsready")
    }, p_.prototype.changeSource = function(e) {
        this.vjsPlayer.currentSrc() && (this.vjsPlayer.currentTime(0), this.vjsPlayer.pause()), e && this.vjsPlayer.src(e), this.vjsPlayer.one("loadedmetadata", this.seekContentToZero.bind(this))
    }, p_.prototype.seekContentToZero = function() {
        this.vjsPlayer.currentTime(0)
    }, p_.prototype.triggerPlayerEvent = function(e, t) {
        this.vjsPlayer.trigger(e, t)
    }, p_.prototype.addContentEndedListener = function(e) {
        this.contentEndedListeners.push(e)
    }, p_.prototype.reset = function() {
        this.vjsPlayer.off("contentended", this.boundContentEndedListener), this.vjsPlayer.on("contentended", this.boundContentEndedListener), this.vjsControls.show(), this.vjsPlayer.ads.inAdBreak() && this.vjsPlayer.ads.endLinearAdMode(), this.contentPlayheadTracker.currentTime = 0, this.contentComplete = !1
    };
    var f_ = function(e) {
        this.controller = e, this.adContainerDiv = document.createElement("div"), this.controlsDiv = document.createElement("div"), this.countdownDiv = document.createElement("div"), this.seekBarDiv = document.createElement("div"), this.progressDiv = document.createElement("div"), this.playPauseDiv = document.createElement("div"), this.muteDiv = document.createElement("div"), this.sliderDiv = document.createElement("div"), this.sliderLevelDiv = document.createElement("div"), this.fullscreenDiv = document.createElement("div"), this.boundOnMouseUp = this.onMouseUp.bind(this), this.boundOnMouseMove = this.onMouseMove.bind(this), this.adPlayheadTracker = {
            currentTime: 0,
            duration: 0,
            isPod: !1,
            adPosition: 0,
            totalAds: 0
        }, this.controlPrefix = this.controller.getPlayerId() + "_", this.showCountdown = !0, !1 === this.controller.getSettings().showCountdown && (this.showCountdown = !1), this.isAdNonlinear = !1, this.createAdContainer()
    };
    f_.prototype.createAdContainer = function() {
        this.assignControlAttributes(this.adContainerDiv, "ima-ad-container"), this.adContainerDiv.style.position = "absolute", this.adContainerDiv.style.zIndex = 1111, this.adContainerDiv.addEventListener("mouseenter", this.showAdControls.bind(this), !1), this.adContainerDiv.addEventListener("mouseleave", this.hideAdControls.bind(this), !1), this.adContainerDiv.addEventListener("click", this.onAdContainerClick.bind(this), !1), this.createControls(), this.controller.injectAdContainerDiv(this.adContainerDiv)
    }, f_.prototype.createControls = function() {
        this.assignControlAttributes(this.controlsDiv, "ima-controls-div"), this.controlsDiv.style.width = "100%", this.controller.getIsMobile() ? this.countdownDiv.style.display = "none" : (this.assignControlAttributes(this.countdownDiv, "ima-countdown-div"), this.countdownDiv.innerHTML = this.controller.getSettings().adLabel, this.countdownDiv.style.display = this.showCountdown ? "block" : "none"), this.assignControlAttributes(this.seekBarDiv, "ima-seek-bar-div"), this.seekBarDiv.style.width = "100%", this.assignControlAttributes(this.progressDiv, "ima-progress-div"), this.assignControlAttributes(this.playPauseDiv, "ima-play-pause-div"), this.addClass(this.playPauseDiv, "ima-playing"), this.playPauseDiv.addEventListener("click", this.onAdPlayPauseClick.bind(this), !1), this.assignControlAttributes(this.muteDiv, "ima-mute-div"), this.addClass(this.muteDiv, "ima-non-muted"), this.muteDiv.addEventListener("click", this.onAdMuteClick.bind(this), !1), this.assignControlAttributes(this.sliderDiv, "ima-slider-div"), this.sliderDiv.addEventListener("mousedown", this.onAdVolumeSliderMouseDown.bind(this), !1), this.controller.getIsIos() && (this.sliderDiv.style.display = "none"), this.assignControlAttributes(this.sliderLevelDiv, "ima-slider-level-div"), this.assignControlAttributes(this.fullscreenDiv, "ima-fullscreen-div"), this.addClass(this.fullscreenDiv, "ima-non-fullscreen"), this.fullscreenDiv.addEventListener("click", this.onAdFullscreenClick.bind(this), !1), this.adContainerDiv.appendChild(this.controlsDiv), this.controlsDiv.appendChild(this.countdownDiv), this.controlsDiv.appendChild(this.seekBarDiv), this.controlsDiv.appendChild(this.playPauseDiv), this.controlsDiv.appendChild(this.muteDiv), this.controlsDiv.appendChild(this.sliderDiv), this.controlsDiv.appendChild(this.fullscreenDiv), this.seekBarDiv.appendChild(this.progressDiv), this.sliderDiv.appendChild(this.sliderLevelDiv)
    }, f_.prototype.onAdPlayPauseClick = function() {
        this.controller.onAdPlayPauseClick()
    }, f_.prototype.onAdMuteClick = function() {
        this.controller.onAdMuteClick()
    }, f_.prototype.onAdFullscreenClick = function() {
        this.controller.toggleFullscreen()
    }, f_.prototype.onAdsPaused = function() {
        this.controller.sdkImpl.adPlaying = !1, this.addClass(this.playPauseDiv, "ima-paused"), this.removeClass(this.playPauseDiv, "ima-playing"), this.showAdControls()
    }, f_.prototype.onAdsResumed = function() {
        this.onAdsPlaying(), this.showAdControls()
    }, f_.prototype.onAdsPlaying = function() {
        this.controller.sdkImpl.adPlaying = !0, this.addClass(this.playPauseDiv, "ima-playing"), this.removeClass(this.playPauseDiv, "ima-paused")
    }, f_.prototype.updateAdUi = function(e, t, n, r, i) {
        var a = Math.floor(t / 60),
            o = Math.floor(t % 60);
        o.toString().length < 2 && (o = "0" + o);
        var s = ": ";
        i > 1 && (s = " (" + r + " " + this.controller.getSettings().adLabelNofN + " " + i + "): "), this.countdownDiv.innerHTML = this.controller.getSettings().adLabel + s + a + ":" + o;
        var u = 100 * (e / n);
        this.progressDiv.style.width = u + "%"
    }, f_.prototype.unmute = function() {
        this.addClass(this.muteDiv, "ima-non-muted"), this.removeClass(this.muteDiv, "ima-muted"), this.sliderLevelDiv.style.width = 100 * this.controller.getPlayerVolume() + "%"
    }, f_.prototype.mute = function() {
        this.addClass(this.muteDiv, "ima-muted"), this.removeClass(this.muteDiv, "ima-non-muted"), this.sliderLevelDiv.style.width = "0%"
    }, f_.prototype.onAdVolumeSliderMouseDown = function() {
        document.addEventListener("mouseup", this.boundOnMouseUp, !1), document.addEventListener("mousemove", this.boundOnMouseMove, !1)
    }, f_.prototype.onMouseMove = function(e) {
        this.changeVolume(e)
    }, f_.prototype.onMouseUp = function(e) {
        this.changeVolume(e), document.removeEventListener("mouseup", this.boundOnMouseUp), document.removeEventListener("mousemove", this.boundOnMouseMove)
    }, f_.prototype.changeVolume = function(e) {
        var t = (e.clientX - this.sliderDiv.getBoundingClientRect().left) / this.sliderDiv.offsetWidth;
        t *= 100, t = Math.min(Math.max(t, 0), 100), this.sliderLevelDiv.style.width = t + "%", 0 == this.percent ? (this.addClass(this.muteDiv, "ima-muted"), this.removeClass(this.muteDiv, "ima-non-muted")) : (this.addClass(this.muteDiv, "ima-non-muted"), this.removeClass(this.muteDiv, "ima-muted")), this.controller.setVolume(t / 100)
    }, f_.prototype.showAdContainer = function() {
        this.adContainerDiv.style.display = "block"
    }, f_.prototype.hideAdContainer = function() {
        this.adContainerDiv.style.display = "none"
    }, f_.prototype.onAdContainerClick = function() {
        this.isAdNonlinear && this.controller.togglePlayback()
    }, f_.prototype.reset = function() {
        this.hideAdContainer()
    }, f_.prototype.onAdError = function() {
        this.hideAdContainer()
    }, f_.prototype.onAdBreakStart = function(e) {
        this.showAdContainer(), "application/javascript" !== e.getAd().getContentType() || this.controller.getSettings().showControlsForJSAds ? this.controlsDiv.style.display = "block" : this.controlsDiv.style.display = "none", this.onAdsPlaying(), this.hideAdControls()
    }, f_.prototype.onAdBreakEnd = function() {
        var e = this.controller.getCurrentAd();
        (null == e || e.isLinear()) && this.hideAdContainer(), this.controlsDiv.style.display = "none", this.countdownDiv.innerHTML = ""
    }, f_.prototype.onAllAdsCompleted = function() {
        this.hideAdContainer()
    }, f_.prototype.onLinearAdStart = function() {
        this.removeClass(this.adContainerDiv, "bumpable-ima-ad-container"), this.isAdNonlinear = !1
    }, f_.prototype.onNonLinearAdLoad = function() {
        this.adContainerDiv.style.display = "block", this.addClass(this.adContainerDiv, "bumpable-ima-ad-container"), this.isAdNonlinear = !0
    }, f_.prototype.onPlayerEnterFullscreen = function() {
        this.addClass(this.fullscreenDiv, "ima-fullscreen"), this.removeClass(this.fullscreenDiv, "ima-non-fullscreen")
    }, f_.prototype.onPlayerExitFullscreen = function() {
        this.addClass(this.fullscreenDiv, "ima-non-fullscreen"), this.removeClass(this.fullscreenDiv, "ima-fullscreen")
    }, f_.prototype.onPlayerVolumeChanged = function(e) {
        0 == e ? (this.addClass(this.muteDiv, "ima-muted"), this.removeClass(this.muteDiv, "ima-non-muted"), this.sliderLevelDiv.style.width = "0%") : (this.addClass(this.muteDiv, "ima-non-muted"), this.removeClass(this.muteDiv, "ima-muted"), this.sliderLevelDiv.style.width = 100 * e + "%")
    }, f_.prototype.showAdControls = function() {
        this.controller.getSettings().disableAdControls || this.addClass(this.controlsDiv, "ima-controls-div-showing")
    }, f_.prototype.hideAdControls = function() {
        this.removeClass(this.controlsDiv, "ima-controls-div-showing")
    }, f_.prototype.assignControlAttributes = function(e, t) {
        e.id = this.controlPrefix + t, e.className = this.controlPrefix + t + " " + t
    }, f_.prototype.getClassRegexp = function(e) {
        return new RegExp("(^|[^A-Za-z-])" + e + "((?![A-Za-z-])|$)", "gi")
    }, f_.prototype.elementHasClass = function(e, t) {
        return this.getClassRegexp(t).test(e.className)
    }, f_.prototype.addClass = function(e, t) {
        e.className = e.className.trim() + " " + t
    }, f_.prototype.removeClass = function(e, t) {
        var n = this.getClassRegexp(t);
        e.className = e.className.trim().replace(n, "")
    }, f_.prototype.getAdContainerDiv = function() {
        return this.adContainerDiv
    }, f_.prototype.setShowCountdown = function(e) {
        this.showCountdown = e, this.countdownDiv.style.display = this.showCountdown ? "block" : "none"
    };
    var m_ = "1.11.0",
        g_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        y_ = function(e) {
            this.controller = e, this.adDisplayContainer = null, this.adDisplayContainerInitialized = !1, this.adsLoader = null, this.adsManager = null, this.adsRenderingSettings = null, this.adsResponse = null, this.currentAd = null, this.adTrackingTimer = null, this.allAdsCompleted = !1, this.adsActive = !1, this.adPlaying = !1, this.adMuted = !1, this.adBreakReadyListener = void 0, this.contentCompleteCalled = !1, this.isAdTimedOut = !1, this.adsManagerDimensions = {
                width: 0,
                height: 0
            }, this.autoPlayAdBreaks = !0, !1 === this.controller.getSettings().autoPlayAdBreaks && (this.autoPlayAdBreaks = !1), this.controller.getSettings().locale && google.ima.settings.setLocale(this.controller.getSettings().locale), this.controller.getSettings().disableFlashAds && google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds), this.controller.getSettings().disableCustomPlaybackForIOS10Plus && google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus), this.controller.getSettings().ppid && google.ima.settings.setPpid(this.controller.getSettings().ppid), this.controller.getSettings().featureFlags && google.ima.settings.setFeatureFlags(this.controller.getSettings().featureFlags)
        };
    y_.prototype.initAdObjects = function() {
        this.adDisplayContainer = new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(), this.controller.getContentPlayer()), this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer), this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED), 0 == this.controller.getSettings().vpaidAllowed && this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED), void 0 !== this.controller.getSettings().vpaidMode && this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode), this.controller.getSettings().locale && this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale), this.controller.getSettings().numRedirects && this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects), this.controller.getSettings().sessionId && this.adsLoader.getSettings().setSessionId(this.controller.getSettings().sessionId), this.adsLoader.getSettings().setPlayerType("videojs-ima"), this.adsLoader.getSettings().setPlayerVersion(m_), this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks), this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, this.onAdsManagerLoaded.bind(this), !1), this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this.onAdsLoaderError.bind(this), !1), this.controller.playerWrapper.vjsPlayer.trigger({
            type: "ads-loader",
            adsLoader: this.adsLoader
        })
    }, y_.prototype.requestAds = function() {
        var e = new google.ima.AdsRequest;
        if (this.controller.getSettings().adTagUrl ? e.adTagUrl = this.controller.getSettings().adTagUrl : e.adsResponse = this.controller.getSettings().adsResponse, this.controller.getSettings().forceNonLinearFullSlot && (e.forceNonLinearFullSlot = !0), this.controller.getSettings().vastLoadTimeout && (e.vastLoadTimeout = this.controller.getSettings().vastLoadTimeout), this.controller.getSettings().omidMode) {
            e.omidAccessModeRules = {};
            var t = this.controller.getSettings().omidMode;
            t.FULL && (e.omidAccessModeRules[google.ima.OmidAccessMode.FULL] = t.FULL), t.DOMAIN && (e.omidAccessModeRules[google.ima.OmidAccessMode.DOMAIN] = t.DOMAIN), t.LIMITED && (e.omidAccessModeRules[google.ima.OmidAccessMode.LIMITED] = t.LIMITED)
        }
        e.linearAdSlotWidth = this.controller.getPlayerWidth(), e.linearAdSlotHeight = this.controller.getPlayerHeight(), e.nonLinearAdSlotWidth = this.controller.getSettings().nonLinearWidth || this.controller.getPlayerWidth(), e.nonLinearAdSlotHeight = this.controller.getSettings().nonLinearHeight || this.controller.getPlayerHeight(), e.setAdWillAutoPlay(this.controller.adsWillAutoplay()), e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());
        var n = this.controller.getSettings().adsRequest;
        n && "object" === (void 0 === n ? "undefined" : g_(n)) && Object.keys(n).forEach((function(t) {
            e[t] = n[t]
        })), this.adsLoader.requestAds(e), this.controller.playerWrapper.vjsPlayer.trigger({
            type: "ads-request",
            AdsRequest: e
        })
    }, y_.prototype.onAdsManagerLoaded = function(e) {
        this.createAdsRenderingSettings(), this.adsManager = e.getAdsManager(this.controller.getContentPlayheadTracker(), this.adsRenderingSettings), this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this.onAdError.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY, this.onAdBreakReady.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, this.onContentPauseRequested.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, this.onContentResumeRequested.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED, this.onAllAdsCompleted.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED, this.onAdLoaded.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED, this.onAdStarted.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE, this.onAdComplete.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED, this.onAdComplete.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG, this.onAdLog.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED, this.onAdPaused.bind(this)), this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED, this.onAdResumed.bind(this)), this.controller.playerWrapper.vjsPlayer.trigger({
            type: "ads-manager",
            adsManager: this.adsManager
        }), this.autoPlayAdBreaks || this.initAdsManager();
        var t = this.controller.getSettings().preventLateAdStart;
        t ? t && !this.isAdTimedOut && this.controller.onAdsReady() : this.controller.onAdsReady(), this.controller.getSettings().adsManagerLoadedCallback && this.controller.getSettings().adsManagerLoadedCallback()
    }, y_.prototype.onAdsLoaderError = function(e) {
        window.console.warn("AdsLoader error: " + e.getError()), this.controller.onErrorLoadingAds(e), this.adsManager && this.adsManager.destroy()
    }, y_.prototype.initAdsManager = function() {
        try {
            var e = this.controller.getPlayerWidth(),
                t = this.controller.getPlayerHeight();
            this.adsManagerDimensions.width = e, this.adsManagerDimensions.height = t, this.adsManager.init(e, t, google.ima.ViewMode.NORMAL), this.adsManager.setVolume(this.controller.getPlayerVolume()), this.initializeAdDisplayContainer()
        } catch (e) {
            this.onAdError(e)
        }
    }, y_.prototype.createAdsRenderingSettings = function() {
        if (this.adsRenderingSettings = new google.ima.AdsRenderingSettings, this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete = !0, this.controller.getSettings().adsRenderingSettings)
            for (var e in this.controller.getSettings().adsRenderingSettings) "" !== e && (this.adsRenderingSettings[e] = this.controller.getSettings().adsRenderingSettings[e])
    }, y_.prototype.onAdError = function(e) {
        var t = void 0 !== e.getError ? e.getError() : e.stack;
        window.console.warn("Ad error: " + t), this.adsManager.destroy(), this.controller.onAdError(e), this.adsActive = !1, this.adPlaying = !1
    }, y_.prototype.onAdBreakReady = function(e) {
        this.adBreakReadyListener(e)
    }, y_.prototype.onContentPauseRequested = function(e) {
        this.adsActive = !0, this.adPlaying = !0, this.controller.onAdBreakStart(e)
    }, y_.prototype.onContentResumeRequested = function(e) {
        this.adsActive = !1, this.adPlaying = !1, this.controller.onAdBreakEnd()
    }, y_.prototype.onAllAdsCompleted = function(e) {
        this.allAdsCompleted = !0, this.controller.onAllAdsCompleted()
    }, y_.prototype.onAdLoaded = function(e) {
        e.getAd().isLinear() || (this.controller.onNonLinearAdLoad(), this.controller.playContent())
    }, y_.prototype.onAdStarted = function(e) {
        this.currentAd = e.getAd(), this.currentAd.isLinear() ? (this.adTrackingTimer = setInterval(this.onAdPlayheadTrackerInterval.bind(this), 250), this.controller.onLinearAdStart()) : this.controller.onNonLinearAdStart()
    }, y_.prototype.onAdPaused = function() {
        this.controller.onAdsPaused()
    }, y_.prototype.onAdResumed = function(e) {
        this.controller.onAdsResumed()
    }, y_.prototype.onAdComplete = function() {
        this.currentAd.isLinear() && clearInterval(this.adTrackingTimer)
    }, y_.prototype.onAdLog = function(e) {
        this.controller.onAdLog(e)
    }, y_.prototype.onAdPlayheadTrackerInterval = function() {
        if (null !== this.adsManager) {
            var e = this.adsManager.getRemainingTime(),
                t = this.currentAd.getDuration(),
                n = t - e;
            n = n > 0 ? n : 0;
            var r = 0,
                i = void 0;
            this.currentAd.getAdPodInfo() && (i = this.currentAd.getAdPodInfo().getAdPosition(), r = this.currentAd.getAdPodInfo().getTotalAds()), this.controller.onAdPlayheadUpdated(n, e, t, i, r)
        }
    }, y_.prototype.onContentComplete = function() {
        this.adsLoader && (this.adsLoader.contentComplete(), this.contentCompleteCalled = !0), (this.adsManager && this.adsManager.getCuePoints() && !this.adsManager.getCuePoints().includes(-1) || !this.adsManager) && this.controller.onNoPostroll(), this.allAdsCompleted && this.controller.onContentAndAdsCompleted()
    }, y_.prototype.onPlayerDisposed = function() {
        this.adTrackingTimer && clearInterval(this.adTrackingTimer), this.adsManager && (this.adsManager.destroy(), this.adsManager = null)
    }, y_.prototype.onPlayerReadyForPreroll = function() {
        if (this.autoPlayAdBreaks) {
            this.initAdsManager();
            try {
                this.controller.showAdContainer(), this.adsManager.setVolume(this.controller.getPlayerVolume()), this.adsManager.start()
            } catch (e) {
                this.onAdError(e)
            }
        }
    }, y_.prototype.onAdTimeout = function() {
        this.isAdTimedOut = !0
    }, y_.prototype.onPlayerReady = function() {
        this.initAdObjects(), (this.controller.getSettings().adTagUrl || this.controller.getSettings().adsResponse) && "onLoad" === this.controller.getSettings().requestMode && this.requestAds()
    }, y_.prototype.onPlayerEnterFullscreen = function() {
        this.adsManager && this.adsManager.resize(window.screen.width, window.screen.height, google.ima.ViewMode.FULLSCREEN)
    }, y_.prototype.onPlayerExitFullscreen = function() {
        this.adsManager && this.adsManager.resize(this.controller.getPlayerWidth(), this.controller.getPlayerHeight(), google.ima.ViewMode.NORMAL)
    }, y_.prototype.onPlayerVolumeChanged = function(e) {
        this.adsManager && this.adsManager.setVolume(e), this.adMuted = 0 == e
    }, y_.prototype.onPlayerResize = function(e, t) {
        this.adsManager && (this.adsManagerDimensions.width = e, this.adsManagerDimensions.height = t, this.adsManager.resize(e, t, google.ima.ViewMode.NORMAL))
    }, y_.prototype.getCurrentAd = function() {
        return this.currentAd
    }, y_.prototype.setAdBreakReadyListener = function(e) {
        this.adBreakReadyListener = e
    }, y_.prototype.isAdPlaying = function() {
        return this.adPlaying
    }, y_.prototype.isAdMuted = function() {
        return this.adMuted
    }, y_.prototype.pauseAds = function() {
        this.adsManager.pause(), this.adPlaying = !1
    }, y_.prototype.resumeAds = function() {
        this.adsManager.resume(), this.adPlaying = !0
    }, y_.prototype.unmute = function() {
        this.adsManager.setVolume(1), this.adMuted = !1
    }, y_.prototype.mute = function() {
        this.adsManager.setVolume(0), this.adMuted = !0
    }, y_.prototype.setVolume = function(e) {
        this.adsManager.setVolume(e), this.adMuted = 0 == e
    }, y_.prototype.initializeAdDisplayContainer = function() {
        this.adDisplayContainer && (this.adDisplayContainerInitialized || (this.adDisplayContainer.initialize(), this.adDisplayContainerInitialized = !0))
    }, y_.prototype.playAdBreak = function() {
        this.autoPlayAdBreaks || (this.controller.showAdContainer(), this.adsManager.setVolume(this.controller.getPlayerVolume()), this.adsManager.start())
    }, y_.prototype.addEventListener = function(e, t) {
        this.adsManager && this.adsManager.addEventListener(e, t)
    }, y_.prototype.getAdsManager = function() {
        return this.adsManager
    }, y_.prototype.reset = function() {
        this.adsActive = !1, this.adPlaying = !1, this.adTrackingTimer && clearInterval(this.adTrackingTimer), this.adsManager && (this.adsManager.destroy(), this.adsManager = null), this.adsLoader && !this.contentCompleteCalled && this.adsLoader.contentComplete(), this.contentCompleteCalled = !1, this.allAdsCompleted = !1
    };
    var v_ = function(e, t) {
        this.settings = {}, this.contentAndAdsEndedListeners = [], this.isMobile = navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/Android/i), this.isIos = navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i), this.initWithSettings(t);
        var n = {
                debug: this.settings.debug,
                timeout: this.settings.timeout,
                prerollTimeout: this.settings.prerollTimeout
            },
            r = this.extend({}, n, t.contribAdsSettings || {});
        this.playerWrapper = new p_(e, r, this), this.adUi = new f_(this), this.sdkImpl = new y_(this)
    };
    v_.IMA_DEFAULTS = {
        adLabel: "Advertisement",
        adLabelNofN: "of",
        debug: !1,
        disableAdControls: !1,
        prerollTimeout: 1e3,
        preventLateAdStart: !1,
        requestMode: "onLoad",
        showControlsForJSAds: !0,
        timeout: 5e3
    }, v_.prototype.initWithSettings = function(e) {
        this.settings = this.extend({}, v_.IMA_DEFAULTS, e || {}), this.warnAboutDeprecatedSettings(), this.showCountdown = !0, !1 === this.settings.showCountdown && (this.showCountdown = !1)
    }, v_.prototype.warnAboutDeprecatedSettings = function() {
        var e = this;
        ["adWillAutoplay", "adsWillAutoplay", "adWillPlayMuted", "adsWillPlayMuted"].forEach((function(t) {
            void 0 !== e.settings[t] && console.warn("WARNING: videojs.ima setting " + t + " is deprecated")
        }))
    }, v_.prototype.getSettings = function() {
        return this.settings
    }, v_.prototype.getIsMobile = function() {
        return this.isMobile
    }, v_.prototype.getIsIos = function() {
        return this.isIos
    }, v_.prototype.injectAdContainerDiv = function(e) {
        this.playerWrapper.injectAdContainerDiv(e)
    }, v_.prototype.getAdContainerDiv = function() {
        return this.adUi.getAdContainerDiv()
    }, v_.prototype.getContentPlayer = function() {
        return this.playerWrapper.getContentPlayer()
    }, v_.prototype.getContentPlayheadTracker = function() {
        return this.playerWrapper.getContentPlayheadTracker()
    }, v_.prototype.requestAds = function() {
        this.sdkImpl.requestAds()
    }, v_.prototype.setSetting = function(e, t) {
        this.settings[e] = t
    }, v_.prototype.onErrorLoadingAds = function(e) {
        this.adUi.onAdError(), this.playerWrapper.onAdError(e)
    }, v_.prototype.onAdPlayPauseClick = function() {
        this.sdkImpl.isAdPlaying() ? (this.adUi.onAdsPaused(), this.sdkImpl.pauseAds()) : (this.adUi.onAdsPlaying(), this.sdkImpl.resumeAds())
    }, v_.prototype.onAdMuteClick = function() {
        this.sdkImpl.isAdMuted() ? (this.playerWrapper.unmute(), this.adUi.unmute(), this.sdkImpl.unmute()) : (this.playerWrapper.mute(), this.adUi.mute(), this.sdkImpl.mute())
    }, v_.prototype.setVolume = function(e) {
        this.playerWrapper.setVolume(e), this.sdkImpl.setVolume(e)
    }, v_.prototype.getPlayerVolume = function() {
        return this.playerWrapper.getVolume()
    }, v_.prototype.toggleFullscreen = function() {
        this.playerWrapper.toggleFullscreen()
    }, v_.prototype.onAdError = function(e) {
        this.adUi.onAdError(), this.playerWrapper.onAdError(e)
    }, v_.prototype.onAdBreakStart = function(e) {
        this.playerWrapper.onAdBreakStart(), this.adUi.onAdBreakStart(e)
    }, v_.prototype.showAdContainer = function() {
        this.adUi.showAdContainer()
    }, v_.prototype.onAdBreakEnd = function() {
        this.playerWrapper.onAdBreakEnd(), this.adUi.onAdBreakEnd()
    }, v_.prototype.onAllAdsCompleted = function() {
        this.adUi.onAllAdsCompleted(), this.playerWrapper.onAllAdsCompleted()
    }, v_.prototype.onAdsPaused = function() {
        this.adUi.onAdsPaused()
    }, v_.prototype.onAdsResumed = function() {
        this.adUi.onAdsResumed()
    }, v_.prototype.onAdPlayheadUpdated = function(e, t, n, r, i) {
        this.adUi.updateAdUi(e, t, n, r, i)
    }, v_.prototype.onAdLog = function(e) {
        this.playerWrapper.onAdLog(e)
    }, v_.prototype.getCurrentAd = function() {
        return this.sdkImpl.getCurrentAd()
    }, v_.prototype.playContent = function() {
        this.playerWrapper.play()
    }, v_.prototype.onLinearAdStart = function() {
        this.adUi.onLinearAdStart(), this.playerWrapper.onAdStart()
    }, v_.prototype.onNonLinearAdLoad = function() {
        this.adUi.onNonLinearAdLoad()
    }, v_.prototype.onNonLinearAdStart = function() {
        this.adUi.onNonLinearAdLoad(), this.playerWrapper.onAdStart()
    }, v_.prototype.getPlayerWidth = function() {
        return this.playerWrapper.getPlayerWidth()
    }, v_.prototype.getPlayerHeight = function() {
        return this.playerWrapper.getPlayerHeight()
    }, v_.prototype.onAdsReady = function() {
        this.playerWrapper.onAdsReady()
    }, v_.prototype.onPlayerResize = function(e, t) {
        this.sdkImpl.onPlayerResize(e, t)
    }, v_.prototype.onContentComplete = function() {
        this.sdkImpl.onContentComplete()
    }, v_.prototype.onNoPostroll = function() {
        this.playerWrapper.onNoPostroll()
    }, v_.prototype.onContentAndAdsCompleted = function() {
        for (var e in this.contentAndAdsEndedListeners) "function" == typeof this.contentAndAdsEndedListeners[e] && this.contentAndAdsEndedListeners[e]()
    }, v_.prototype.onPlayerDisposed = function() {
        this.contentAndAdsEndedListeners = [], this.sdkImpl.onPlayerDisposed()
    }, v_.prototype.onPlayerReadyForPreroll = function() {
        this.sdkImpl.onPlayerReadyForPreroll()
    }, v_.prototype.onAdTimeout = function() {
        this.sdkImpl.onAdTimeout()
    }, v_.prototype.onPlayerReady = function() {
        this.sdkImpl.onPlayerReady()
    }, v_.prototype.onPlayerEnterFullscreen = function() {
        this.adUi.onPlayerEnterFullscreen(), this.sdkImpl.onPlayerEnterFullscreen()
    }, v_.prototype.onPlayerExitFullscreen = function() {
        this.adUi.onPlayerExitFullscreen(), this.sdkImpl.onPlayerExitFullscreen()
    }, v_.prototype.onPlayerVolumeChanged = function(e) {
        this.adUi.onPlayerVolumeChanged(e), this.sdkImpl.onPlayerVolumeChanged(e)
    }, v_.prototype.setContentWithAdTag = function(e, t) {
        this.reset(), this.settings.adTagUrl = t || this.settings.adTagUrl, this.playerWrapper.changeSource(e)
    }, v_.prototype.setContentWithAdsResponse = function(e, t) {
        this.reset(), this.settings.adsResponse = t || this.settings.adsResponse, this.playerWrapper.changeSource(e)
    }, v_.prototype.setContentWithAdsRequest = function(e, t) {
        this.reset(), this.settings.adsRequest = t || this.settings.adsRequest, this.playerWrapper.changeSource(e)
    }, v_.prototype.reset = function() {
        this.sdkImpl.reset(), this.playerWrapper.reset(), this.adUi.reset()
    }, v_.prototype.addContentEndedListener = function(e) {
        this.playerWrapper.addContentEndedListener(e)
    }, v_.prototype.addContentAndAdsEndedListener = function(e) {
        this.contentAndAdsEndedListeners.push(e)
    }, v_.prototype.setAdBreakReadyListener = function(e) {
        this.sdkImpl.setAdBreakReadyListener(e)
    }, v_.prototype.setShowCountdown = function(e) {
        this.adUi.setShowCountdown(e), this.showCountdown = e, this.adUi.countdownDiv.style.display = this.showCountdown ? "block" : "none"
    }, v_.prototype.initializeAdDisplayContainer = function() {
        this.sdkImpl.initializeAdDisplayContainer()
    }, v_.prototype.playAdBreak = function() {
        this.sdkImpl.playAdBreak()
    }, v_.prototype.addEventListener = function(e, t) {
        this.sdkImpl.addEventListener(e, t)
    }, v_.prototype.getAdsManager = function() {
        return this.sdkImpl.getAdsManager()
    }, v_.prototype.getPlayerId = function() {
        return this.playerWrapper.getPlayerId()
    }, v_.prototype.changeAdTag = function(e) {
        this.reset(), this.settings.adTagUrl = e
    }, v_.prototype.pauseAd = function() {
        this.adUi.onAdsPaused(), this.sdkImpl.pauseAds()
    }, v_.prototype.resumeAd = function() {
        this.adUi.onAdsPlaying(), this.sdkImpl.resumeAds()
    }, v_.prototype.togglePlayback = function() {
        this.playerWrapper.togglePlayback()
    }, v_.prototype.adsWillAutoplay = function() {
        return void 0 !== this.settings.adsWillAutoplay ? this.settings.adsWillAutoplay : void 0 !== this.settings.adWillAutoplay ? this.settings.adWillAutoplay : !!this.playerWrapper.getPlayerOptions().autoplay
    }, v_.prototype.adsWillPlayMuted = function() {
        return void 0 !== this.settings.adsWillPlayMuted ? this.settings.adsWillPlayMuted : void 0 !== this.settings.adWillPlayMuted ? this.settings.adWillPlayMuted : void 0 !== this.playerWrapper.getPlayerOptions().muted ? this.playerWrapper.getPlayerOptions().muted : 0 == this.playerWrapper.getVolume()
    }, v_.prototype.triggerPlayerEvent = function(e, t) {
        this.playerWrapper.triggerPlayerEvent(e, t)
    }, v_.prototype.extend = function(e) {
        for (var t = void 0, n = void 0, r = void 0, i = arguments.length, a = Array(i > 1 ? i - 1 : 0), o = 1; o < i; o++) a[o - 1] = arguments[o];
        for (n = 0; n < a.length; n++)
            for (r in t = a[n]) t.hasOwnProperty(r) && (e[r] = t[r]);
        return e
    };
    var b_ = function(e, t) {
        this.controller = new v_(e, t), this.addContentAndAdsEndedListener = function(e) {
            this.controller.addContentAndAdsEndedListener(e)
        }.bind(this), this.addContentEndedListener = function(e) {
            this.controller.addContentEndedListener(e)
        }.bind(this), this.addEventListener = function(e, t) {
            this.controller.addEventListener(e, t)
        }.bind(this), this.changeAdTag = function(e) {
            this.controller.changeAdTag(e)
        }.bind(this), this.getAdsManager = function() {
            return this.controller.getAdsManager()
        }.bind(this), this.initializeAdDisplayContainer = function() {
            this.controller.initializeAdDisplayContainer()
        }.bind(this), this.pauseAd = function() {
            this.controller.pauseAd()
        }.bind(this), this.playAdBreak = function() {
            this.controller.playAdBreak()
        }.bind(this), this.requestAds = function() {
            this.controller.requestAds()
        }.bind(this), this.resumeAd = function() {
            this.controller.resumeAd()
        }.bind(this), this.setAdBreakReadyListener = function(e) {
            this.controller.setAdBreakReadyListener(e)
        }.bind(this), this.setContentWithAdTag = function(e, t) {
            this.controller.setContentWithAdTag(e, t)
        }.bind(this), this.setContentWithAdsResponse = function(e, t) {
            this.controller.setContentWithAdsResponse(e, t)
        }.bind(this), this.setContentWithAdsRequest = function(e, t) {
            this.controller.setContentWithAdsRequest(e, t)
        }.bind(this), this.setShowCountdown = function(e) {
            this.controller.setShowCountdown(e)
        }.bind(this)
    };
    (vy.registerPlugin || vy.plugin)("ima", (function(e) {
        this.ima = new b_(this, e)
    }));
    var T_ = h("hb-instream-manager"),
        __ = f.HB_AD_SIZES,
        S_ = null,
        w_ = "",
        A_ = null,
        E_ = null,
        C_ = null;

    function P_() {
        return (P_ = n(o.mark((function e() {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return k_(), e.next = 3, b(d.HB_SCRIPT_URL, 5e3);
                    case 3:
                        return e.next = 5, b(d.IMA_src, 5e3);
                    case 5:
                        return e.next = 7, b(d.GPT_src, 5e3);
                    case 7:
                        if (Bo(d.VIDEOJS_CSS_URL), Bo(d.VIDEOJS_IMA_CSS_URL), m.googletag) {
                            e.next = 11;
                            break
                        }
                        throw new Error("Could not find googletag object after loading gpt");
                    case 11:
                        S_ = m.googletag, L_();
                    case 13:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function k_() {
        if (window.__tcfapi) {
            T_.info("window.pbjs: ", window.pbjs);
            var e = window.pbjs || {};
            e.que = e.que || [], T_.info("Pushing prebid consent config"), e.que.push((function() {
                e.setConfig({
                    consentManagement: {
                        gdpr: {
                            cmpApi: "iab",
                            timeout: 8e3,
                            defaultGdprScope: !0
                        }
                    }
                })
            }))
        } else T_.warn("Tried to set prebid consent config but __tcfapi doesnt exist.")
    }

    function x_() {
        return (x_ = n(o.mark((function e(t) {
            var n, r, i;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        M_(se(), t), n = H(), r = n.publisherId, i = q(r), S_.cmd = S_.cmd || [], S_.cmd.push((function() {
                            S_.defineSlot(i, __, w_).addService(S_.pubads()), S_.pubads().disableInitialLoad(), S_.pubads().enableSingleRequest(), S_.enableServices()
                        }));
                    case 7:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function I_() {
        var e = document.getElementById(w_);
        e && (T_.info("Removing video elements"), A_.removeChild(e.parentNode))
    }

    function M_(e, t) {
        var n = document.getElementById("pr-backdrop-container");
        (A_ = document.createElement("div")).setAttribute("id", t), n.appendChild(A_);
        var r = {
                position: "absolute",
                top: 0,
                left: 0,
                width: e.w + "px",
                height: e.h + "px"
            },
            i = {
                width: e.w + "px",
                height: e.h + "px"
            },
            a = document.createElement("video");
        Object.entries(i).map((function(e) {
            var t = y(e, 2),
                n = t[0],
                r = t[1];
            a.style[n] = r
        })), w_ = t + "-video-node", a.setAttribute("id", w_), a.classList.add("video-js"), a.classList.add("vjs-default-skin"), a.classList.add("vjs-big-play-centered");
        var o = document.createElement("source");
        o.setAttribute("src", "http://vjs.zencdn.net/v/oceans.mp4"), a.appendChild(o);
        var s = document.createElement("div");
        Object.entries(r).map((function(e) {
            var t = y(e, 2),
                n = t[0],
                r = t[1];
            s.style[n] = r
        })), s.appendChild(a), A_.appendChild(s), document.getElementById("branding-link").style.zIndex = "1999999974"
    }

    function L_() {
        window.invokeVideoPlayer = function(e) {
            try {
                if (T_.info("invokeVideoPlayer called with url:", e), !w_) return void console.error("No video node created");
                var t = function(e) {
                    var t = y(e.split("&cust_params="), 2);
                    t[0];
                    var n = t[1],
                        r = void 0 === n ? "" : n,
                        i = r.indexOf("&"),
                        a = -1 === i ? r.length : i,
                        o = r.substr(0, a),
                        s = e.replace("&cust_params=".concat(o), ""),
                        u = decodeURIComponent(o),
                        l = Y(Q()),
                        c = u ? "".concat(u, "&").concat(l) : "".concat(l),
                        d = encodeURIComponent(c);
                    return T_.info("Custom params for ad request ", d), "".concat(s, "&cust_params=").concat(d)
                }("".concat(e, "&description_url=").concat(K())).replace("vpa=click", "vpa=auto");
                T_.info("starting video with url:", t);
                var n = vy(w_, {
                    controls: !0,
                    autoplay: !0
                });
                n.ima({
                        id: w_,
                        adTagUrl: t
                    }),
                    function(e) {
                        e.on("ads-ad-started", (function() {
                            D_("ads-ad-started")
                        })), e.on("playing", (function() {
                            E_("playing")
                        })), e.on("error", (function(e) {
                            D_("error"), C_(new Error("Error playing video: ".concat(e.error.message)), "error")
                        }))
                    }(n), n.muted(!0), n.play()
            } catch (e) {
                C_(new Error("Error in invokeVideoPlayer(): ".concat(e.message)))
            }
        }, T_.info("invokeVideoPlayer added to window")
    }

    function D_(e) {
        T_.info("Received event: ".concat(e))
    }
    var O_ = {
            initInstream: function() {
                return P_.apply(this, arguments)
            },
            loadInstreamAd: function(e) {
                return x_.apply(this, arguments)
            },
            playInstreamAd: function() {
                return new Promise((function(e, t) {
                    var n = !1;
                    E_ = function(t) {
                        T_.info("Resolving from event: ".concat(t)), n ? T_.notice("Already resolved or rejected the ad play.") : (I_(), n = !0, e())
                    }, C_ = function(e, r) {
                        T_.info("Rejecting from event: ".concat(r)), n ? T_.notice("Already resolved or rejected the ad play.") : (I_(), n = !0, t(e))
                    }
                }))
            }
        },
        R_ = "pr-spinner",
        N_ = h("Spinner");

    function B_() {
        var e = document.getElementById(R_);
        e ? e.classList.add("hidden-el") : N_.warn("No spinner found to hide!")
    }
    var U_ = "__lodash_hash_undefined__",
        F_ = "[object Function]",
        j_ = "[object GeneratorFunction]",
        H_ = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        G_ = /^\w*$/,
        V_ = /^\./,
        W_ = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        q_ = /\\(\\)?/g,
        z_ = /^\[object .+?Constructor\]$/,
        X_ = "object" == typeof r && r && r.Object === Object && r,
        K_ = "object" == typeof self && self && self.Object === Object && self,
        Y_ = X_ || K_ || Function("return this")();
    var Q_, $_ = Array.prototype,
        J_ = Function.prototype,
        Z_ = Object.prototype,
        eS = Y_["__core-js_shared__"],
        tS = (Q_ = /[^.]+$/.exec(eS && eS.keys && eS.keys.IE_PROTO || "")) ? "Symbol(src)_1." + Q_ : "",
        nS = J_.toString,
        rS = Z_.hasOwnProperty,
        iS = Z_.toString,
        aS = RegExp("^" + nS.call(rS).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
        oS = Y_.Symbol,
        sS = $_.splice,
        uS = bS(Y_, "Map"),
        lS = bS(Object, "create"),
        cS = oS ? oS.prototype : void 0,
        dS = cS ? cS.toString : void 0;

    function hS(e) {
        var t = -1,
            n = e ? e.length : 0;
        for (this.clear(); ++t < n;) {
            var r = e[t];
            this.set(r[0], r[1])
        }
    }

    function pS(e) {
        var t = -1,
            n = e ? e.length : 0;
        for (this.clear(); ++t < n;) {
            var r = e[t];
            this.set(r[0], r[1])
        }
    }

    function fS(e) {
        var t = -1,
            n = e ? e.length : 0;
        for (this.clear(); ++t < n;) {
            var r = e[t];
            this.set(r[0], r[1])
        }
    }

    function mS(e, t) {
        for (var n, r, i = e.length; i--;)
            if ((n = e[i][0]) === (r = t) || n != n && r != r) return i;
        return -1
    }

    function gS(e, t) {
        for (var n, r = 0, i = (t = function(e, t) {
                if (wS(e)) return !1;
                var n = typeof e;
                if ("number" == n || "symbol" == n || "boolean" == n || null == e || ES(e)) return !0;
                return G_.test(e) || !H_.test(e) || null != t && e in Object(t)
            }(t, e) ? [t] : wS(n = t) ? n : TS(n)).length; null != e && r < i;) e = e[_S(t[r++])];
        return r && r == i ? e : void 0
    }

    function yS(e) {
        return !(!AS(e) || (t = e, tS && tS in t)) && (function(e) {
            var t = AS(e) ? iS.call(e) : "";
            return t == F_ || t == j_
        }(e) || function(e) {
            var t = !1;
            if (null != e && "function" != typeof e.toString) try {
                t = !!(e + "")
            } catch (e) {}
            return t
        }(e) ? aS : z_).test(function(e) {
            if (null != e) {
                try {
                    return nS.call(e)
                } catch (e) {}
                try {
                    return e + ""
                } catch (e) {}
            }
            return ""
        }(e));
        var t
    }

    function vS(e, t) {
        var n, r, i = e.__data__;
        return ("string" == (r = typeof(n = t)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? i["string" == typeof t ? "string" : "hash"] : i.map
    }

    function bS(e, t) {
        var n = function(e, t) {
            return null == e ? void 0 : e[t]
        }(e, t);
        return yS(n) ? n : void 0
    }
    hS.prototype.clear = function() {
        this.__data__ = lS ? lS(null) : {}
    }, hS.prototype.delete = function(e) {
        return this.has(e) && delete this.__data__[e]
    }, hS.prototype.get = function(e) {
        var t = this.__data__;
        if (lS) {
            var n = t[e];
            return n === U_ ? void 0 : n
        }
        return rS.call(t, e) ? t[e] : void 0
    }, hS.prototype.has = function(e) {
        var t = this.__data__;
        return lS ? void 0 !== t[e] : rS.call(t, e)
    }, hS.prototype.set = function(e, t) {
        return this.__data__[e] = lS && void 0 === t ? U_ : t, this
    }, pS.prototype.clear = function() {
        this.__data__ = []
    }, pS.prototype.delete = function(e) {
        var t = this.__data__,
            n = mS(t, e);
        return !(n < 0) && (n == t.length - 1 ? t.pop() : sS.call(t, n, 1), !0)
    }, pS.prototype.get = function(e) {
        var t = this.__data__,
            n = mS(t, e);
        return n < 0 ? void 0 : t[n][1]
    }, pS.prototype.has = function(e) {
        return mS(this.__data__, e) > -1
    }, pS.prototype.set = function(e, t) {
        var n = this.__data__,
            r = mS(n, e);
        return r < 0 ? n.push([e, t]) : n[r][1] = t, this
    }, fS.prototype.clear = function() {
        this.__data__ = {
            hash: new hS,
            map: new(uS || pS),
            string: new hS
        }
    }, fS.prototype.delete = function(e) {
        return vS(this, e).delete(e)
    }, fS.prototype.get = function(e) {
        return vS(this, e).get(e)
    }, fS.prototype.has = function(e) {
        return vS(this, e).has(e)
    }, fS.prototype.set = function(e, t) {
        return vS(this, e).set(e, t), this
    };
    var TS = SS((function(e) {
        var t;
        e = null == (t = e) ? "" : function(e) {
            if ("string" == typeof e) return e;
            if (ES(e)) return dS ? dS.call(e) : "";
            var t = e + "";
            return "0" == t && 1 / e == -1 / 0 ? "-0" : t
        }(t);
        var n = [];
        return V_.test(e) && n.push(""), e.replace(W_, (function(e, t, r, i) {
            n.push(r ? i.replace(q_, "$1") : t || e)
        })), n
    }));

    function _S(e) {
        if ("string" == typeof e || ES(e)) return e;
        var t = e + "";
        return "0" == t && 1 / e == -1 / 0 ? "-0" : t
    }

    function SS(e, t) {
        if ("function" != typeof e || t && "function" != typeof t) throw new TypeError("Expected a function");
        var n = function() {
            var r = arguments,
                i = t ? t.apply(this, r) : r[0],
                a = n.cache;
            if (a.has(i)) return a.get(i);
            var o = e.apply(this, r);
            return n.cache = a.set(i, o), o
        };
        return n.cache = new(SS.Cache || fS), n
    }
    SS.Cache = fS;
    var wS = Array.isArray;

    function AS(e) {
        var t = typeof e;
        return !!e && ("object" == t || "function" == t)
    }

    function ES(e) {
        return "symbol" == typeof e || function(e) {
            return !!e && "object" == typeof e
        }(e) && "[object Symbol]" == iS.call(e)
    }
    var CS = function(e, t, n) {
            var r = null == e ? void 0 : gS(e, t);
            return void 0 === r ? n : r
        },
        PS = {
            en: {
                playButton: "Play Game"
            },
            de: {
                playButton: "Spielen"
            },
            es: {
                playButton: "Jugar"
            },
            fr: {
                playButton: "Jouer"
            },
            it: {
                playButton: "Gioca"
            },
            pt: {
                playButton: "Jogar"
            },
            ru: {
                playButton: ""
            },
            tr: {
                playButton: "Oyun Oyna"
            },
            nl: {
                playButton: "Spel spelen"
            },
            pl: {
                playButton: "Rozgrywka"
            },
            ja: {
                playButton: ""
            }
        };

    function kS(e) {
        var t = PS[e = e || "en"] || PS.en;
        return function(e) {
            var n = CS(t, e);
            return n || CS(PS.en, e)
        }
    }
    var xS = m.document;

    function IS() {
        N();
        var e = xS.getElementById("pr-backdrop-container");
        e && e.classList.add("hidden-el");
        var t = xS.getElementById("branding-link");
        t && t.classList.add("hidden-el"), m.sgPrerollFlowDone = !0
    }
    var MS = "SoftgamesAds",
        LS = [MS],
        DS = d.EXTERNAL_ADS_MODULE,
        OS = !1,
        RS = null,
        NS = h("bildHandler");

    function BS(e) {
        return US.apply(this, arguments)
    }

    function US() {
        return (US = n(o.mark((function e(t) {
            var n;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (n = t.fromConsentClick, OS) {
                            e.next = 6;
                            break
                        }
                        return jS(), e.next = 5, HS();
                    case 5:
                        OS = !0;
                    case 6:
                        FS({
                            fromConsentClick: n
                        });
                    case 7:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function FS(e) {
        var t = e.fromConsentClick,
            n = {
                system: MS,
                action: "showAd",
                data: {
                    name: "preroll",
                    fromConsentClick: t
                },
                fromSameFrame: !0
            };
        m.postMessage(n, "*"), N()
    }

    function jS() {
        m.addEventListener("message", function() {
            var e = n(o.mark((function e(t) {
                var n, r, i, a, s, u, l;
                return o.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            if (e.prev = 0, n = t.data || {}, r = n.system, i = n.action, a = n.data, -1 === LS.indexOf(r) || "adPlaybackDone" !== i) {
                                e.next = 9;
                                break
                            }
                            if (s = t.data || {}, u = s.system, NS.info("Received a message from " + u + " action: ", i), !(l = a.error)) {
                                e.next = 8;
                                break
                            }
                            throw l;
                        case 8:
                            Z();
                        case 9:
                            e.next = 15;
                            break;
                        case 11:
                            e.prev = 11, e.t0 = e.catch(0), NS.error("Failed to handle message", e.t0), IS();
                        case 15:
                        case "end":
                            return e.stop()
                    }
                }), e, null, [
                    [0, 11]
                ])
            })));
            return function(t) {
                return e.apply(this, arguments)
            }
        }())
    }

    function HS() {
        return GS.apply(this, arguments)
    }

    function GS() {
        return (GS = n(o.mark((function e() {
            var t, n;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.next = 2, b(DS);
                    case 2:
                        return NS.info("Loaded External ads Module ", m["external-ads-module"]), t = A(), n = t.publisherName, NS.info("Publisher name found ", n), e.next = 7, b(d.jQuery);
                    case 7:
                        return e.next = 9, m["external-ads-module"].init({
                            jQuery: m.$,
                            environment: {
                                publisherName: n,
                                isMobile: j()
                            }
                        });
                    case 9:
                        return RS = e.sent, NS.info("External ads Module Initialised ", RS), e.next = 13, RS.start();
                    case 13:
                        NS.info("External ads Module Started.");
                    case 14:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }
    var VS = h("ads-handler"),
        WS = f.HB_INSTREAM_PUBLISHER_GAMES,
        qS = function() {
            return "No translate function initialized!"
        };

    function zS(e) {
        return XS.apply(this, arguments)
    }

    function XS() {
        return (XS = n(o.mark((function e(t) {
            var n, r, i, a, s;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (n = t.id, r = t.skipAds, i = t.publisherId, a = t.fromConsentClick, s = t.gameSlug, e.prev = 1, 1882 !== Number(i)) {
                            e.next = 7;
                            break
                        }
                        return e.next = 5, BS({
                            fromConsentClick: a
                        });
                    case 5:
                        e.next = 32;
                        break;
                    case 7:
                        if (!r) {
                            e.next = 15;
                            break
                        }
                        return VS.info("Skip preroll due to partner blacklist"), e.next = 11, re(i);
                    case 11:
                        N(), Z(), e.next = 32;
                        break;
                    case 15:
                        if (!KS({
                                publisherId: i,
                                gameSlug: s
                            })) {
                            e.next = 21;
                            break
                        }
                        return VS.info("running ad flow for hb instream video"), e.next = 19, YS(n);
                    case 19:
                        e.next = 32;
                        break;
                    case 21:
                        if (a) {
                            e.next = 27;
                            break
                        }
                        return VS.info("running ad flow with play button"), e.next = 25, ZS(n, i);
                    case 25:
                        e.next = 32;
                        break;
                    case 27:
                        return VS.info("running ad flow autoplay"), e.next = 30, re(i);
                    case 30:
                        return e.next = 32, $S(n, i);
                    case 32:
                        e.next = 41;
                        break;
                    case 34:
                        return e.prev = 34, e.t0 = e.catch(1), VS.error("Error showing preroll ad: ", e.t0), e.next = 39, re(i);
                    case 39:
                        N(), Z();
                    case 41:
                    case "end":
                        return e.stop()
                }
            }), e, null, [
                [1, 34]
            ])
        })))).apply(this, arguments)
    }

    function KS(e) {
        var t = e.publisherId,
            n = e.gameSlug;
        return WS[t] && (WS[t].includes(n) || WS[t].includes("ALL"))
    }

    function YS(e) {
        return QS.apply(this, arguments)
    }

    function QS() {
        return (QS = n(o.mark((function e(t) {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.next = 2, O_.initInstream();
                    case 2:
                        return e.next = 4, O_.loadInstreamAd(t);
                    case 4:
                        return e.next = 6, O_.playInstreamAd();
                    case 6:
                        N(), Z();
                    case 8:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function $S(e, t) {
        return JS.apply(this, arguments)
    }

    function JS() {
        return (JS = n(o.mark((function e(t, n) {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.next = 2, Ro.init(n);
                    case 2:
                        return e.next = 4, Ro.loadAd(t);
                    case 4:
                        return e.next = 6, Ro.showAd();
                    case 6:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function ZS(e, t) {
        return ew.apply(this, arguments)
    }

    function ew() {
        return (ew = n(o.mark((function e(t, r) {
            var i, a, s, u, l, c, d, h, p, f;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.prev = 0, e.next = 3, Ro.init(r);
                    case 3:
                        return e.next = 5, Ro.loadAd(t);
                    case 5:
                        i = H(), a = i.gameSlug, s = i.locale, qS = kS(s), (u = document.createElement("div")).setAttribute("id", "sg-play-button-container"), (l = document.createElement("div")).setAttribute("id", "sg-play-button-mid-container"), (c = document.createElement("div")).setAttribute("id", "sg-play-button"), c.append(qS("playButton")), (d = document.createElement("img")).setAttribute("id", "sg-button-controller"), d.setAttribute("src", "https://softgames-kirk-assets.sgweb.softgames.de/assets/Controller.png"), c.prepend(d), l.appendChild(c), u.appendChild(l), (h = document.createElement("img")).setAttribute("id", "sg-game-icon"), h.setAttribute("src", "https://softgames-kirk-assets.sgweb.softgames.de/assets/games/".concat(a, "/icon.jpg")), h.classList.add("already-consented"), (p = document.createElement("div")).setAttribute("id", "pr-fs-clickable-area"), p.addEventListener("click", n(o.mark((function e() {
                            return o.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, re(r);
                                    case 2:
                                        return e.next = 4, Ro.showAd();
                                    case 4:
                                        u.classList.add("hidden-el"), h.classList.add("hidden-el"), p.classList.add("hidden-el");
                                    case 7:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })))), B_(), (f = document.getElementById("pr-backdrop-container")).appendChild(h), f.appendChild(u), f.appendChild(p), e.next = 40;
                        break;
                    case 34:
                        return e.prev = 34, e.t0 = e.catch(0), VS.error("Error creating ad play button ", e.t0), e.next = 39, re(r);
                    case 39:
                        throw e.t0;
                    case 40:
                    case "end":
                        return e.stop()
                }
            }), e, null, [
                [0, 34]
            ])
        })))).apply(this, arguments)
    }
    var tw = h("backdrop-handler"),
        nw = m.document,
        rw = "Advertising allows us to keep providing you with awesome games for free. Turn off your ad-blocker and refresh the page to fully enjoy our games!",
        iw = "Adblocker Detected";

    function aw(e) {
        return ow.apply(this, arguments)
    }

    function ow() {
        return (ow = n(o.mark((function e(t) {
            var n, r, i, a, s, u, l, c;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        if (n = t.showCookiePopup, r = t.blockerActive, i = t.skipAds, e.prev = 1, a = A(), s = a.gameSlug, u = H(), l = u.publisherId, c = nw.getElementById("pr-backdrop-container"), !r) {
                            e.next = 11;
                            break
                        }
                        return e.next = 9, uw(c);
                    case 9:
                        e.next = 18;
                        break;
                    case 11:
                        if (!n) {
                            e.next = 16;
                            break
                        }
                        return e.next = 14, hw({
                            metaData: a,
                            skipAds: i,
                            publisherId: l
                        });
                    case 14:
                        e.next = 18;
                        break;
                    case 16:
                        return e.next = 18, cw({
                            skipAds: i,
                            publisherId: l,
                            gameSlug: s
                        });
                    case 18:
                        e.next = 25;
                        break;
                    case 20:
                        e.prev = 20, e.t0 = e.catch(1), tw.error("Error starting flow: ", e.t0), N(), Z(IS);
                    case 25:
                    case "end":
                        return e.stop()
                }
            }), e, null, [
                [1, 20]
            ])
        })))).apply(this, arguments)
    }

    function sw() {
        var e = A(),
            t = "https://softgames-kirk-assets.sgweb.softgames.de/assets/games/".concat(e.gameSlug, "/icon.jpg"),
            n = nw.createElement("div");
        n.setAttribute("id", "pr-backdrop-container");
        var r = nw.createElement("div");
        r.setAttribute("id", "pr-teaser-container"), r.style.backgroundImage = "url(" + t + ")";
        var i = nw.createElement("div");
        i.setAttribute("id", "pr-content-container"),
            function(e) {
                var t = document.createElement("img");
                t.setAttribute("id", R_), t.setAttribute("src", "https://softgames-kirk-assets.sgweb.softgames.de/assets/fancy-loader.svg"), e.appendChild(t)
            }(i);
        var a = nw.createElement("a");
        a.setAttribute("href", "https://www.softgames.de/privacy/"), a.setAttribute("target", "_blank"), a.setAttribute("id", "branding-link");
        var o = nw.createElement("img");
        o.setAttribute("src", "https://softgames-kirk-assets.sgweb.softgames.de/assets/SOFTGAMES_LOGO.jpeg"), o.className = "branding-image", a.appendChild(o), n.appendChild(r), n.appendChild(i), nw.body.appendChild(n), nw.body.appendChild(a)
    }

    function uw(e) {
        return lw.apply(this, arguments)
    }

    function lw() {
        return (lw = n(o.mark((function e(t) {
            var n, r, i;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        tw.info("Ad blocker detected!"), (n = nw.createElement("div")).setAttribute("id", "pr-blocked-container"), (r = nw.createElement("div")).setAttribute("id", "pr-blocked-title"), r.textContent = iw, (i = nw.createElement("div")).setAttribute("id", "pr-blocked-text"), i.textContent = rw, n.appendChild(r), n.appendChild(i), t.appendChild(n), B_();
                    case 13:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function cw(e) {
        return dw.apply(this, arguments)
    }

    function dw() {
        return (dw = n(o.mark((function e(t) {
            var n, r, i;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return n = t.skipAds, r = t.publisherId, i = t.gameSlug, e.next = 3, zS({
                            id: "pr-ad-container",
                            returningUser: !0,
                            skipAds: n,
                            publisherId: r,
                            gameSlug: i
                        });
                    case 3:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function hw(e) {
        var t = e.metaData,
            r = e.skipAds,
            i = e.publisherId;
        return new Promise(function() {
            var e = n(o.mark((function e(a, s) {
                var u, l, c;
                return o.wrap((function(e) {
                    for (;;) switch (e.prev = e.next) {
                        case 0:
                            return e.prev = 0, u = t.gameSlug, l = t.locale, c = t.publisherName, tw.info("Starting flow for new user"), e.next = 5, b(d.sgCookiePopup);
                        case 5:
                            return e.next = 7, b(d.jQuery);
                        case 7:
                            m.SGCookiePopup.showPopup({
                                resolve: function() {
                                    var e = n(o.mark((function e(t) {
                                        return o.wrap((function(e) {
                                            for (;;) switch (e.prev = e.next) {
                                                case 0:
                                                    return tw.info("yay, much consent!, user came from consent click: ", t), n = void 0, (n = document.getElementById(R_)) ? n.classList.remove("hidden-el") : N_.warn("No spinner found to show!"), e.next = 4, zS({
                                                        id: "pr-ad-container",
                                                        skipAds: r,
                                                        publisherId: i,
                                                        fromConsentClick: t,
                                                        gameSlug: u
                                                    });
                                                case 4:
                                                    a();
                                                case 5:
                                                case "end":
                                                    return e.stop()
                                            }
                                            var n
                                        }), e)
                                    })));
                                    return function(t) {
                                        return e.apply(this, arguments)
                                    }
                                }(),
                                jquery: m.$,
                                environments: ["P2"],
                                publisher: c,
                                disableFooter: !0,
                                game: u,
                                locale: l,
                                transparentDesign: !0,
                                logLevel: d.logLevel
                            }), e.next = 13;
                            break;
                        case 10:
                            e.prev = 10, e.t0 = e.catch(0), s(e.t0);
                        case 13:
                        case "end":
                            return e.stop()
                    }
                }), e, null, [
                    [0, 10]
                ])
            })));
            return function(t, n) {
                return e.apply(this, arguments)
            }
        }())
    }
    var pw = f.DEFAULT_SCRIPT_LOAD_TIMEOUT,
        fw = f.ADVERTISEMENT_JS_URL,
        mw = f.SHOW_ADS_JS_URL,
        gw = h("AdBlockDetector");

    function yw() {
        return new Promise((function(e, t) {
            try {
                new Promise((function(e, t) {
                    try {
                        m.navigator.onLine || e(!1);
                        var n = -1 !== String(m.location.protocol).indexOf("https") ? "https:" : "http:",
                            r = pw;
                        return Promise.all([vw("advertisement.js", n + fw, r), vw("showAds.js", n + mw, r)]).then((function() {
                            e(!1)
                        })).catch((function() {
                            e(!0)
                        }))
                    } catch (e) {
                        t(e)
                    }
                })).then((function(t) {
                    e(t)
                })).catch((function(e) {
                    t(e)
                }))
            } catch (e) {
                t(e)
            }
        }))
    }

    function vw(e, t, n) {
        return new Promise((function(r, i) {
            try {
                gw.debug("Loading ".concat(e, " ... "), t), b(t, n).then((function() {
                    gw.debug("... loaded ".concat(e)), r()
                })).catch((function(t) {
                    gw.warn("... failed to load ".concat(e, " probably due to ad blocker")), i(t)
                }))
            } catch (e) {
                i(e)
            }
        }))
    }
    var bw = h("country-api"),
        Tw = d.countryAPI,
        _w = null;

    function Sw() {
        return ww.apply(this, arguments)
    }

    function ww() {
        return (ww = n(o.mark((function e() {
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.abrupt("return", new Promise((function(e, t) {
                            if (_w) e(_w);
                            else {
                                var n = A().countryCode;
                                if (n && "undefined" !== n) return _w = n.toUpperCase(), void e(_w);
                                var r = new XMLHttpRequest;
                                r.onreadystatechange = function() {
                                    if (4 === r.readyState && 200 === r.status) {
                                        var t = r.response;
                                        if ("string" == typeof t && (t = JSON.parse(t)), !t.countryCode) return void e("");
                                        _w = t.countryCode.toUpperCase(), e(_w)
                                    } else 4 === r.readyState && (bw.info("Error getting country!"), e(""))
                                }, r.open("GET", Tw, !0), r.timeout = 1e3, r.setRequestHeader("Access-Control-Allow-Origin", Tw), r.send()
                            }
                        })));
                    case 1:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }
    e('@charset "UTF-8";\n#yahoo-splash-container {\n  z-index: 2147483648;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  background-color: #fff;\n  transition: opacity 1000ms ease-in-out;\n}\n\n#yahoo-splash {\n  position: relative;\n  display: block;\n  width: 100%;\n  max-width: 900px;\n  margin: 0 auto;\n}\n\n#yahoo-splash-container.splash-me {\n  opacity: 1;\n}\n\n#splash-screen-softgames-logo {\n  width: 70%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n}\n\n#splash-screen-yahoo-logo {\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  width: 35%;\n}\n\n#splash-text {\n  position: absolute;\n  bottom: 1rem;\n  color: #333333;\n  text-align: center;\n  padding: 0 20px;\n  width: calc(100% - 40px);\n  font-size: 10pt;\n  font-family: "Noto Sans JP", " Medium", "", "Yu Gothic Medium", YuGothic, " ProN", "Hiragino Kaku Gothic ProN", "", Meiryo, " ", "MS PGothic", sans-serif;\n}\n\n@media (orientation: landscape) {\n  br {\n    display: none;\n  }\n\n  #splash-screen-yahoo-logo {\n    width: 20%;\n  }\n\n  #splash-screen-softgames-logo {\n    width: 45%;\n  }\n}\n@media screen and (max-width: 410px) {\n  #splash-text {\n    font-size: 8pt;\n  }\n}\n@media screen and (max-width: 335px) {\n  #splash-text {\n    font-size: 6pt;\n  }\n}\n@media screen and (max-width: 265px) {\n  #splash-text {\n    font-size: 4pt;\n  }\n}\n@media (orientation: landscape) and (max-width: 680px) {\n  #splash-text {\n    font-size: 8pt;\n  }\n}\n@media (orientation: landscape) and (max-width: 565px) {\n  #splash-text {\n    font-size: 6pt;\n  }\n}\n@media (orientation: landscape) and (max-width: 425px) {\n  #splash-text {\n    font-size: 4pt;\n  }\n}');

    function Aw() {
        return Ew.apply(this, arguments)
    }

    function Ew() {
        return (Ew = n(o.mark((function e() {
            var t;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return D(document.body, '\n  <div id="yahoo-splash-container" class="splash-me">\n    <img src="https://softgames-kirk-assets.sgweb.softgames.de/assets/YahooLogo.png" id="splash-screen-yahoo-logo">\n    <img src="https://softgames-kirk-assets.sgweb.softgames.de/assets/SOFTGAMES_LOGO.jpeg" id="splash-screen-softgames-logo">\n    <div id="splash-text"> SOFTGAMES <br />Yahoo! JAPANYahoo! </div>\n  </div>\n'), e.next = 3, L(1500);
                    case 3:
                        (t = document.getElementById("yahoo-splash-container")).parentNode.removeChild(t);
                    case 5:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }

    function Cw(e) {
        return Pw.apply(this, arguments)
    }

    function Pw() {
        return (Pw = n(o.mark((function e(t) {
            var n;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        n = t.type, e.t0 = n, e.next = e.t0 === f.SPLASH_SCREEN_TYPES.YAHOO ? 4 : 7;
                        break;
                    case 4:
                        return e.next = 6, Aw();
                    case 6:
                        return e.abrupt("break", 8);
                    case 7:
                        return e.abrupt("return");
                    case 8:
                    case "end":
                        return e.stop()
                }
            }), e)
        })))).apply(this, arguments)
    }
    var kw = h("index");

    function xw(e) {
        return f.DISABLE_AD_FOR_WLP_PARTNER.indexOf(e) >= 0 && "true" === function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : m.location.href;
            e = e.replace(/[\[\]]/g, "\\$&");
            var n = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)").exec(t);
            return n ? n[2] ? decodeURIComponent(n[2].replace(/\+/g, " ")) : "" : null
        }("wlp")
    }! function() {
        var e = n(o.mark((function e() {
            var t, n, r, i, a, s, u;
            return o.wrap((function(e) {
                for (;;) switch (e.prev = e.next) {
                    case 0:
                        return e.prev = 0, kw.info("Starting ...."), e.next = 4, new Promise((function(e, t) {
                            if (nw.body) return tw.info("Body ready!"), void e();
                            var n = null,
                                r = setTimeout((function() {
                                    clearInterval(n), t(new Error("timed out while waiting for the body to be available"))
                                }), 5e3);
                            n = setInterval((function() {
                                nw.body && (tw.info("Body ready!"), clearInterval(n), clearTimeout(r), e())
                            }), 100)
                        }));
                    case 4:
                        return sw(), m.sgprflow = !0, e.next = 8, yw();
                    case 8:
                        return t = e.sent, e.next = 11, Sw();
                    case 11:
                        if (n = e.sent, r = H(), i = r.publisherId, a = r.gameSlug, kw.info("Country detected: ", n), s = f.DISABLE_AD_FOR_PARTNERS.indexOf(i) >= 0 || xw(i), !(u = f.SPLASH_SCREEN_PARTNERS[Number(i)])) {
                            e.next = 19;
                            break
                        }
                        return e.next = 19, Cw({
                            type: u
                        });
                    case 19:
                        return e.next = 21, Ga.init({
                            game_slug: a,
                            publisher_id: i,
                            skip_ads: s,
                            blocker_active: t
                        }).catch((function(e) {}));
                    case 21:
                        return e.next = 23, aw({
                            showCookiePopup: !1,
                            blockerActive: t,
                            skipAds: s
                        });
                    case 23:
                        kw.info("Preroll client done!"), e.next = 30;
                        break;
                    case 26:
                        e.prev = 26, e.t0 = e.catch(0), kw.error("... failed to start", e.t0), IS();
                    case 30:
                    case "end":
                        return e.stop()
                }
            }), e, null, [
                [0, 26]
            ])
        })));
        return function() {
            return e.apply(this, arguments)
        }
    }()()
}();